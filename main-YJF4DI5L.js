import{a as R,b as z,c as On,d as G0,e as z0,f,h as Kf,i as Qf,l as Y0,m as Jf}from"./chunk-PZ5UXJ7I.js";var gf=On(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});var hf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};pf.default=hf});var yf=On(ko=>{"use strict";var Dv=ko&&ko.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ko,"__esModule",{value:!0});var fx=Dv((Jf(),z0(Y0))),hx=Dv(gf()),mf=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=fx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var s,a,c,l;let u=null,d=null,p=null,h=o.status,_=o.statusText;if(o.ok){if(this.method!=="HEAD"){let q=yield o.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=q:d=JSON.parse(q))}let b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),E=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&E&&E.length>1&&(p=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,h=406,_="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let b=yield o.text();try{u=JSON.parse(b),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,_="OK")}catch{o.status===404&&b===""?(h=204,_="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,_="OK"),u&&this.shouldThrowOnError)throw new hx.default(u)}return{error:u,data:d,count:p,status:h,statusText:_}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};ko.default=mf});var _f=On(Oo=>{"use strict";var px=Oo&&Oo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oo,"__esModule",{value:!0});var gx=px(yf()),vf=class extends gx.default{select(e){let n=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Oo.default=vf});var hc=On(Ro=>{"use strict";var mx=Ro&&Ro.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ro,"__esModule",{value:!0});var yx=mx(_f()),wf=class extends yx.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ro.default=wf});var bf=On(Po=>{"use strict";var vx=Po&&Po.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Po,"__esModule",{value:!0});var Fo=vx(hc()),Df=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Fo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;let o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Fo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Fo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Fo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Po.default=Df});var Ev=On(Lo=>{"use strict";var bv=Lo&&Lo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lo,"__esModule",{value:!0});var _x=bv(bf()),wx=bv(hc()),Ef=class t{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){let n=new URL(`${this.url}/${e}`);return new _x.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new wx.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Lo.default=Ef});var Av=On(Se=>{"use strict";var oi=Se&&Se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;var Cv=oi(Ev());Se.PostgrestClient=Cv.default;var Iv=oi(bf());Se.PostgrestQueryBuilder=Iv.default;var Sv=oi(hc());Se.PostgrestFilterBuilder=Sv.default;var xv=oi(_f());Se.PostgrestTransformBuilder=xv.default;var Mv=oi(yf());Se.PostgrestBuilder=Mv.default;var Tv=oi(gf());Se.PostgrestError=Tv.default;Se.default={PostgrestClient:Cv.default,PostgrestQueryBuilder:Iv.default,PostgrestFilterBuilder:Sv.default,PostgrestTransformBuilder:xv.default,PostgrestBuilder:Mv.default,PostgrestError:Tv.default}});var $c;function rs(){return $c}function xt(t){let e=$c;return $c=t,e}var Xf=Symbol("NotFound");function Sr(t){return t===Xf||t?.name==="\u0275NotFound"}function cs(t,e){return Object.is(t,e)}var Me=null,is=!1,Uc=1,Z0=null,je=Symbol("SIGNAL");function F(t){let e=Me;return Me=t,e}function ls(){return Me}var Rn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function us(t){if(is)throw new Error("");if(Me===null)return;Me.consumerOnSignalRead(t);let e=Me.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Me.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Me.producers,n!==void 0&&n.producer===t)){Me.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Me&&(!r||Q0(i,Me)))return;let o=Tr(Me),s={producer:t,consumer:Me,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Me.producersTail=s,e!==void 0?e.nextProducer=s:Me.producers=s,o&&th(t,s)}function eh(){Uc++}function ds(t){if(!(Tr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Uc)){if(!t.producerMustRecompute(t)&&!Di(t)){as(t);return}t.producerRecomputeValue(t),as(t)}}function Hc(t){if(t.consumers===void 0)return;let e=is;is=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||K0(r)}}finally{is=e}}function Wc(){return Me?.consumerAllowSignalWrites!==!1}function K0(t){t.dirty=!0,Hc(t),t.consumerMarkedDirty?.(t)}function as(t){t.dirty=!1,t.lastCleanEpoch=Uc}function xr(t){return t&&(t.producersTail=void 0,t.recomputing=!0),F(t)}function wi(t,e){if(F(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(Tr(t))do r=qc(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function Di(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ds(n),r!==n.version))return!0}return!1}function Mr(t){if(Tr(t)){let e=t.producers;for(;e!==void 0;)e=qc(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function th(t,e){let n=t.consumersTail,r=Tr(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)th(i.producer,i)}function qc(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Tr(e)){let o=e.producers;for(;o!==void 0;)o=qc(o)}return n}function Tr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function fs(t){Z0?.(t)}function Q0(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function hs(t,e){let n=Object.create(J0);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(ds(n),us(n),n.value===_i)throw n.error;return n.value};return r[je]=n,fs(n),r}var os=Symbol("UNSET"),ss=Symbol("COMPUTING"),_i=Symbol("ERRORED"),J0=z(R({},Rn),{value:os,dirty:!0,error:null,equal:cs,kind:"computed",producerMustRecompute(t){return t.value===os||t.value===ss},producerRecomputeValue(t){if(t.value===ss)throw new Error("");let e=t.value;t.value=ss;let n=xr(t),r,i=!1;try{r=t.computation(),F(null),i=e!==os&&e!==_i&&r!==_i&&t.equal(e,r)}catch(o){r=_i,t.error=o}finally{wi(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function X0(){throw new Error}var nh=X0;function rh(t){nh(t)}function Gc(t){nh=t}var e_=null;function zc(t,e){let n=Object.create(oh);n.value=t,e!==void 0&&(n.equal=e);let r=()=>ih(n);return r[je]=n,fs(n),[r,s=>ps(n,s),s=>Yc(n,s)]}function ih(t){return us(t),t.value}function ps(t,e){Wc()||rh(t),t.equal(t.value,e)||(t.value=e,t_(t))}function Yc(t,e){Wc()||rh(t),ps(t,e(t.value))}var oh=z(R({},Rn),{equal:cs,value:void 0,kind:"signal"});function t_(t){t.version++,eh(),Hc(t),e_?.(t)}function Z(t){return typeof t=="function"}function gs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ms=gs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function bi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof ms?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sh(o)}catch(s){e=e??[],s instanceof ms?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ms(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&bi(n,e)}remove(e){let{_finalizers:n}=this;n&&bi(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Zc=ke.EMPTY;function ys(t){return t instanceof ke||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function sh(t){Z(t)?t():t.unsubscribe()}var gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ar={setTimeout(t,e,...n){let{delegate:r}=Ar;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ar;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vs(t){Ar.setTimeout(()=>{let{onUnhandledError:e}=gt;if(e)e(t);else throw t})}function Ei(){}var ah=Kc("C",void 0,void 0);function ch(t){return Kc("E",void 0,t)}function lh(t){return Kc("N",t,void 0)}function Kc(t,e,n){return{kind:t,value:e,error:n}}var Fn=null;function Nr(t){if(gt.useDeprecatedSynchronousErrorHandling){let e=!Fn;if(e&&(Fn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fn;if(Fn=null,n)throw r}}else t()}function uh(t){gt.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=t)}var Pn=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ys(e)&&e.add(this)):this.destination=i_}static create(e,n,r){return new kr(e,n,r)}next(e){this.isStopped?Jc(lh(e),this):this._next(e)}error(e){this.isStopped?Jc(ch(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jc(ah,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},n_=Function.prototype.bind;function Qc(t,e){return n_.call(t,e)}var Xc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_s(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_s(r)}else _s(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_s(n)}}},kr=class extends Pn{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qc(e.next,o),error:e.error&&Qc(e.error,o),complete:e.complete&&Qc(e.complete,o)}):i=e}this.destination=new Xc(i)}};function _s(t){gt.useDeprecatedSynchronousErrorHandling?uh(t):vs(t)}function r_(t){throw t}function Jc(t,e){let{onStoppedNotification:n}=gt;n&&Ar.setTimeout(()=>n(t,e))}var i_={closed:!0,next:Ei,error:r_,complete:Ei};var Or=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dh(t){return t}function fh(t){return t.length===0?dh:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var K=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=s_(n)?n:new kr(n,r,i);return Nr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hh(r),new r((i,o)=>{let s=new kr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Or](){return this}pipe(...n){return fh(n)(this)}toPromise(n){return n=hh(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function hh(t){var e;return(e=t??gt.Promise)!==null&&e!==void 0?e:Promise}function o_(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function s_(t){return t&&t instanceof Pn||o_(t)&&ys(t)}function a_(t){return Z(t?.lift)}function Qe(t){return e=>{if(a_(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(t,e,n,r,i){return new el(t,e,n,r,i)}var el=class extends Pn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ph=gs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ws(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ph}next(n){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zc:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,bi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new K;return n.source=this,n}}return t.create=(e,n)=>new ws(e,n),t})(),ws=class extends Oe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Zc}};var Ci=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gh=new K(t=>t.complete());function c_(t){return t[t.length-1]}function mh(t){return Z(c_(t))?t.pop():void 0}function vh(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function yh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ln(t){return this instanceof Ln?(this.v=t,this):new Ln(t)}function _h(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(_){return Promise.resolve(_).then(h,d)}}function a(h,_){r[h]&&(i[h]=function(w){return new Promise(function(b,E){o.push([h,w,b,E])>1||c(h,w)})},_&&(i[h]=_(i[h])))}function c(h,_){try{l(r[h](_))}catch(w){p(o[0][3],w)}}function l(h){h.value instanceof Ln?Promise.resolve(h.value.v).then(u,d):p(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function p(h,_){h(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function wh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yh=="function"?yh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ds=t=>t&&typeof t.length=="number"&&typeof t!="function";function bs(t){return Z(t?.then)}function Es(t){return Z(t[Or])}function Cs(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Is(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function l_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ss=l_();function xs(t){return Z(t?.[Ss])}function Ms(t){return _h(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ln(n.read());if(i)return yield Ln(void 0);yield yield Ln(r)}}finally{n.releaseLock()}})}function Ts(t){return Z(t?.getReader)}function Mt(t){if(t instanceof K)return t;if(t!=null){if(Es(t))return u_(t);if(Ds(t))return d_(t);if(bs(t))return f_(t);if(Cs(t))return Dh(t);if(xs(t))return h_(t);if(Ts(t))return p_(t)}throw Is(t)}function u_(t){return new K(e=>{let n=t[Or]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function d_(t){return new K(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function f_(t){return new K(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vs)})}function h_(t){return new K(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Dh(t){return new K(e=>{g_(t,e).catch(n=>e.error(n))})}function p_(t){return Dh(Ms(t))}function g_(t,e){var n,r,i,o;return vh(this,void 0,void 0,function*(){try{for(n=wh(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Tt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function As(t,e=0){return Qe((n,r)=>{n.subscribe(Ue(r,i=>Tt(r,t,()=>r.next(i),e),()=>Tt(r,t,()=>r.complete(),e),i=>Tt(r,t,()=>r.error(i),e)))})}function Ns(t,e=0){return Qe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bh(t,e){return Mt(t).pipe(Ns(e),As(e))}function Eh(t,e){return Mt(t).pipe(Ns(e),As(e))}function Ch(t,e){return new K(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ih(t,e){return new K(n=>{let r;return Tt(n,e,()=>{r=t[Ss](),Tt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function ks(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(n=>{Tt(n,e,()=>{let r=t[Symbol.asyncIterator]();Tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Sh(t,e){return ks(Ms(t),e)}function xh(t,e){if(t!=null){if(Es(t))return bh(t,e);if(Ds(t))return Ch(t,e);if(bs(t))return Eh(t,e);if(Cs(t))return ks(t,e);if(xs(t))return Ih(t,e);if(Ts(t))return Sh(t,e)}throw Is(t)}function tl(t,e){return e?xh(t,e):Mt(t)}function Ve(t,e){return Qe((n,r)=>{let i=0;n.subscribe(Ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:m_}=Array;function y_(t,e){return m_(e)?t(...e):t(e)}function Mh(t){return Ve(e=>y_(t,e))}var{isArray:v_}=Array,{getPrototypeOf:__,prototype:w_,keys:D_}=Object;function Th(t){if(t.length===1){let e=t[0];if(v_(e))return{args:e,keys:null};if(b_(e)){let n=D_(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function b_(t){return t&&typeof t=="object"&&__(t)===w_}function Ah(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nl(...t){let e=mh(t),{args:n,keys:r}=Th(t),i=new K(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Mt(n[u]).subscribe(Ue(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ah(r,a):a),o.complete())}))}});return e?i.pipe(Mh(e)):i}var Kt=new K(Ei);function Os(t,e){return Qe((n,r)=>{let i=0;n.subscribe(Ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function jn(t){return t<=0?()=>gh:Qe((e,n)=>{let r=0;e.subscribe(Ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rr(t,e){return Qe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ue(r,c=>{i?.unsubscribe();let l=0,u=o++;Mt(t(c,u)).subscribe(i=Ue(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Nh(t){let e=F(null);try{return t()}finally{F(e)}}var kh=z(R({},Rn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function Oh(t){if(t.dirty=!1,t.hasRun&&!Di(t))return;t.hasRun=!0;let e=xr(t);try{t.cleanup(),t.fn()}finally{wi(t,e)}}var js="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",x=class extends Error{code;constructor(e,n){super(gn(e,n)),this.code=e}};function E_(t){return`NG0${Math.abs(t)}`}function gn(t,e){return`${E_(t)}${e?": "+e:""}`}var Hn=globalThis;function X(t){for(let e in t)if(t[e]===X)return e;throw Error("")}function Ph(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function fn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(fn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Vs(t,e){return t?e?`${t} ${e}`:t:e||""}var C_=X({__forward_ref__:X});function We(t){return t.__forward_ref__=We,t.toString=function(){return fn(this())},t}function Ee(t){return hl(t)?t():t}function hl(t){return typeof t=="function"&&t.hasOwnProperty(C_)&&t.__forward_ref__===We}function Lh(t,e){t==null&&pl(e,t,null,"!=")}function pl(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bs(t){return I_(t,$s)}function I_(t,e){return t.hasOwnProperty(e)&&t[e]||null}function S_(t){let e=t?.[$s]??null;return e||null}function il(t){return t&&t.hasOwnProperty(Fs)?t[Fs]:null}var $s=X({\u0275prov:X}),Fs=X({\u0275inj:X}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gl(t){return t&&!!t.\u0275providers}var ml=X({\u0275cmp:X}),yl=X({\u0275dir:X}),vl=X({\u0275pipe:X});var xi=X({\u0275fac:X}),Wn=X({__NG_ELEMENT_ID__:X}),Rh=X({__NG_ENV_ID__:X});function Nt(t){return typeof t=="string"?t:t==null?"":String(t)}function Ps(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nt(t)}var _l=X({ngErrorCode:X}),jh=X({ngErrorMessage:X}),Si=X({ngTokenPath:X});function wl(t,e){return Vh("",-200,e)}function Us(t,e){throw new x(-201,!1)}function x_(t,e){t[Si]??=[];let n=t[Si],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Lh(e.provide,"Token with multi: true should have a provide property"),r=Ps(e.provide)):r=Ps(e),n[0]!==r&&t[Si].unshift(r)}function M_(t,e){let n=t[Si],r=t[_l],i=t[jh]||t.message;return t.message=A_(i,r,n,e),t}function Vh(t,e,n){let r=new x(e,t);return r[_l]=e,r[jh]=t,n&&(r[Si]=n),r}function T_(t){return t[_l]}function A_(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return gn(e,`${t}${o}${i}`)}var ol;function Bh(){return ol}function Re(t){let e=ol;return ol=t,e}function Dl(t,e,n){let r=Bs(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Us(t,"Injector")}var N_={},Vn=N_,k_="__NG_DI_FLAG__",sl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Bn(n)||0;try{return this.injector.get(e,r&8?null:Vn,r)}catch(i){if(Sr(i))return i;throw i}}};function O_(t,e=0){let n=rs();if(n===void 0)throw new x(-203,!1);if(n===null)return Dl(t,void 0,e);{let r=R_(e),i=n.retrieve(t,r);if(Sr(i)){if(r.optional)return null;throw i}return i}}function I(t,e=0){return(Bh()||O_)(Ee(t),e)}function C(t,e){return I(t,Bn(e))}function Bn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function R_(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function al(t){let e=[];for(let n=0;n<t.length;n++){let r=Ee(t[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=F_(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(I(i,o))}else e.push(I(r))}return e}function F_(t){return t[k_]}function hn(t,e){let n=t.hasOwnProperty(xi);return n?t[xi]:null}function Hs(t,e){t.forEach(n=>Array.isArray(n)?Hs(n,e):e(n))}function bl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ai(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $h(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Ws(t,e,n){let r=Pr(t,e);return r>=0?t[r|1]=n:(r=~r,$h(t,r,e,n)),r}function qs(t,e){let n=Pr(t,e);if(n>=0)return t[n|1]}function Pr(t,e){return P_(t,e,1)}function P_(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var mn={},Fe=[],qn=new $(""),El=new $("",-1),Cl=new $(""),Mi=class{get(e,n=Vn){if(n===Vn){let i=Vh("",-201);throw i.name="\u0275NotFound",i}return n}};function Gn(t){return t[ml]||null}function Il(t){return t[yl]||null}function Uh(t){return t[vl]||null}function Ni(t){return{\u0275providers:t}}function Hh(...t){return{\u0275providers:Sl(!0,t),\u0275fromNgModule:!0}}function Sl(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Hs(e,s=>{let a=s;Ls(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Wh(i,o),n}function Wh(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xl(i,o=>{e(o,r)})}}function Ls(t,e,n,r){if(t=Ee(t),!t)return!1;let i=null,o=il(t),s=!o&&Gn(t);if(!o&&!s){let c=t.ngModule;if(o=il(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ls(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Hs(o.imports,u=>{Ls(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Wh(l,e)}if(!a){let l=hn(i)||(()=>new i);e({provide:i,useFactory:l,deps:Fe},i),e({provide:Cl,useValue:i,multi:!0},i),e({provide:qn,useValue:()=>I(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;xl(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function xl(t,e){for(let n of t)gl(n)&&(n=n.\u0275providers),Array.isArray(n)?xl(n,e):e(n)}var L_=X({provide:String,useValue:X});function qh(t){return t!==null&&typeof t=="object"&&L_ in t}function j_(t){return!!(t&&t.useExisting)}function V_(t){return!!(t&&t.useFactory)}function $n(t){return typeof t=="function"}function Gh(t){return!!t.useClass}var ki=new $(""),Rs={},Fh={},rl;function Oi(){return rl===void 0&&(rl=new Mi),rl}var Je=class{},Un=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ll(e,s=>this.processProvider(s)),this.records.set(El,Fr(void 0,this)),i.has("environment")&&this.records.set(Je,Fr(void 0,this));let o=this.records.get(ki);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cl,Fe,{self:!0}))}retrieve(e,n){let r=Bn(n)||0;try{return this.get(e,Vn,r)}catch(i){if(Sr(i))return i;throw i}}destroy(){Ii(this),this._destroyed=!0;let e=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(e)}}onDestroy(e){return Ii(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ii(this);let n=xt(this),r=Re(void 0),i;try{return e()}finally{xt(n),Re(r)}}get(e,n=Vn,r){if(Ii(this),e.hasOwnProperty(Rh))return e[Rh](this);let i=Bn(r),o,s=xt(this),a=Re(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let u=W_(e)&&Bs(e);u&&this.injectableDefInScope(u)?l=Fr(cl(e),Rs):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?Oi():this.parent;return n=i&8&&n===Vn?null:n,c.get(e,n)}catch(c){let l=T_(c);throw l===-200||l===-201?new x(l,null):c}finally{Re(a),xt(s)}}resolveInjectorInitializers(){let e=F(null),n=xt(this),r=Re(void 0),i;try{let o=this.get(qn,Fe,{self:!0});for(let s of o)s()}finally{xt(n),Re(r),F(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(fn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ee(e);let n=$n(e)?e:Ee(e&&e.provide),r=$_(e);if(!$n(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fr(void 0,Rs,!0),i.factory=()=>al(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=F(null);try{if(n.value===Fh)throw wl(fn(e));return n.value===Rs&&(n.value=Fh,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&H_(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ee(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cl(t){let e=Bs(t),n=e!==null?e.factory:hn(t);if(n!==null)return n;if(t instanceof $)throw new x(204,!1);if(t instanceof Function)return B_(t);throw new x(204,!1)}function B_(t){if(t.length>0)throw new x(204,!1);let n=S_(t);return n!==null?()=>n.factory(t):()=>new t}function $_(t){if(qh(t))return Fr(void 0,t.useValue);{let e=Ml(t);return Fr(e,Rs)}}function Ml(t,e,n){let r;if($n(t)){let i=Ee(t);return hn(i)||cl(i)}else if(qh(t))r=()=>Ee(t.useValue);else if(V_(t))r=()=>t.useFactory(...al(t.deps||[]));else if(j_(t))r=(i,o)=>I(Ee(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ee(t&&(t.useClass||t.provide));if(U_(t))r=()=>new i(...al(t.deps));else return hn(i)||cl(i)}return r}function Ii(t){if(t.destroyed)throw new x(205,!1)}function Fr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function U_(t){return!!t.deps}function H_(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function W_(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ll(t,e){for(let n of t)Array.isArray(n)?ll(n,e):n&&gl(n)?ll(n.\u0275providers,e):e(n)}function Gs(t,e){let n;t instanceof Un?(Ii(t),n=t):n=new sl(t);let r,i=xt(n),o=Re(void 0);try{return e()}finally{xt(i),Re(o)}}function zh(){return Bh()!==void 0||rs()!=null}var mt=0,L=1,j=2,_e=3,et=4,tt=5,Lr=6,jr=7,he=8,zn=9,kt=10,re=11,Vr=12,Tl=13,Yn=14,qe=15,Zn=16,Kn=17,Qn=18,Ri=19,Al=20,Qt=21,zs=22,Xt=23,Ge=24,Jn=25,ge=26,Yh=1,Nl=6,yn=7,Fi=8,Pi=9,Ce=10;function Ot(t){return Array.isArray(t)&&typeof t[Yh]=="object"}function yt(t){return Array.isArray(t)&&t[Yh]===!0}function kl(t){return(t.flags&4)!==0}function vn(t){return t.componentOffset>-1}function Li(t){return(t.flags&1)===1}function Rt(t){return!!t.template}function Br(t){return(t[j]&512)!==0}function Xn(t){return(t[j]&256)===256}var Zh="svg",Kh="math";function nt(t){for(;Array.isArray(t);)t=t[mt];return t}function Ol(t,e){return nt(e[t])}function vt(t,e){return nt(e[t.index])}function ji(t,e){return t.data[e]}function Qh(t,e){return t[e]}function Rl(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function rt(t,e){let n=e[t];return Ot(n)?n:n[mt]}function Ys(t){return(t[j]&128)===128}function Jh(t){return yt(t[_e])}function it(t,e){return e==null?null:t[e]}function Fl(t){t[Kn]=0}function Pl(t){t[j]&1024||(t[j]|=1024,Ys(t)&&_n(t))}function Xh(t,e){for(;t>0;)e=e[Yn],t--;return e}function Vi(t){return!!(t[j]&9216||t[Ge]?.dirty)}function Zs(t){t[kt].changeDetectionScheduler?.notify(8),t[j]&64&&(t[j]|=1024),Vi(t)&&_n(t)}function _n(t){t[kt].changeDetectionScheduler?.notify(0);let e=pn(t);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!Ys(e)));)e=pn(e)}function Ll(t,e){if(Xn(t))throw new x(911,!1);t[Qt]===null&&(t[Qt]=[]),t[Qt].push(e)}function ep(t,e){if(t[Qt]===null)return;let n=t[Qt].indexOf(e);n!==-1&&t[Qt].splice(n,1)}function pn(t){let e=t[_e];return yt(e)?e[_e]:e}function tp(t){return t[jr]??=[]}function np(t){return t.cleanup??=[]}var W={lFrame:gp(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Bi=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(Bi||{}),q_=0,ul=!1;function rp(){return W.lFrame.elementDepthCount}function ip(){W.lFrame.elementDepthCount++}function jl(){W.lFrame.elementDepthCount--}function Vl(){return W.bindingsEnabled}function op(){return W.skipHydrationRootTNode!==null}function Bl(t){return W.skipHydrationRootTNode===t}function $l(){W.skipHydrationRootTNode=null}function H(){return W.lFrame.lView}function we(){return W.lFrame.tView}function M(t){return W.lFrame.contextLView=t,t[he]}function T(t){return W.lFrame.contextLView=null,t}function Te(){let t=Ul();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ul(){return W.lFrame.currentTNode}function sp(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $r(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function Hl(){return W.lFrame.isParent}function ap(){W.lFrame.isParent=!1}function Wl(t){pl("Must never be called in production mode"),q_=t}function ql(){return ul}function Ur(t){let e=ul;return ul=t,e}function cp(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gl(){return W.lFrame.bindingIndex}function lp(t){return W.lFrame.bindingIndex=t}function er(){return W.lFrame.bindingIndex++}function $i(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function up(){return W.lFrame.inI18n}function dp(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ks(e)}function fp(){return W.lFrame.currentDirectiveIndex}function Ks(t){W.lFrame.currentDirectiveIndex=t}function hp(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zl(t){W.lFrame.currentQueryIndex=t}function G_(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[tt]:null}function Yl(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=G_(o),i===null||(o=o[Yn],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=pp();return r.currentTNode=e,r.lView=t,!0}function Qs(t){let e=pp(),n=t[L];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pp(){let t=W.lFrame,e=t===null?null:t.child;return e===null?gp(t):e}function gp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mp(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Zl=mp;function Js(){let t=mp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yp(t){return(W.lFrame.contextLView=Xh(t,W.lFrame.contextLView))[he]}function _t(){return W.lFrame.selectedIndex}function wn(t){W.lFrame.selectedIndex=t}function Xs(){let t=W.lFrame;return ji(t.tView,t.selectedIndex)}function vp(){return W.lFrame.currentNamespace}var _p=!0;function ea(){return _p}function ta(t){_p=t}var z_={elements:void 0};function na(){return z_}function dl(t,e=null,n=null,r){let i=wp(t,e,n,r);return i.resolveInjectorInitializers(),i}function wp(t,e=null,n=null,r,i=new Set){let o=[n||Fe,Hh(t)];return r=r||(typeof t=="object"?void 0:fn(t)),new Un(o,e||Oi(),r||null,i)}var He=class t{static THROW_IF_NOT_FOUND=Vn;static NULL=new Mi;static create(e,n){if(Array.isArray(e))return dl({name:""},n,e,"");{let r=e.name??"";return dl({name:r},e.parent,e.providers,r)}}static \u0275prov=P({token:t,providedIn:"any",factory:()=>I(El)});static __NG_ELEMENT_ID__=-1},wt=new $(""),en=(()=>{class t{static __NG_ELEMENT_ID__=Y_;static __NG_ENV_ID__=n=>n}return t})(),Ti=class extends en{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Xn(this._lView)}onDestroy(e){let n=this._lView;return Ll(n,e),()=>ep(n,e)}};function Y_(){return new Ti(H())}var Xe=class{_console=console;handleError(e){this._console.error("ERROR",e)}},tn=new $("",{providedIn:"root",factory:()=>{let t=C(Je),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Xe),e.handleError(n))}}}),Dp={provide:qn,useValue:()=>void C(Xe),multi:!0};function Kl(t){return typeof t=="function"&&t[je]!==void 0}function G(t,e){let[n,r,i]=zc(t,e?.equal),o=n,s=o[je];return o.set=r,o.update=i,o.asReadonly=Ql.bind(o),o}function Ql(){let t=this[je];if(t.readonlyFn===void 0){let e=()=>this();e[je]=t,t.readonlyFn=e}return t.readonlyFn}function Jl(t){return Kl(t)&&typeof t.set=="function"}var At=class{},ra=new $("",{providedIn:"root",factory:()=>!1});var Xl=new $(""),eu=new $("");var Hr=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Z_}return t})();function Z_(){return new Hr(H(),Te())}var tr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ci(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new K(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})();function nr(...t){}var Ui=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>new fl})}return t})(),fl=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ji(t){return{toString:t}.toString()}function ow(t){return typeof t=="function"}var da=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Xi=(()=>{let t=()=>tg;return t.ngInherit=!0,t})();function tg(t){return t.type.prototype.ngOnChanges&&(t.setInput=aw),sw}function sw(){let t=rg(this),e=t?.current;if(e){let n=t.previous;if(n===mn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function aw(t,e,n,r,i){let o=this.declaredInputs[r],s=rg(t)||cw(t,{previous:mn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new da(l&&l.currentValue,n,c===mn),eg(t,e,i,n)}var ng="__ngSimpleChanges__";function rg(t){return t[ng]||null}function cw(t,e){return t[ng]=e}var bp=[];var Q=function(t,e=null,n){for(let r=0;r<bp.length;r++){let i=bp[r];i(t,e,n)}};function lw(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tg(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ig(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function ca(t,e,n){og(t,e,3,n)}function la(t,e,n,r){(t[j]&3)===n&&og(t,e,n,r)}function tu(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function og(t,e,n,r){let i=r!==void 0?t[Kn]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Kn]+=65536),(a<o||o==-1)&&(uw(t,n,e,c),t[Kn]=(t[Kn]&4294901760)+c+2),c++}function Ep(t,e){Q(4,t,e);let n=F(null);try{e.call(t)}finally{F(n),Q(5,t,e)}}function uw(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[j]>>14<t[Kn]>>16&&(t[j]&3)===e&&(t[j]+=16384,Ep(a,o)):Ep(a,o)}var qr=-1,ir=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function dw(t){return(t.flags&8)!==0}function fw(t){return(t.flags&16)!==0}function hw(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];gw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function pw(t){return t===3||t===4||t===6}function gw(t){return t.charCodeAt(0)===64}function Gr(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Cp(t,n,i,null,e[++r]):Cp(t,n,i,null,null))}}return t}function Cp(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function sg(t){return t!==qr}function fa(t){return t&32767}function mw(t){return t>>16}function ha(t,e){let n=mw(t),r=e;for(;n>0;)r=r[Yn],n--;return r}var fu=!0;function pa(t){let e=fu;return fu=t,e}var yw=256,ag=yw-1,cg=5,vw=0,Ft={};function _w(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wn)&&(r=n[Wn]),r==null&&(r=n[Wn]=vw++);let i=r&ag,o=1<<i;e.data[t+(i>>cg)]|=o}function ga(t,e){let n=lg(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,nu(r.data,t),nu(e,null),nu(r.blueprint,null));let i=Uu(t,e),o=t.injectorIndex;if(sg(i)){let s=fa(i),a=ha(i,e),c=a[L].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function nu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=pg(i),r===null)return qr;if(n++,i=i[Yn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qr}function hu(t,e,n){_w(t,e,n)}function ug(t,e,n){if(n&8||t!==void 0)return t;Us(e,"NodeInjector")}function dg(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[zn],o=Re(void 0);try{return i?i.get(e,r,n&8):Dl(e,r,n&8)}finally{Re(o)}}return ug(r,e,n)}function fg(t,e,n,r=0,i){if(t!==null){if(e[j]&2048&&!(r&2)){let s=Cw(t,e,n,r,Ft);if(s!==Ft)return s}let o=hg(t,e,n,r,Ft);if(o!==Ft)return o}return dg(e,n,r,i)}function hg(t,e,n,r,i){let o=bw(n);if(typeof o=="function"){if(!Yl(e,t,r))return r&1?ug(i,n,r):dg(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Us(n);else return s}finally{Zl()}}else if(typeof o=="number"){let s=null,a=lg(t,e),c=qr,l=r&1?e[qe][tt]:null;for((a===-1||r&4)&&(c=a===-1?Uu(t,e):e[a+8],c===qr||!Sp(r,!1)?a=-1:(s=e[L],a=fa(c),e=ha(c,e)));a!==-1;){let u=e[L];if(Ip(o,a,u.data)){let d=ww(a,e,n,s,r,l);if(d!==Ft)return d}c=e[a+8],c!==qr&&Sp(r,e[L].data[a+8]===l)&&Ip(o,a,e)?(s=u,a=fa(c),e=ha(c,e)):a=-1}}return i}function ww(t,e,n,r,i,o){let s=e[L],a=s.data[t+8],c=r==null?vn(a)&&fu:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Dw(a,s,n,c,l);return u!==null?ma(e,s,u,a,i):Ft}function Dw(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let h=d;h<p;h++){let _=s[h];if(h<c&&n===_||h>=c&&_.type===n)return h}if(i){let h=s[c];if(h&&Rt(h)&&h.type===n)return c}return null}function ma(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ir){let a=o;if(a.resolving){let h=Ps(s[n]);throw wl(h)}let c=pa(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Re(a.injectImpl):null,p=Yl(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&lw(n,s[n],e)}finally{d!==null&&Re(d),pa(c),a.resolving=!1,Zl()}}return o}function bw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wn)?t[Wn]:void 0;return typeof e=="number"?e>=0?e&ag:Ew:e}function Ip(t,e,n){let r=1<<t;return!!(n[e+(t>>cg)]&r)}function Sp(t,e){return!(t&2)&&!(t&1&&e)}var rr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fg(this._tNode,this._lView,e,Bn(r),n)}};function Ew(){return new rr(Te(),H())}function bn(t){return Ji(()=>{let e=t.prototype.constructor,n=e[xi]||pu(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xi]||pu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pu(t){return hl(t)?()=>{let e=pu(Ee(t));return e&&e()}:hn(t)}function Cw(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[j]&2048&&!Br(s);){let a=hg(o,s,n,r|2,Ft);if(a!==Ft)return a;let c=o.parent;if(!c){let l=s[Al];if(l){let u=l.get(n,Ft,r);if(u!==Ft)return u}c=pg(s),s=s[Yn]}o=c}return i}function pg(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[tt]:null}function Iw(){return Ma(Te(),H())}function Ma(t,e){return new rn(vt(t,e))}var rn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Iw}return t})();function gg(t){return(t.flags&128)===128}var Hu=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Hu||{}),mg=new Map,Sw=0;function xw(){return Sw++}function Mw(t){mg.set(t[Ri],t)}function gu(t){mg.delete(t[Ri])}var xp="__ngContext__";function zr(t,e){Ot(e)?(t[xp]=e[Ri],Mw(e)):t[xp]=e}function yg(t){return _g(t[Vr])}function vg(t){return _g(t[et])}function _g(t){for(;t!==null&&!yt(t);)t=t[et];return t}var mu;function Wu(t){mu=t}function qu(){if(mu!==void 0)return mu;if(typeof document<"u")return document;throw new x(210,!1)}var Ta=new $("",{providedIn:"root",factory:()=>Tw}),Tw="ng",Aa=new $(""),Zr=new $("",{providedIn:"platform",factory:()=>"unknown"});var Na=new $("",{providedIn:"root",factory:()=>qu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Aw="h",Nw="b";var wg="r";var Dg="di";var bg=!1,Eg=new $("",{providedIn:"root",factory:()=>bg});var kw=(t,e,n,r)=>{};function Ow(t,e,n,r){kw(t,e,n,r)}function Gu(t){return(t.flags&32)===32}var Rw=()=>null;function Cg(t,e,n=!1){return Rw(t,e,n)}function Ig(t,e){let n=t.contentQueries;if(n!==null){let r=F(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];zl(o),a.contentQueries(2,e[s],s)}}}finally{F(r)}}}function yu(t,e,n){zl(0);let r=F(null);try{e(t,n)}finally{F(r)}}function Sg(t,e,n){if(kl(e)){let r=F(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var nn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(nn||{}),ia;function Fw(){if(ia===void 0&&(ia=null,Hn.trustedTypes))try{ia=Hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ia}function ka(t){return Fw()?.createHTML(t)||t}var oa;function Pw(){if(oa===void 0&&(oa=null,Hn.trustedTypes))try{oa=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return oa}function Mp(t){return Pw()?.createHTML(t)||t}var ya=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${js})`}};function Oa(t){return t instanceof ya?t.changingThisBreaksApplicationSecurity:t}function xg(t,e){let n=Mg(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${js})`)}return n===e}function Mg(t){return t instanceof ya&&t.getTypeName()||null}function Lw(t){let e=new _u(t);return jw()?new vu(e):e}var vu=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(ka(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},_u=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=ka(e),n}};function jw(){try{return!!new window.DOMParser().parseFromString(ka(""),"text/html")}catch{return!1}}var Vw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Tg(t){return t=String(t),t.match(Vw)?t:"unsafe:"+t}function on(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function eo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Ag=on("area,br,col,hr,img,wbr"),Ng=on("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kg=on("rp,rt"),Bw=eo(kg,Ng),$w=eo(Ng,on("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uw=eo(kg,on("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tp=eo(Ag,$w,Uw,Bw),Og=on("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hw=on("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ww=on("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),qw=eo(Og,Hw,Ww),Gw=on("script,style,template"),wu=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Zw(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=Yw(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Ap(e).toLowerCase();if(!Tp.hasOwnProperty(n))return this.sanitizedSomething=!0,!Gw.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!qw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Og[a]&&(c=Tg(c)),this.buf.push(" ",s,'="',Np(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=Ap(e).toLowerCase();Tp.hasOwnProperty(n)&&!Ag.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Np(e))}};function zw(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Yw(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Rg(e);return e}function Zw(t){let e=t.firstChild;if(e&&zw(t,e))throw Rg(e);return e}function Ap(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Rg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Kw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qw=/([^\#-~ |!])/g;function Np(t){return t.replace(/&/g,"&amp;").replace(Kw,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Qw,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var sa;function Fg(t,e){let n=null;try{sa=sa||Lw(t);let r=e?String(e):"";n=sa.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=sa.getInertBodyElement(r)}while(r!==o);let a=new wu().sanitizeChildren(kp(n)||n);return ka(a)}finally{if(n){let r=kp(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function kp(t){return"content"in t&&Jw(t)?t.content:null}function Jw(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var zu=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(zu||{});function Yu(t){let e=Xw();return e?Mp(e.sanitize(zu.HTML,t)||""):xg(t,"HTML")?Mp(Oa(t)):Fg(qu(),Nt(t))}function Xw(){let t=H();return t&&t[kt].sanitizer}function eD(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Pg="ng-template";function tD(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&eD(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zu(t){return t.type===4&&t.value!==Pg}function nD(t,e,n){let r=t.type===4&&!n?Pg:t.value;return e===r}function rD(t,e,n){let r=4,i=t.attrs,o=i!==null?sD(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Dt(r)&&!Dt(c))return!1;if(s&&Dt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!nD(t,c,n)||c===""&&e.length===1){if(Dt(r))return!1;s=!0}}else if(r&8){if(i===null||!tD(t,i,c,n)){if(Dt(r))return!1;s=!0}}else{let l=e[++a],u=iD(c,i,Zu(t),n);if(u===-1){if(Dt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Dt(r))return!1;s=!0}}}}return Dt(r)||s}function Dt(t){return(t&1)===0}function iD(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return aD(e,t)}function oD(t,e,n=!1){for(let r=0;r<e.length;r++)if(rD(t,e[r],n))return!0;return!1}function sD(t){for(let e=0;e<t.length;e++){let n=t[e];if(pw(n))return e}return t.length}function aD(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Op(t,e){return t?":not("+e.trim()+")":e}function cD(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dt(s)&&(e+=Op(o,i),i=""),r=s,o=o||!Dt(r);n++}return i!==""&&(e+=Op(o,i)),e}function lD(t){return t.map(cD).join(",")}function uD(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ne={};function dD(t,e){return t.createText(e)}function fD(t,e,n){t.setValue(e,n)}function Lg(t,e,n){return t.createElement(e,n)}function va(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jg(t,e,n){t.appendChild(e,n)}function Rp(t,e,n,r,i){r!==null?va(t,e,n,r,i):jg(t,e,n)}function Vg(t,e,n){t.removeChild(null,e,n)}function hD(t,e,n){t.setAttribute(e,"style",n)}function pD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Bg(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&hw(t,e,r),i!==null&&pD(t,e,i),o!==null&&hD(t,e,o)}function Ku(t,e,n,r,i,o,s,a,c,l,u){let d=ge+r,p=d+i,h=gD(d,p),_=typeof l=="function"?l():l;return h[L]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function gD(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ne);return n}function mD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ku(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qu(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[mt]=i,d[j]=r|4|128|8|64|1024,(l!==null||t&&t[j]&2048)&&(d[j]|=2048),Fl(d),d[_e]=d[Yn]=t,d[he]=n,d[kt]=s||t&&t[kt],d[re]=a||t&&t[re],d[zn]=c||t&&t[zn]||null,d[tt]=o,d[Ri]=xw(),d[Lr]=u,d[Al]=l,d[qe]=e.type==2?t[qe]:d,d}function yD(t,e,n){let r=vt(e,t),i=mD(n),o=t[kt].rendererFactory,s=Ju(t,Qu(t,i,null,$g(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function $g(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ug(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ju(t,e){return t[Vr]?t[Tl][et]=e:t[Vr]=e,t[Tl]=e,e}function v(t=1){Hg(we(),H(),_t()+t,!1)}function Hg(t,e,n,r){if(!r)if((e[j]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ca(e,o,n)}else{let o=t.preOrderHooks;o!==null&&la(e,o,0,n)}wn(n)}var Ra=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ra||{});function Du(t,e,n,r){let i=F(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Ra.SignalBased)!==0&&(c=e[o][je]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):eg(e,c,o,r)}finally{F(i)}}var Pt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Pt||{}),vD;function Xu(t,e){return vD(t,e)}function Wr(t,e,n,r,i){if(r!=null){let o,s=!1;yt(r)?o=r:Ot(r)&&(s=!0,r=r[mt]);let a=nt(r);t===0&&n!==null?i==null?jg(e,n,a):va(e,n,a,i||null,!0):t===1&&n!==null?va(e,n,a,i||null,!0):t===2?Vg(e,a,s):t===3&&e.destroyNode(a),o!=null&&AD(e,t,o,n,i)}}function _D(t,e){Wg(t,e),e[mt]=null,e[tt]=null}function wD(t,e,n,r,i,o){r[mt]=i,r[tt]=e,Pa(t,r,n,1,i,o)}function Wg(t,e){e[kt].changeDetectionScheduler?.notify(9),Pa(t,e,e[re],2,null,null)}function DD(t){let e=t[Vr];if(!e)return ru(t[L],t);for(;e;){let n=null;if(Ot(e))n=e[Vr];else{let r=e[Ce];r&&(n=r)}if(!n){for(;e&&!e[et]&&e!==t;)Ot(e)&&ru(e[L],e),e=e[_e];e===null&&(e=t),Ot(e)&&ru(e[L],e),n=e&&e[et]}e=n}}function ed(t,e){let n=t[Pi],r=n.indexOf(e);n.splice(r,1)}function Fa(t,e){if(Xn(e))return;let n=e[re];n.destroyNode&&Pa(t,e,n,3,null,null),DD(e)}function ru(t,e){if(Xn(e))return;let n=F(null);try{e[j]&=-129,e[j]|=256,e[Ge]&&Mr(e[Ge]),ED(t,e),bD(t,e),e[L].type===1&&e[re].destroy();let r=e[Zn];if(r!==null&&yt(e[_e])){r!==e[_e]&&ed(r,e);let i=e[Qn];i!==null&&i.detachView(t)}gu(e)}finally{F(n)}}function bD(t,e){let n=t.cleanup,r=e[jr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[jr]=null);let i=e[Qt];if(i!==null){e[Qt]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Xt];if(o!==null){e[Xt]=null;for(let s of o)s.destroy()}}function ED(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ir)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Q(4,a,c);try{c.call(a)}finally{Q(5,a,c)}}else{Q(4,i,o);try{o.call(i)}finally{Q(5,i,o)}}}}}function CD(t,e,n){return ID(t,e.parent,n)}function ID(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[mt];if(vn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===nn.None||i===nn.Emulated)return null}return vt(r,n)}function SD(t,e,n){return MD(t,e,n)}function xD(t,e,n){return t.type&40?vt(t,n):null}var MD=xD,Fp;function td(t,e,n,r){let i=CD(t,r,e),o=e[re],s=r.parent||e[tt],a=SD(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Rp(o,i,n[c],a,!1);else Rp(o,i,n,a,!1);Fp!==void 0&&Fp(o,r,e,n,i)}function Hi(t,e){if(e!==null){let n=e.type;if(n&3)return vt(e,t);if(n&4)return bu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hi(t,r);{let i=t[e.index];return yt(i)?bu(-1,i):nt(i)}}else{if(n&128)return Hi(t,e.next);if(n&32)return Xu(e,t)()||nt(t[e.index]);{let r=qg(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=pn(t[qe]);return Hi(i,r)}else return Hi(t,e.next)}}}return null}function qg(t,e){if(e!==null){let r=t[qe][tt],i=e.projection;return r.projection[i]}return null}function bu(t,e){let n=Ce+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return Hi(r,i)}return e[yn]}function nd(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&zr(nt(a),r),n.flags|=2),!Gu(n))if(c&8)nd(t,e,n.child,r,i,o,!1),Wr(e,t,i,a,o);else if(c&32){let l=Xu(n,r),u;for(;u=l();)Wr(e,t,i,u,o);Wr(e,t,i,a,o)}else c&16?TD(t,e,r,n,i,o):Wr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Pa(t,e,n,r,i,o){nd(n,r,t.firstChild,e,i,o,!1)}function TD(t,e,n,r,i,o){let s=n[qe],c=s[tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Wr(e,t,i,u,o)}else{let l=c,u=s[_e];gg(r)&&(l.flags|=128),nd(t,e,l,u,i,o,!0)}}function AD(t,e,n,r,i){let o=n[yn],s=nt(n);o!==s&&Wr(e,t,r,o,i);for(let a=Ce;a<n.length;a++){let c=n[a];Pa(c[L],c,t,e,r,o)}}function ND(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Pt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pt.Important),t.setStyle(n,r,i,o))}}function Gg(t,e,n,r,i){let o=_t(),s=r&2;try{wn(-1),s&&e.length>ge&&Hg(t,e,ge,!1),Q(s?2:0,i,n),n(r,i)}finally{wn(o),Q(s?3:1,i,n)}}function rd(t,e,n){jD(t,e,n),(n.flags&64)===64&&VD(t,e,n)}function La(t,e,n=vt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function kD(t,e,n,r){let o=r.get(Eg,bg)||n===nn.ShadowDom,s=t.selectRootElement(e,o);return OD(s),s}function OD(t){RD(t)}var RD=()=>null;function FD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zg(t,e,n,r,i,o){let s=e[L];if(id(t,s,e,n,r)){vn(t)&&LD(e,t.index);return}t.type&3&&(n=FD(n)),PD(t,e,n,r,i,o)}function PD(t,e,n,r,i,o){if(t.type&3){let s=vt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function LD(t,e){let n=rt(e,t);n[j]&16||(n[j]|=64)}function jD(t,e,n){let r=n.directiveStart,i=n.directiveEnd;vn(n)&&yD(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ga(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=ma(e,t,s,n);if(zr(c,e),o!==null&&HD(e,s-r,c,a,n,o),Rt(a)){let l=rt(n.index,e);l[he]=ma(e,t,s,n)}}}function VD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=fp();try{wn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ks(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&BD(c,l)}}finally{wn(-1),Ks(s)}}function BD(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Yg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];oD(e,o.selectors,!1)&&(r??=[],Rt(o)?r.unshift(o):r.push(o))}return r}function $D(t,e,n,r,i,o){let s=vt(t,e);UD(e[re],s,o,t.value,n,r,i)}function UD(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Nt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function HD(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Du(r,n,c,l)}}function Zg(t,e,n,r,i){let o=ge+n,s=e[L],a=i(s,e,t,r,n);e[o]=a,$r(t,!0);let c=t.type===2;return c?(Bg(e[re],a,t),(rp()===0||Li(t))&&zr(a,e),ip()):zr(a,e),ea()&&(!c||!Gu(t))&&td(s,e,a,t),t}function Kg(t){let e=t;return Hl()?ap():(e=e.parent,$r(e,!1)),e}function WD(t,e){let n=t[zn];if(!n)return;let r;try{r=n.get(tn,null)}catch{r=null}r?.(e)}function id(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];Du(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];Du(u,l,r,i),a=!0}return a}function qD(t,e){let n=rt(e,t),r=n[L];GD(r,n);let i=n[mt];i!==null&&n[Lr]===null&&(n[Lr]=Cg(i,n[zn])),Q(18),od(r,n,n[he]),Q(19,n[he])}function GD(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function od(t,e,n){Qs(e);try{let r=t.viewQuery;r!==null&&yu(1,r,n);let i=t.template;i!==null&&Gg(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qn]?.finishViewCreation(t),t.staticContentQueries&&Ig(t,e),t.staticViewQueries&&yu(2,t.viewQuery,n);let o=t.components;o!==null&&zD(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,Js()}}function zD(t,e){for(let n=0;n<e.length;n++)qD(t,e[n])}function ja(t,e,n,r){let i=F(null);try{let o=e.tView,a=t[j]&4096?4096:16,c=Qu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Zn]=l;let u=t[Qn];return u!==null&&(c[Qn]=u.createEmbeddedView(o)),od(o,c,n),c}finally{F(i)}}function qi(t,e){return!e||e.firstChild===null||gg(t)}var Pp=!1,YD=new $("");function Gi(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(nt(o)),yt(o)&&Qg(o,r);let s=n.type;if(s&8)Gi(t,e,n.child,r);else if(s&32){let a=Xu(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=qg(e,n);if(Array.isArray(a))r.push(...a);else{let c=pn(e[qe]);Gi(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Qg(t,e){for(let n=Ce;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&Gi(r[L],r,i,e)}t[yn]!==t[mt]&&e.push(t[yn])}function Jg(t){if(t[Jn]!==null){for(let e of t[Jn])e.impl.addSequence(e);t[Jn].length=0}}var Xg=[];function ZD(t){return t[Ge]??KD(t)}function KD(t){let e=Xg.pop()??Object.create(JD);return e.lView=t,e}function QD(t){t.lView[Ge]!==t&&(t.lView=null,Xg.push(t))}var JD=z(R({},Rn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{_n(t.lView)},consumerOnSignalRead(){this.lView[Ge]=this}});function XD(t){let e=t[Ge]??Object.create(eb);return e.lView=t,e}var eb=z(R({},Rn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=pn(t.lView);for(;e&&!em(e[L]);)e=pn(e);e&&Pl(e)},consumerOnSignalRead(){this.lView[Ge]=this}});function em(t){return t.type!==2}function tm(t){if(t[Xt]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Xt])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[j]&8192)}}var tb=100;function sd(t,e=0){let r=t[kt].rendererFactory,i=!1;i||r.begin?.();try{nb(t,e)}finally{i||r.end?.()}}function nb(t,e){let n=ql();try{Ur(!0),Eu(t,e);let r=0;for(;Vi(t);){if(r===tb)throw new x(103,!1);r++,Eu(t,1)}}finally{Ur(n)}}function nm(t,e){Wl(e?Bi.Exhaustive:Bi.OnlyDirtyViews);try{sd(t)}finally{Wl(Bi.Off)}}function rb(t,e,n,r){if(Xn(e))return;let i=e[j],o=!1,s=!1;Qs(e);let a=!0,c=null,l=null;o||(em(t)?(l=ZD(e),c=xr(l)):ls()===null?(a=!1,l=XD(e),c=xr(l)):e[Ge]&&(Mr(e[Ge]),e[Ge]=null));try{Fl(e),lp(t.bindingStartIndex),n!==null&&Gg(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&ca(e,h,null)}else{let h=t.preOrderHooks;h!==null&&la(e,h,0,null),tu(e,0)}if(s||ib(e),tm(e),rm(e,0),t.contentQueries!==null&&Ig(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&ca(e,h)}else{let h=t.contentHooks;h!==null&&la(e,h,1),tu(e,1)}sb(t,e);let d=t.components;d!==null&&om(e,d,0);let p=t.viewQuery;if(p!==null&&yu(2,p,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&ca(e,h)}else{let h=t.viewHooks;h!==null&&la(e,h,2),tu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zs]){for(let h of e[zs])h();e[zs]=null}o||(Jg(e),e[j]&=-73)}catch(u){throw o||_n(e),u}finally{l!==null&&(wi(l,c),a&&QD(l)),Js()}}function rm(t,e){for(let n=yg(t);n!==null;n=vg(n))for(let r=Ce;r<n.length;r++){let i=n[r];im(i,e)}}function ib(t){for(let e=yg(t);e!==null;e=vg(e)){if(!(e[j]&2))continue;let n=e[Pi];for(let r=0;r<n.length;r++){let i=n[r];Pl(i)}}}function ob(t,e,n){Q(18);let r=rt(e,t);im(r,n),Q(19,r[he])}function im(t,e){Ys(t)&&Eu(t,e)}function Eu(t,e){let r=t[L],i=t[j],o=t[Ge],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Di(o)),s||=!1,o&&(o.dirty=!1),t[j]&=-9217,s)rb(r,t,r.template,t[he]);else if(i&8192){let a=F(null);try{tm(t),rm(t,1);let c=r.components;c!==null&&om(t,c,1),Jg(t)}finally{F(a)}}}function om(t,e,n){for(let r=0;r<e.length;r++)ob(t,e[r],n)}function sb(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)wn(~i);else{let o=i,s=n[++r],a=n[++r];dp(s,o);let c=e[o];Q(24,c),a(2,c),Q(25,c)}}}finally{wn(-1)}}function ad(t,e){let n=ql()?64:1088;for(t[kt].changeDetectionScheduler?.notify(e);t;){t[j]|=n;let r=pn(t);if(Br(t)&&!r)return t;t=r}return null}function sm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function am(t,e){let n=Ce+e;if(n<t.length)return t[n]}function Va(t,e,n,r=!0){let i=e[L];if(ab(i,e,t,n),r){let s=bu(n,t),a=e[re],c=a.parentNode(t[yn]);c!==null&&wD(i,t[tt],a,e,c,s)}let o=e[Lr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cm(t,e){let n=zi(t,e);return n!==void 0&&Fa(n[L],n),n}function zi(t,e){if(t.length<=Ce)return;let n=Ce+e,r=t[n];if(r){let i=r[Zn];i!==null&&i!==t&&ed(i,r),e>0&&(t[n-1][et]=r[et]);let o=Ai(t,Ce+e);_D(r[L],r);let s=o[Qn];s!==null&&s.detachView(o[L]),r[_e]=null,r[et]=null,r[j]&=-129}return r}function ab(t,e,n,r){let i=Ce+r,o=n.length;r>0&&(n[i-1][et]=e),r<o-Ce?(e[et]=n[i],bl(n,Ce+r,e)):(n.push(e),e[et]=null),e[_e]=n;let s=e[Zn];s!==null&&n!==s&&lm(s,e);let a=e[Qn];a!==null&&a.insertView(t),Zs(e),e[j]|=128}function lm(t,e){let n=t[Pi],r=e[_e];if(Ot(r))t[j]|=2;else{let i=r[_e][qe];e[qe]!==i&&(t[j]|=2)}n===null?t[Pi]=[e]:n.push(e)}var Dn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[L];return Gi(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[he]}set context(e){this._lView[he]=e}get destroyed(){return Xn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_e];if(yt(e)){let n=e[Fi],r=n?n.indexOf(this):-1;r>-1&&(zi(e,r),Ai(n,r))}this._attachedToViewContainer=!1}Fa(this._lView[L],this._lView)}onDestroy(e){Ll(this._lView,e)}markForCheck(){ad(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[j]&=-129}reattach(){Zs(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,sd(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Br(this._lView),n=this._lView[Zn];n!==null&&!e&&ed(n,this._lView),Wg(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let n=Br(this._lView),r=this._lView[Zn];r!==null&&!n&&lm(r,this._lView),Zs(this._lView)}};var to=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=cb;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=ja(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Dn(o)}}return t})();function cb(){return lb(Te(),H())}function lb(t,e){return t.type&4?new to(e,t,Ma(t,e)):null}function no(t,e,n,r,i){let o=t.data[e];if(o===null)o=ub(t,e,n,r,i),up()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=sp();o.injectorIndex=s===null?-1:s.injectorIndex}return $r(o,!0),o}function ub(t,e,n,r,i){let o=Ul(),s=Hl(),a=s?o:o&&o.parent,c=t.data[e]=fb(t,a,n,e,r,i);return db(t,c,o,s),c}function db(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function fb(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return op()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var hO=new RegExp(`^(\\d+)*(${Nw}|${Aw})*(.*)`);function hb(t){let e=t[Nl]??[],r=t[_e][re],i=[];for(let o of e)o.data[Dg]!==void 0?i.push(o):pb(o,r);t[Nl]=i}function pb(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[wg];for(;n<i;){let o=r.nextSibling;Vg(e,r,!1),r=o,n++}}}var gb=()=>null,mb=()=>null;function Cu(t,e){return gb(t,e)}function um(t,e,n){return mb(t,e,n)}var dm=class{},Ba=class{},Iu=class{resolveComponentFactory(e){throw new x(917,!1)}},$a=class{static NULL=new Iu},or=class{},En=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>yb()}return t})();function yb(){let t=H(),e=Te(),n=rt(e.index,t);return(Ot(n)?n:t)[re]}var fm=(()=>{class t{static \u0275prov=P({token:t,providedIn:"root",factory:()=>null})}return t})();var ua={},Su=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,ua,r);return i!==ua||n===ua?i:this.parentInjector.get(e,n,r)}};function _a(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Vs(i,a);else if(o==2){let c=a,l=e[++s];r=Vs(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function k(t,e=0){let n=H();if(n===null)return I(t,e);let r=Te();return fg(r,n,Ee(t),e)}function hm(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}wb(t,e,n,a,o,c,l)}o!==null&&r!==null&&vb(n,r,o)}function vb(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}function _b(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wb(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let h=r[p];!c&&Rt(h)&&(c=!0,_b(t,n,p)),hu(ga(n,e),t,h.type)}Sb(n,t.data.length,a);for(let p=0;p<a;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=Ug(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let h=r[p];if(n.mergedAttrs=Gr(n.mergedAttrs,h.hostAttrs),bb(t,n,e,d,h),Ib(d,h,i),s!==null&&s.has(h)){let[w,b]=s.get(h);n.directiveToIndex.set(h.type,[d,w+n.directiveStart,b+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let _=h.type.prototype;!l&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}Db(t,n,o)}function Db(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Lp(0,e,i,r),Lp(1,e,i,r),Vp(e,r,!1);else{let o=n.get(i);jp(0,e,o,r),jp(1,e,o,r),Vp(e,r,!0)}}}function Lp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),pm(e,o)}}function jp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),pm(e,s)}}function pm(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Vp(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Zu(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function bb(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=hn(i.type,!0)),s=new ir(o,Rt(i),k,null);t.blueprint[r]=s,n[r]=s,Eb(t,e,r,Ug(t,n,i.hostVars,Ne),i)}function Eb(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Cb(s)!=a&&s.push(a),s.push(n,r,o)}}function Cb(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Ib(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Rt(e)&&(n[""]=t)}}function Sb(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gm(t,e,n,r,i,o,s,a){let c=e[L],l=c.consts,u=it(l,s),d=no(c,t,n,r,u);return o&&hm(c,e,d,it(l,a),i),d.mergedAttrs=Gr(d.mergedAttrs,d.attrs),d.attrs!==null&&_a(d,d.attrs,!1),d.mergedAttrs!==null&&_a(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function mm(t,e){ig(t,e),kl(e)&&t.queries.elementEnd(e)}function xb(t,e,n,r,i,o){let s=e.consts,a=it(s,i),c=no(e,t,n,r,a);if(c.mergedAttrs=Gr(c.mergedAttrs,c.attrs),o!=null){let l=it(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&_a(c,c.attrs,!1),c.mergedAttrs!==null&&_a(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function cd(t){return vm(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ym(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function vm(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Mb(t,e,n){return t[e]=n}function ot(t,e,n){if(n===Ne)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function _m(t,e,n,r){let i=ot(t,e,n);return ot(t,e+1,r)||i}function Tb(t,e,n,r,i){let o=_m(t,e,n,r);return ot(t,e+2,i)||o}function iu(t,e,n){return function r(i){let o=vn(t)?rt(t.index,e):e;ad(o,5);let s=e[he],a=Bp(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Bp(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Bp(t,e,n,r){let i=F(null);try{return Q(6,e,n),n(r)!==!1}catch(o){return WD(t,o),!1}finally{Q(7,e,n),F(i)}}function Ab(t,e,n,r,i,o,s,a){let c=Li(t),l=!1,u=null;if(!r&&c&&(u=Nb(e,n,o,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=vt(t,n),p=r?r(d):d;Ow(n,p,o,a);let h=i.listen(p,o,a),_=r?w=>r(nt(w[t.index])):t.index;wm(_,e,n,o,a,h,!1)}return l}function Nb(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[jr],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function wm(t,e,n,r,i,o,s){let a=e.firstCreatePass?np(e):null,c=tp(n),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function $p(t,e,n,r,i,o){let s=e[n],a=e[L],l=a.data[n].outputs[r],d=s[l].subscribe(o);wm(t.index,a,e,i,o,d,!0)}var xu=Symbol("BINDING");var Mu=class extends $a{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gn(e);return new Yi(n,this.ngModule)}};function kb(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ra.SignalBased)!==0};return i&&(o.transform=i),o})}function Ob(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Rb(t,e,n){let r=e instanceof Je?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Su(n,r):n}function Fb(t){let e=t.get(or,null);if(e===null)throw new x(407,!1);let n=t.get(fm,null),r=t.get(At,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Pb(t,e){let n=Dm(t);return Lg(e,n,n==="svg"?Zh:n==="math"?Kh:null)}function Dm(t){return(t.selectors[0][0]||"div").toLowerCase()}var Yi=class extends Ba{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=kb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ob(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=lD(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Q(22);let a=F(null);try{let c=this.componentDef,l=Lb(r,c,s,o),u=Rb(c,i||this.ngModule,e),d=Fb(u),p=d.rendererFactory.createRenderer(null,c),h=r?kD(p,r,c.encapsulation,u):Pb(c,p),_=s?.some(Up)||o?.some(E=>typeof E!="function"&&E.bindings.some(Up)),w=Qu(null,l,null,512|$g(c),null,null,d,p,u,null,Cg(h,u,!0));w[ge]=h,Qs(w);let b=null;try{let E=gm(ge,w,2,"#host",()=>l.directiveRegistry,!0,0);h&&(Bg(p,h,E),zr(h,w)),rd(l,w,E),Sg(l,E,w),mm(l,E),n!==void 0&&Vb(E,this.ngContentSelectors,n),b=rt(E.index,w),w[he]=b[he],od(l,w,null)}catch(E){throw b!==null&&gu(b),gu(w),E}finally{Q(23),Js()}return new wa(this.componentType,w,!!_)}finally{F(a)}}};function Lb(t,e,n,r){let i=t?["ng-version","20.3.0"]:uD(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[xu].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[xu].requiredVars;let h=u+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(s??=[]).push(p))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=Il(d);c.push(p)}return Ku(0,null,jb(o,s),1,a,c,null,null,null,[i],null)}function jb(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Up(t){let e=t[xu].kind;return e==="input"||e==="twoWay"}var wa=class extends dm{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ji(n[L],ge),this.location=Ma(this._tNode,n),this.instance=rt(this._tNode.index,n)[he],this.hostView=this.changeDetectorRef=new Dn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=id(r,i[L],i,e,n);this.previousInputValues.set(e,n);let s=rt(r.index,i);ad(s,1)}get injector(){return new rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Vb(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ro=(()=>{class t{static __NG_ELEMENT_ID__=Bb}return t})();function Bb(){let t=Te();return Ub(t,H())}var $b=ro,bm=class extends $b{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ma(this._hostTNode,this._hostLView)}get injector(){return new rr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uu(this._hostTNode,this._hostLView);if(sg(e)){let n=ha(e,this._hostLView),r=fa(e),i=n[L].data[r+8];return new rr(i,n)}else return new rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ce}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Cu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,qi(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!ow(e),l;if(c)l=n;else{let b=n||{};l=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,s=b.directives,a=b.bindings}let u=c?e:new Yi(Gn(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let E=(c?d:this.parentInjector).get(Je,null);E&&(o=E)}let p=Gn(u.componentType??{}),h=Cu(this._lContainer,p?.id??null),_=h?.firstChild??null,w=u.create(d,i,_,o,s,a);return this.insertImpl(w.hostView,l,qi(this._hostTNode,h)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Jh(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[_e],l=new bm(c,c[tt],c[_e]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Va(s,i,o,r),e.attachToViewContainerRef(),bl(ou(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=zi(this._lContainer,n);r&&(Ai(ou(this._lContainer),n),Fa(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=zi(this._lContainer,n);return r&&Ai(ou(this._lContainer),n)!=null?new Dn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hp(t){return t[Fi]}function ou(t){return t[Fi]||(t[Fi]=[])}function Ub(t,e){let n,r=e[t.index];return yt(r)?n=r:(n=sm(r,e,null,t),e[t.index]=n,Ju(e,n)),Wb(n,e,t,r),new bm(n,t,e)}function Hb(t,e){let n=t[re],r=n.createComment(""),i=vt(e,t),o=n.parentNode(i);return va(n,o,r,n.nextSibling(i),!1),r}var Wb=zb,qb=()=>!1;function Gb(t,e,n){return qb(t,e,n)}function zb(t,e,n,r){if(t[yn])return;let i;n.type&8?i=nt(r):i=Hb(e,n),t[yn]=i}var Wp=new Set;function ar(t){Wp.has(t)||(Wp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Zi=class{};var Ki=class extends Zi{injector;componentFactoryResolver=new Mu(this);instance=null;constructor(e){super();let n=new Un([...e.providers,{provide:Zi,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],e.parent||Oi(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Em(t,e,n=null){return new Ki({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Yb=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Sl(!1,n.type),i=r.length>0?Em([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:t,providedIn:"environment",factory:()=>new t(I(Je))})}return t})();function pe(t){return Ji(()=>{let e=Cm(t),n=z(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Yb).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nn.Emulated,styles:t.styles||Fe,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ar("NgStandalone"),Im(n);let r=t.dependencies;return n.directiveDefs=qp(r,Zb),n.pipeDefs=qp(r,Uh),n.id=Jb(n),n})}function Zb(t){return Gn(t)||Il(t)}function Cn(t){return Ji(()=>({type:t.type,bootstrap:t.bootstrap||Fe,declarations:t.declarations||Fe,imports:t.imports||Fe,exports:t.exports||Fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Kb(t,e){if(t==null)return mn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Ra.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function Qb(t){if(t==null)return mn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function de(t){return Ji(()=>{let e=Cm(t);return Im(e),e})}function ld(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||mn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Kb(t.inputs,e),outputs:Qb(t.outputs),debugInfo:null}}function Im(t){t.features?.forEach(e=>e(t))}function qp(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function Jb(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Xb(t){return Object.getPrototypeOf(t.prototype).constructor}function Be(t){let e=Xb(t.type),n=!0,r=[t];for(;e;){let i;if(Rt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=su(t.inputs),s.declaredInputs=su(t.declaredInputs),s.outputs=su(t.outputs);let a=i.hostBindings;a&&iE(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&nE(t,c),l&&rE(t,l),eE(t,i),Ph(t.outputs,i.outputs),Rt(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Be&&(n=!1)}}e=Object.getPrototypeOf(e)}tE(r)}function eE(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function tE(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gr(i.hostAttrs,n=Gr(n,i.hostAttrs))}}function su(t){return t===mn?{}:t===Fe?[]:t}function nE(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function rE(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function iE(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Sm(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Gr(t.mergedAttrs,t.attrs);let u=t.tView=Ku(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),$r(t,!1);let c=sE(n,e,t,r);ea()&&td(n,e,c,t),zr(c,e);let l=sm(c,e,c,t);e[r+ge]=l,Ju(e,l),Gb(l,t,e)}function oE(t,e,n,r,i,o,s,a,c,l,u){let d=n+ge,p;return e.firstCreatePass?(p=no(e,d,4,s||null,a||null),Vl()&&hm(e,t,p,it(e.consts,l),Yg),ig(e,p)):p=e.data[d],Sm(p,t,e,n,r,i,o,c),Li(p)&&rd(e,t,p),l!=null&&La(t,p,u),p}function Da(t,e,n,r,i,o,s,a,c,l,u){let d=n+ge,p;if(e.firstCreatePass){if(p=no(e,d,4,s||null,a||null),l!=null){let h=it(e.consts,l);p.localNames=[];for(let _=0;_<h.length;_+=2)p.localNames.push(h[_],-1)}}else p=e.data[d];return Sm(p,t,e,n,r,i,o,c),l!=null&&La(t,p,u),p}function ie(t,e,n,r,i,o,s,a){let c=H(),l=we(),u=it(l.consts,o);return oE(c,l,t,e,n,r,i,u,void 0,s,a),ie}var sE=aE;function aE(t,e,n,r){return ta(!0),e[re].createComment("")}var Ua=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Ua||{}),cr=new $(""),xm=!1,Tu=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,zh()&&(this.destroyRef=C(en,{optional:!0})??void 0,this.pendingTasks=C(tr,{optional:!0})??void 0)}emit(e){let n=F(null);try{super.next(e)}finally{F(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ae=Tu;function Mm(t){let e,n;function r(){t=nr;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Gp(t){return queueMicrotask(()=>t()),()=>{t=nr}}var ud="isAngularZone",ba=ud+"_ID",cE=0,me=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=xm}=e;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,dE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ud)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,lE,nr,nr);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},lE={};function dd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uE(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Mm(()=>{t.callbackScheduled=!1,Au(t),t.isCheckStableRunning=!0,dd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Au(t)}function dE(t){let e=()=>{uE(t)},n=cE++;t._inner=t._inner.fork({name:"angular",properties:{[ud]:!0,[ba]:n,[ba+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(fE(c))return r.invokeTask(o,s,a,c);try{return zp(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Yp(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return zp(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!hE(c)&&e(),Yp(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Au(t),dd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Au(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yp(t){t._nesting--,dd(t)}var Ea=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function fE(t){return Tm(t,"__ignore_ng_zone__")}function hE(t){return Tm(t,"__scheduler_tick__")}function Tm(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var fd=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})(),Am=[0,1,2,3],Nm=(()=>{class t{ngZone=C(me);scheduler=C(At);errorHandler=C(Xe,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(cr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Q(16),this.executing=!0;for(let r of Am)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Q(17)}register(n){let{view:r}=n;r!==void 0?((r[Jn]??=[]).push(n),_n(r),r[j]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Ua.AFTER_NEXT_RENDER,n):n()}static \u0275prov=P({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ca=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Jn];e&&(this.view[Jn]=e.filter(n=>n!==this))}};function hd(t,e){let n=e?.injector??C(He);return ar("NgAfterNextRender"),gE(t,n,e,!0)}function pE(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function gE(t,e,n,r){let i=e.get(fd);i.impl??=e.get(Nm);let o=e.get(cr,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(en):null,a=e.get(Hr,null,{optional:!0}),c=new Ca(i.impl,pE(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var pd=new $("");function Kr(t){return!!t&&typeof t.then=="function"}function gd(t){return!!t&&typeof t.subscribe=="function"}var md=new $("");function yd(t){return Ni([{provide:md,multi:!0,useValue:t}])}var vd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(md,{optional:!0})??[];injector=C(He);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Gs(this.injector,i);if(Kr(o))n.push(o);else if(gd(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),km=new $("");function Om(){Gc(()=>{let t="";throw new x(600,t)})}function Rm(t){return t.isBoundToModule}var mE=10;var Lt=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(tn);afterRenderManager=C(fd);zonelessEnabled=C(ra);rootEffectScheduler=C(Ui);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(tr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ve(n=>!n))}constructor(){C(cr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=He.NULL){return this._injector.get(me).run(()=>{Q(10);let s=n instanceof Ba;if(!this._injector.get(vd).done){let _="";throw new x(405,_)}let c;s?c=n:c=this._injector.get($a).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Rm(c)?void 0:this._injector.get(Zi),u=r||c.selector,d=c.create(i,[],u,l),p=d.location.nativeElement,h=d.injector.get(pd,null);return h?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Wi(this.components,d),h?.unregisterApplication(p)}),this._loadComponent(d),Q(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ua.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new x(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),Q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(or,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<mE;)Q(14),this.synchronizeOnce(),Q(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Vi(i))continue;let o=r&&!this.zonelessEnabled?0:1;sd(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Vi(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Wi(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(km,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wi(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wi(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function io(t,e,n,r){let i=H(),o=er();if(ot(i,o,e)){let s=we(),a=Xs();$D(a,i,t,e,n,r)}return io}var _d=new $("",{providedIn:"root",factory:()=>!1}),wd=new $("",{providedIn:"root",factory:()=>yE}),yE=4e3;var _O=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Nu=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function au(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function vE(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),u=e[o],d=au(o,l,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let p=t.at(s),h=e[c],_=au(s,p,c,h,n);if(_!==0){_<0&&t.updateValue(s,h),s--,c--;continue}let w=n(o,l),b=n(s,p),E=n(o,u);if(Object.is(E,b)){let q=n(c,h);Object.is(q,w)?(t.swap(o,s),t.updateValue(s,h),c--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new Ia,i??=Kp(t,o,s,n),ku(t,r,o,E))t.updateValue(o,u),o++,s++;else if(i.has(E))r.set(w,t.detach(o)),s--;else{let q=t.create(o,e[o]);t.attach(o,q),o++,s++}}for(;o<=c;)Zp(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=t.at(o),d=l.value,p=au(o,u,o,d,n);if(p!==0)p<0&&t.updateValue(o,d),o++,l=c.next();else{r??=new Ia,i??=Kp(t,o,s,n);let h=n(o,d);if(ku(t,r,o,h))t.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,l=c.next();else{let _=n(o,u);r.set(_,t.detach(o)),s--}}}for(;!l.done;)Zp(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function ku(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Zp(t,e,n,r,i){if(ku(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Kp(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Ia=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function ze(t,e,n,r,i,o,s,a){ar("NgControlFlow");let c=H(),l=we(),u=it(l.consts,o);return Da(c,l,t,e,n,r,i,u,256,s,a),Dd}function Dd(t,e,n,r,i,o,s,a){ar("NgControlFlow");let c=H(),l=we(),u=it(l.consts,o);return Da(c,l,t,e,n,r,i,u,512,s,a),Dd}function Ye(t,e){ar("NgControlFlow");let n=H(),r=er(),i=n[r]!==Ne?n[r]:-1,o=i!==-1?Sa(n,ge+i):void 0,s=0;if(ot(n,r,t)){let a=F(null);try{if(o!==void 0&&cm(o,s),t!==-1){let c=ge+t,l=Sa(n,c),u=Pu(n[L],c),d=um(l,u,n),p=ja(n,u,e,{dehydratedView:d});Va(l,p,s,qi(u,d))}}finally{F(a)}}else if(o!==void 0){let a=am(o,s);a!==void 0&&(a[he]=e)}}var Ou=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ce}};function oo(t,e){return e}var Ru=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Pe(t,e,n,r,i,o,s,a,c,l,u,d,p){ar("NgControlFlow");let h=H(),_=we(),w=c!==void 0,b=H(),E=a?s.bind(b[qe][he]):s,q=new Ru(w,E);b[ge+t]=q,Da(h,_,t+1,e,n,r,i,it(_.consts,o),256),w&&Da(h,_,t+2,c,l,u,d,it(_.consts,p),512)}var Fu=class extends Nu{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ce}at(e){return this.getLView(e)[he].$implicit}attach(e,n){let r=n[Lr];this.needsIndexUpdate||=e!==this.length,Va(this.lContainer,n,e,qi(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,_E(this.lContainer,e)}create(e,n){let r=Cu(this.lContainer,this.templateTNode.tView.ssrId),i=ja(this.hostLView,this.templateTNode,new Ou(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Fa(e[L],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[he].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[he].$index=e}getLView(e){return wE(this.lContainer,e)}};function Le(t){let e=F(null),n=_t();try{let r=H(),i=r[L],o=r[n],s=n+1,a=Sa(r,s);if(o.liveCollection===void 0){let l=Pu(i,s);o.liveCollection=new Fu(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(vE(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=er(),u=c.length===0;if(ot(r,l,u)){let d=n+2,p=Sa(r,d);if(u){let h=Pu(i,d),_=um(p,h,r),w=ja(r,h,void 0,{dehydratedView:_});Va(p,w,0,qi(h,_))}else i.firstUpdatePass&&hb(p),cm(p,0)}}}finally{F(e)}}function Sa(t,e){return t[e]}function _E(t,e){return zi(t,e)}function wE(t,e){return am(t,e)}function Pu(t,e){return ji(t,e)}function V(t,e,n){let r=H(),i=er();if(ot(r,i,e)){let o=we(),s=Xs();zg(s,r,t,e,r[re],n)}return V}function Lu(t,e,n,r,i){id(e,t,n,i?"class":"style",r)}function g(t,e,n,r){let i=H(),o=i[L],s=t+ge,a=o.firstCreatePass?gm(s,i,2,e,Yg,Vl(),n,r):o.data[s];if(Zg(a,i,t,e,Fm),Li(a)){let c=i[L];rd(c,i,a),Sg(c,a,i)}return r!=null&&La(i,a),g}function m(){let t=we(),e=Te(),n=Kg(e);return t.firstCreatePass&&mm(t,n),Bl(n)&&$l(),jl(),n.classesWithoutHost!=null&&dw(n)&&Lu(t,n,H(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&fw(n)&&Lu(t,n,H(),n.stylesWithoutHost,!1),m}function Ze(t,e,n,r){return g(t,e,n,r),m(),Ze}function Qr(t,e,n,r){let i=H(),o=i[L],s=t+ge,a=o.firstCreatePass?xb(s,o,2,e,n,r):o.data[s];return Zg(a,i,t,e,Fm),r!=null&&La(i,a),Qr}function Jr(){let t=Te(),e=Kg(t);return Bl(e)&&$l(),jl(),Jr}var Fm=(t,e,n,r,i)=>(ta(!0),Lg(e[re],r,vp()));function oe(){return H()}var so="en-US";var DE=so;function Pm(t){typeof t=="string"&&(DE=t.toLowerCase().replace(/_/g,"-"))}function O(t,e,n){let r=H(),i=we(),o=Te();return Lm(i,r,r[re],o,t,e,n),O}function Lm(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=iu(r,e,o),Ab(r,t,e,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],h=u[d+1];c??=iu(r,e,o),$p(r,e,p,h,i,c)}if(l&&l.length)for(let d of l)c??=iu(r,e,o),$p(r,e,d,i,i,c)}}function D(t=1){return yp(t)}function aa(t,e){return t<<17|e<<2}function sr(t){return t>>17&32767}function bE(t){return(t&2)==2}function EE(t,e){return t&131071|e<<17}function ju(t){return t|2}function Yr(t){return(t&131068)>>2}function cu(t,e){return t&-131069|e<<2}function CE(t){return(t&1)===1}function Vu(t){return t|1}function IE(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=sr(s),c=Yr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Pr(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let p=sr(t[a+1]);t[r+1]=aa(p,a),p!==0&&(t[p+1]=cu(t[p+1],r)),t[a+1]=EE(t[a+1],r)}else t[r+1]=aa(a,0),a!==0&&(t[a+1]=cu(t[a+1],r)),a=r;else t[r+1]=aa(c,0),a===0?a=r:t[c+1]=cu(t[c+1],r),c=r;l&&(t[r+1]=ju(t[r+1])),Qp(t,u,r,!0),Qp(t,u,r,!1),SE(e,u,t,r,o),s=aa(a,c),o?e.classBindings=s:e.styleBindings=s}function SE(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Pr(o,e)>=0&&(n[r+1]=Vu(n[r+1]))}function Qp(t,e,n,r){let i=t[n+1],o=e===null,s=r?sr(i):Yr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];xE(c,e)&&(a=!0,t[s+1]=r?Vu(l):ju(l)),s=r?sr(l):Yr(l)}a&&(t[n+1]=r?ju(i):Vu(i))}function xE(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Pr(t,e)>=0:!1}var bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ME(t){return t.substring(bt.key,bt.keyEnd)}function TE(t){return AE(t),jm(t,Vm(t,0,bt.textEnd))}function jm(t,e){let n=bt.textEnd;return n===e?-1:(e=bt.keyEnd=NE(t,bt.key=e,n),Vm(t,e,n))}function AE(t){bt.key=0,bt.keyEnd=0,bt.value=0,bt.valueEnd=0,bt.textEnd=t.length}function Vm(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function NE(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Et(t,e){return OE(t,e,null,!0),Et}function ao(t){RE(BE,kE,t,!0)}function kE(t,e){for(let n=TE(e);n>=0;n=jm(e,n))Ws(t,ME(e),!0)}function OE(t,e,n,r){let i=H(),o=we(),s=$i(2);if(o.firstUpdatePass&&$m(o,t,s,r),e!==Ne&&ot(i,s,e)){let a=o.data[_t()];Um(o,a,i,i[re],t,i[s+1]=UE(e,n),r,s)}}function RE(t,e,n,r){let i=we(),o=$i(2);i.firstUpdatePass&&$m(i,null,o,r);let s=H();if(n!==Ne&&ot(s,o,n)){let a=i.data[_t()];if(Hm(a,r)&&!Bm(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Vs(c,n||"")),Lu(i,a,s,n,r)}else $E(i,a,s,s[re],s[o+1],s[o+1]=VE(t,e,n),r,o)}}function Bm(t,e){return e>=t.expandoStartIndex}function $m(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[_t()],s=Bm(t,n);Hm(o,r)&&e===null&&!s&&(e=!1),e=FE(i,o,e,r),IE(i,o,e,n,s,r)}}function FE(t,e,n,r){let i=hp(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=lu(null,t,e,n,r),n=Qi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=lu(i,t,e,n,r),o===null){let c=PE(t,e,r);c!==void 0&&Array.isArray(c)&&(c=lu(null,t,e,c[1],r),c=Qi(c,e.attrs,r),LE(t,e,r,c))}else o=jE(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function PE(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Yr(r)!==0)return t[sr(r)]}function LE(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[sr(i)]=r}function jE(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Qi(r,s,n)}return Qi(r,e.attrs,n)}function lu(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Qi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Qi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ws(t,s,n?!0:e[++o]))}return t===void 0?null:t}function VE(t,e,n){if(n==null||n==="")return Fe;let r=[],i=Oa(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function BE(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ws(t,r,n)}function $E(t,e,n,r,i,o,s,a){i===Ne&&(i=Fe);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let p=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0,_=null,w;u===d?(c+=2,l+=2,p!==h&&(_=d,w=h)):d===null||u!==null&&u<d?(c+=2,_=u):(l+=2,_=d,w=h),_!==null&&Um(t,e,n,r,_,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Um(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=CE(l)?Jp(c,e,n,i,Yr(l),s):void 0;if(!xa(u)){xa(o)||bE(l)&&(o=Jp(c,null,n,i,a,s));let d=Ol(_t(),n);ND(r,s,d,i,o)}}function Jp(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[i+1];p===Ne&&(p=d?Fe:void 0);let h=d?qs(p,r):u===r?p:void 0;if(l&&!xa(h)&&(h=qs(c,r)),xa(h)&&(a=h,s))return a;let _=t[i+1];i=s?sr(_):Yr(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=qs(c,r))}return a}function xa(t){return t!==void 0}function UE(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=fn(Oa(t)))),t}function Hm(t,e){return(t.flags&(e?8:16))!==0}function y(t,e=""){let n=H(),r=we(),i=t+ge,o=r.firstCreatePass?no(r,i,1,e,null):r.data[i],s=HE(r,n,o,e,t);n[i]=s,ea()&&td(r,n,s,o),$r(o,!1)}var HE=(t,e,n,r,i)=>(ta(!0),dD(e[re],r));function WE(t,e,n,r=""){return ot(t,er(),n)?e+Nt(n)+r:Ne}function qE(t,e,n,r,i,o=""){let s=Gl(),a=_m(t,s,n,i);return $i(2),a?e+Nt(n)+r+Nt(i)+o:Ne}function GE(t,e,n,r,i,o,s,a=""){let c=Gl(),l=Tb(t,c,n,i,s);return $i(3),l?e+Nt(n)+r+Nt(i)+o+Nt(s)+a:Ne}function De(t){return A("",t),De}function A(t,e,n){let r=H(),i=WE(r,t,e,n);return i!==Ne&&bd(r,_t(),i),A}function sn(t,e,n,r,i){let o=H(),s=qE(o,t,e,n,r,i);return s!==Ne&&bd(o,_t(),s),sn}function In(t,e,n,r,i,o,s){let a=H(),c=GE(a,t,e,n,r,i,o,s);return c!==Ne&&bd(a,_t(),c),In}function bd(t,e,n){let r=Ol(e,t);fD(t[re],r,n)}function se(t,e,n){Jl(e)&&(e=e());let r=H(),i=er();if(ot(r,i,e)){let o=we(),s=Xs();zg(s,r,t,e,r[re],n)}return se}function ue(t,e){let n=Jl(t);return n&&t.set(e),n}function ae(t,e){let n=H(),r=we(),i=Te();return Lm(r,n,n[re],i,t,e),ae}function zE(t,e,n){let r=we();if(r.firstCreatePass){let i=Rt(t);Bu(n,r.data,r.blueprint,i,!0),Bu(e,r.data,r.blueprint,i,!1)}}function Bu(t,e,n,r,i){if(t=Ee(t),Array.isArray(t))for(let o=0;o<t.length;o++)Bu(t[o],e,n,r,i);else{let o=we(),s=H(),a=Te(),c=$n(t)?t:Ee(t.provide),l=Ml(t),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if($n(t)||!t.multi){let h=new ir(l,i,k,null),_=du(c,e,i?u:u+p,d);_===-1?(hu(ga(a,s),o,c),uu(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[_]=h,s[_]=h)}else{let h=du(c,e,u+p,d),_=du(c,e,u,u+p),w=h>=0&&n[h],b=_>=0&&n[_];if(i&&!b||!i&&!w){hu(ga(a,s),o,c);let E=KE(i?ZE:YE,n.length,i,r,l,t);!i&&b&&(n[_].providerFactory=E),uu(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=Wm(n[i?_:h],l,!i&&r);uu(o,t,h>-1?h:_,E)}!i&&r&&b&&n[_].componentProviders++}}}function uu(t,e,n,r){let i=$n(e),o=Gh(e);if(i||o){let c=(o?Ee(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Wm(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function du(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function YE(t,e,n,r,i){return $u(this.multi,[])}function ZE(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ma(r,r[L],this.providerFactory.index,i);s=c.slice(0,a),$u(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],$u(o,s);return s}function $u(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function KE(t,e,n,r,i,o){let s=new ir(t,n,k,null);return s.multi=[],s.index=e,s.componentProviders=0,Wm(s,i,r&&!n),s}function jt(t,e=[]){return n=>{n.providersResolver=(r,i)=>zE(r,i?i(t):t,e)}}function QE(t,e){let n=t[e];return n===Ne?void 0:n}function JE(t,e,n,r,i,o){let s=e+n;return ot(t,s,i)?Mb(t,s+1,o?r.call(o,i):r(i)):QE(t,s+1)}function Ed(t,e){let n=we(),r,i=t+ge;n.firstCreatePass?(r=XE(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=hn(r.type,!0)),s,a=Re(k);try{let c=pa(!1),l=o();return pa(c),Rl(n,H(),i,l),l}finally{Re(a)}}function XE(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Cd(t,e,n){let r=t+ge,i=H(),o=Qh(i,r);return eC(i,r)?JE(i,cp(),e,o.transform,n,o):o.transform(n)}function eC(t,e){return t[L].data[e].pure}var tC=(()=>{class t{zone=C(me);changeDetectionScheduler=C(At);applicationRef=C(Lt);applicationErrorHandler=C(tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qm({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(z(R({},Gm()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:qn,multi:!0,useFactory:()=>{let r=C(tC,{optional:!0});return()=>r.initialize()}},{provide:qn,multi:!0,useFactory:()=>{let r=C(nC);return()=>{r.initialize()}}},e===!0?{provide:Xl,useValue:!0}:[],{provide:eu,useValue:n??xm},{provide:tn,useFactory:()=>{let r=C(me),i=C(Je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Xe),o.handleError(s))})}}}]}function Gm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nC=(()=>{class t{subscription=new ke;initialized=!1;zone=C(me);pendingTasks=C(tr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zm=(()=>{class t{applicationErrorHandler=C(tn);appRef=C(Lt);taskService=C(tr);ngZone=C(me);zonelessEnabled=C(ra);tracing=C(cr,{optional:!0});disableScheduling=C(Xl,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ba):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(eu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ea||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Gp:Mm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ba+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rC(){return typeof $localize<"u"&&$localize.locale||so}var Ha=new $("",{providedIn:"root",factory:()=>C(Ha,{optional:!0,skipSelf:!0})||rC()});function Vt(t){return Nh(t)}function Xr(t,e){return hs(t,e?.equal)}var Id=class{[je];constructor(e){this[je]=e}destroy(){this[je].destroy()}};function Sd(t,e){let n=e?.injector??C(He),r=e?.manualCleanup!==!0?n.get(en):null,i,o=n.get(Hr,null,{optional:!0}),s=n.get(At);return o!==null?(i=sC(o.view,s,t),r instanceof Ti&&r._lView===o.view&&(r=null)):i=aC(t,n.get(Ui),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Id(i)}var Ym=z(R({},kh),{cleanupFns:void 0,zone:null,onDestroyFn:nr,run(){let t=Ur(!1);try{Oh(this)}finally{Ur(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=F(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],F(t)}}}),iC=z(R({},Ym),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Mr(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),oC=z(R({},Ym),{consumerMarkedDirty(){this.view[j]|=8192,_n(this.view),this.notifier.notify(13)},destroy(){Mr(this),this.onDestroyFn(),this.cleanup(),this.view[Xt]?.delete(this)}});function sC(t,e,n){let r=Object.create(oC);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=Zm(r,n),t[Xt]??=new Set,t[Xt].add(r),r.consumerMarkedDirty(r),r}function aC(t,e,n){let r=Object.create(iC);return r.fn=Zm(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Zm(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var wC=new $("");wC.__NG_ELEMENT_ID__=t=>{let e=Te();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new x(204,!1)};var xd=new $(""),DC=new $("");function co(t){return!t.moduleRef}function bC(t){let e=co(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{co(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(tn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),co(t)){let o=()=>e.destroy(),s=t.platformInjector.get(xd);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(xd);s.add(o),t.moduleRef.onDestroy(()=>{Wi(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return CC(r,n,()=>{let o=e.get(tr),s=o.add(),a=e.get(vd);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Ha,so);if(Pm(c||so),!e.get(DC,!0))return co(t)?e.get(Lt):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(co(t)){let u=e.get(Lt);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return EC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var EC;function CC(t,e,n){try{let r=n();return Kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Wa=null;function IC(t=[],e){return He.create({name:e,providers:[{provide:ki,useValue:"platform"},{provide:xd,useValue:new Set([()=>Wa=null])},...t]})}function SC(t=[]){if(Wa)return Wa;let e=IC(t);return Wa=e,Om(),xC(e),e}function xC(t){let e=t.get(Aa,null);Gs(t,()=>{e?.forEach(n=>n())})}function Jm(){return!1}var Ga=(()=>{class t{static __NG_ELEMENT_ID__=MC}return t})();function MC(t){return TC(Te(),H(),(t&16)===16)}function TC(t,e,n){if(vn(t)&&!n){let r=rt(t.index,e);return new Dn(r,r)}else if(t.type&175){let r=e[qe];return new Dn(r,e)}return null}var Md=class{constructor(){}supports(e){return cd(e)}create(e){return new Td(e)}},AC=(t,e)=>e,Td=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||AC}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Km(r,i,o)?n:r,a=Km(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let p=0;p<l;p++){let h=p<o.length?o[p]:o[p]=0,_=h+p;u<=_&&_<l&&(o[p]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!cd(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,ym(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ad(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new qa),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ad=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Nd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},qa=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Nd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Km(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Qm(){return new kd([new Md])}var kd=(()=>{class t{factories;static \u0275prov=P({token:t,providedIn:"root",factory:Qm});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=C(t,{optional:!0,skipSelf:!0});return t.create(n,r||Qm())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new x(901,!1)}}return t})();function Xm(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Q(8);try{let o=i?.injector??SC(r),s=[qm({}),{provide:At,useExisting:zm},Dp,...n||[]],a=new Ki({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return bC({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Q(9)}}function Od(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var ey=null;function Sn(){return ey}function Rd(t){ey??=t}var lo=class{};var Fd=/\s+/,ty=[],uo=(()=>{class t{_ngEl;_renderer;initialClasses=ty;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Fd):ty}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Fd):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Fd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(k(rn),k(En))};static \u0275dir=de({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var za=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bt=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new za(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ny(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ny(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(k(ro),k(to),k(kd))};static \u0275dir=de({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function ny(t,e){t.context.$implicit=e.item}var an=(()=>{class t{_viewContainer;_context=new Ya;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ry(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ry(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(k(ro),k(to))};static \u0275dir=de({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ya=class{$implicit=null;ngIf=null};function ry(t,e){if(t&&!t.createEmbeddedView)throw new x(2020,!1)}function NC(t,e){return new x(2100,!1)}var kC=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Pd=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw NC(t,n);return n.replace(kC,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=ld({name:"titlecase",type:t,pure:!0})}return t})();var fe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cn({type:t});static \u0275inj=Jt({})}return t})();function Ld(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var fo=class{};var iy="browser";var Ka=new $(""),Ud=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(I(Ka),I(me))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),ho=class{_doc;constructor(e){this._doc=e}manager},jd="ng-app-id";function oy(t){for(let e of t)e.remove()}function sy(t,e){let n=e.createElement("style");return n.textContent=t,n}function OC(t,e,n,r){let i=t.head?.querySelectorAll(`style[${jd}="${e}"],link[${jd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(jd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Bd(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Hd=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,OC(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,sy);r?.forEach(i=>this.addUsage(i,this.external,Bd))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(oy(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])oy(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,sy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Bd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(I(wt),I(Ta),I(Na,8),I(Zr))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Vd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wd=/%COMP%/g;var cy="%COMP%",RC=`_nghost-${cy}`,FC=`_ngcontent-${cy}`,PC=!0,LC=new $("",{providedIn:"root",factory:()=>PC});function jC(t){return FC.replace(Wd,t)}function VC(t){return RC.replace(Wd,t)}function ly(t,e){return e.map(n=>n.replace(Wd,t))}var qd=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,i,o,s,a,c,l=null,u,d,p=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.animationDisabled=u,this.maxAnimationTimeout=d,this.tracingService=p,this.platformIsServer=!1,this.defaultRenderer=new po(n,s,c,this.platformIsServer,this.tracingService,this.registry=na(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Za?i.applyToHost(n):i instanceof go&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case nn.Emulated:o=new Za(c,l,r,this.appId,u,s,a,d,p,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case nn.ShadowDom:return new $d(c,l,n,r,s,a,this.nonce,d,p,this.registry,this.maxAnimationTimeout);default:o=new go(c,l,r,u,s,a,d,p,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(I(Ud),I(Hd),I(Ta),I(LC),I(wt),I(Zr),I(me),I(Na),I(_d),I(wd),I(cr,8))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),po=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o,s,a){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Vd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ay(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ay(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){let{elements:r}=this.registry;if(r){r.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Vd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pt.DashCase|Pt.Important)?e.style.setProperty(n,r,i&Pt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Sn().getGlobalEventTarget(this.doc,e),!e))throw new x(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function ay(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var $d=class extends po{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l,u,d){super(e,o,s,c,l,u,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=ly(i.id,p);for(let _ of p){let w=document.createElement("style");a&&w.setAttribute("nonce",a),w.textContent=_,this.shadowRoot.appendChild(w)}let h=i.getExternalStyles?.();if(h)for(let _ of h){let w=Bd(_,o);a&&w.setAttribute("nonce",a),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},go=class extends po{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,n,r,i,o,s,a,c,l,u,d,p){super(e,o,s,a,c,l,d),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this._animationDisabled=u;let h=r.styles;this.styles=p?ly(p,h):h,this.styleUrls=r.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Za=class extends go{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l,u,d,p){let h=i+"-"+r.id;super(e,n,r,o,s,a,c,l,u,d,p,h),this.contentAttr=jC(h),this.hostAttr=VC(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Qa=class t extends lo{supportsDOMEvents=!0;static makeCurrent(){Rd(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=BC();return n==null?null:$C(n)}resetBaseElement(){mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ld(document.cookie,e)}},mo=null;function BC(){return mo=mo||document.head.querySelector("base"),mo?mo.getAttribute("href"):null}function $C(t){return new URL(t,document.baseURI).pathname}var UC=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),dy=(()=>{class t extends ho{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(I(wt))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),uy=["alt","control","meta","shift"],HC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WC={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fy=(()=>{class t extends ho{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uy.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=HC[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uy.forEach(s=>{if(s!==i){let a=WC[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(I(wt))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function Gd(t,e,n){let r=R({rootComponent:t,platformRef:n?.platformRef},qC(e));return Xm(r)}function qC(t){return{appProviders:[...KC,...t?.providers??[]],platformProviders:ZC}}function GC(){Qa.makeCurrent()}function zC(){return new Xe}function YC(){return Wu(document),document}var ZC=[{provide:Zr,useValue:iy},{provide:Aa,useValue:GC,multi:!0},{provide:wt,useFactory:YC}];var KC=[{provide:ki,useValue:"root"},{provide:Xe,useFactory:zC},{provide:Ka,useClass:dy,multi:!0,deps:[wt]},{provide:Ka,useClass:fy,multi:!0,deps:[wt]},qd,Hd,Ud,{provide:or,useExisting:qd},{provide:fo,useClass:UC},[]];var hy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-header"]],decls:12,vars:0,consts:[[1,"bg-gradient-to-r","from-green-600","to-green-700","text-white","shadow-lg"],[1,"container","mx-auto","px-4","py-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-white/20","rounded-lg","flex","items-center","justify-center"],[1,"text-2xl"],[1,"text-2xl","font-bold"],[1,"text-green-100","text-sm"]],template:function(i,o){i&1&&(Qr(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),y(6,"\u{1F37D}\uFE0F"),Jr()(),Qr(7,"div")(8,"h1",6),y(9,"MealPlanner"),Jr(),Qr(10,"p",7),y(11,"Planifica y controla tus comidas semanales"),Jr()()()()()())},dependencies:[fe],encapsulation:2});let t=e;return t})();function QC(t,e){if(t&1){let n=oe();g(0,"button",4),O("click",function(){let i=M(n).$implicit,o=D();return T(o.selectTab(i.id))}),g(1,"span",5),y(2),m(),y(3),m()}if(t&2){let n=e.$implicit,r=D();ao(r.getTabClass(n.id)),v(2),De(n.icon),v(),A(" ",n.label," ")}}var py=(()=>{let e=class e{constructor(){this.activeTab="menu",this.tabChange=new Ae,this.tabs=[{id:"menu",label:"Men\xFA Semanal",icon:"\u{1F4C5}"},{id:"predefined",label:"Men\xFA Predefinidos",icon:"\u{1F4C5}"},{id:"dishes",label:"Platillos",icon:"\u{1F372}"},{id:"inventory",label:"Inventario",icon:"\u{1F4E6}"},{id:"shopping",label:"Lista de Compras",icon:"\u{1F6D2}"},{id:"history",label:"Historial",icon:"\u{1F4CA}"}]}selectTab(r){this.tabChange.emit(r)}getTabClass(r){return r===this.activeTab?" text-green-600 border-green-600 bg-green-50":" text-gray-600 border-transparent"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-navigation"]],inputs:{activeTab:"activeTab"},outputs:{tabChange:"tabChange"},decls:4,vars:1,consts:[[1,"bg-white","shadow-sm","border-b"],[1,"container","mx-auto","px-4"],[1,"flex","space-x-0","overflow-x-auto"],["class","flex-shrink-0 px-6 py-4 text-sm font-medium border-b-2 transition-all duration-200 hover:text-green-600",3,"class","click",4,"ngFor","ngForOf"],[1,"flex-shrink-0","px-6","py-4","text-sm","font-medium","border-b-2","transition-all","duration-200","hover:text-green-600",3,"click"],[1,"mr-2"]],template:function(i,o){i&1&&(g(0,"nav",0)(1,"div",1)(2,"div",2),ie(3,QC,4,4,"button",3),m()()()),i&2&&(v(3),V("ngForOf",o.tabs))},dependencies:[fe,Bt],encapsulation:2});let t=e;return t})();var Cy=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(k(En),k(rn))};static \u0275dir=de({type:t})}return t})(),oc=(()=>{class t extends Cy{static \u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})();static \u0275dir=de({type:t,features:[Be]})}return t})(),Eo=new $("");var JC={provide:Eo,useExisting:We(()=>$t),multi:!0};function XC(){let t=Sn()?Sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var eI=new $(""),$t=(()=>{class t extends Cy{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!XC())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(k(En),k(rn),k(eI,8))};static \u0275dir=de({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[jt([JC]),Be]})}return t})();function tI(t){return t==null||nI(t)===0}function nI(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var sc=new $(""),Iy=new $("");function rI(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function iI(t){return tI(t.value)?{required:!0}:null}function gy(t){return null}function Sy(t){return t!=null}function xy(t){return Kr(t)?tl(t):t}function My(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function Ty(t,e){return e.map(n=>n(t))}function oI(t){return!t.validate}function Ay(t){return t.map(e=>oI(e)?e:n=>e.validate(n))}function sI(t){if(!t)return null;let e=t.filter(Sy);return e.length==0?null:function(n){return My(Ty(n,e))}}function Kd(t){return t!=null?sI(Ay(t)):null}function aI(t){if(!t)return null;let e=t.filter(Sy);return e.length==0?null:function(n){let r=Ty(n,e).map(xy);return nl(r).pipe(Ve(My))}}function Qd(t){return t!=null?aI(Ay(t)):null}function my(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cI(t){return t._rawValidators}function lI(t){return t._rawAsyncValidators}function zd(t){return t?Array.isArray(t)?t:[t]:[]}function Xa(t,e){return Array.isArray(t)?t.includes(e):t===e}function yy(t,e){let n=zd(e);return zd(t).forEach(i=>{Xa(n,i)||n.push(i)}),n}function vy(t,e){return zd(e).filter(n=>!Xa(t,n))}var ec=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Kd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ri=class extends ec{name;get formDirective(){return null}get path(){return null}},bo=class extends ec{_parent=null;name=null;valueAccessor=null},tc=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uI={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},N$=z(R({},uI),{"[class.ng-submitted]":"isSubmitted"}),Ut=(()=>{class t extends tc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(k(bo,2))};static \u0275dir=de({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Et("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Be]})}return t})(),Ny=(()=>{class t extends tc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(k(ri,10))};static \u0275dir=de({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Et("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Be]})}return t})();var yo="VALID",Ja="INVALID",ti="PENDING",vo="DISABLED",xn=class{},nc=class extends xn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},wo=class extends xn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Do=class extends xn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ni=class extends xn{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Yd=class extends xn{source;constructor(e){super(),this.source=e}},Zd=class extends xn{source;constructor(e){super(),this.source=e}};function ky(t){return(ac(t)?t.validators:t)||null}function dI(t){return Array.isArray(t)?Kd(t):t||null}function Oy(t,e){return(ac(e)?e.asyncValidators:t)||null}function fI(t){return Array.isArray(t)?Qd(t):t||null}function ac(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hI(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")}function pI(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new x(1002,"")})}var rc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vt(this.statusReactive)}set status(e){Vt(()=>this.statusReactive.set(e))}_status=Xr(()=>this.statusReactive());statusReactive=G(void 0);get valid(){return this.status===yo}get invalid(){return this.status===Ja}get pending(){return this.status==ti}get disabled(){return this.status===vo}get enabled(){return this.status!==vo}errors;get pristine(){return Vt(this.pristineReactive)}set pristine(e){Vt(()=>this.pristineReactive.set(e))}_pristine=Xr(()=>this.pristineReactive());pristineReactive=G(!0);get dirty(){return!this.pristine}get touched(){return Vt(this.touchedReactive)}set touched(e){Vt(()=>this.touchedReactive.set(e))}_touched=Xr(()=>this.touchedReactive());touchedReactive=G(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vy(e,this._rawAsyncValidators))}hasValidator(e){return Xa(this._rawValidators,e)}hasAsyncValidator(e){return Xa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(R({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Do(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Do(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(R({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new wo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new wo(!0,r))}markAsPending(e={}){this.status=ti;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ni(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(R({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=vo,this.errors=null,this._forEachChild(i=>{i.disable(z(R({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,r)),this._events.next(new ni(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(R({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=yo,this._forEachChild(r=>{r.enable(z(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(R({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yo||this.status===ti)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,n)),this._events.next(new ni(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(R({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vo:yo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ti,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=xy(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ni(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?vo:this.errors?Ja:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ti)?ti:this._anyControlsHaveStatus(Ja)?Ja:yo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new wo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Do(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ac(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dI(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fI(this._rawAsyncValidators)}},ic=class extends rc{constructor(e,n,r){super(ky(n),Oy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pI(this,!0,e),Object.keys(e).forEach(r=>{hI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Jd=new $("",{providedIn:"root",factory:()=>Xd}),Xd="always";function gI(t,e){return[...e.path,t]}function Ry(t,e,n=Xd){Fy(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),yI(t,e),_I(t,e),vI(t,e),mI(t,e)}function _y(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mI(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Fy(t,e){let n=cI(t);e.validator!==null?t.setValidators(my(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=lI(t);e.asyncValidator!==null?t.setAsyncValidators(my(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();_y(e._rawValidators,i),_y(e._rawAsyncValidators,i)}function yI(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Py(t,e)})}function vI(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Py(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Py(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _I(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function wI(t,e){t==null,Fy(t,e)}function DI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function bI(t){return Object.getPrototypeOf(t.constructor)===oc}function EI(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function CI(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===$t?n=o:bI(o)?r=o:i=o}),i||r||n||null}var II={provide:ri,useExisting:We(()=>ef)},_o=Promise.resolve(),ef=(()=>{class t extends ri{callSetDisabledState;get submitted(){return Vt(this.submittedReactive)}_submitted=Xr(()=>this.submittedReactive());submittedReactive=G(!1);_directives=new Set;form;ngSubmit=new Ae;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new ic({},Kd(n),Qd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){_o.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ry(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){_o.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){_o.then(()=>{let r=this._findContainer(n.path),i=new ic({});wI(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){_o.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){_o.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),EI(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Yd(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Zd(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(k(sc,10),k(Iy,10),k(Jd,8))};static \u0275dir=de({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jt([II]),Be]})}return t})();function wy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Dy(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var SI=class extends rc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(ky(n),Oy(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ac(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Dy(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Dy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xI={provide:bo,useExisting:We(()=>Ct)},by=Promise.resolve(),Ct=(()=>{class t extends bo{_changeDetectorRef;callSetDisabledState;control=new SI;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ae;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CI(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),DI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ry(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){by.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Od(r);by.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?gI(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(k(ri,9),k(sc,10),k(Iy,10),k(Eo,10),k(Ga,8),k(Jd,8))};static \u0275dir=de({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[jt([xI]),Be,Xi]})}return t})();var Ly=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=de({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),MI={provide:Eo,useExisting:We(()=>lr),multi:!0},lr=(()=>{class t extends oc{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})();static \u0275dir=de({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[jt([MI]),Be]})}return t})();var TI={provide:Eo,useExisting:We(()=>st),multi:!0};function jy(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function AI(t){return t.split(":")[0]}var st=(()=>{class t extends oc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=C(Lt).injector;destroyRef=C(en);cdr=C(Ga);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,hd({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=jy(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=AI(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})();static \u0275dir=de({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([TI]),Be]})}return t})(),Ht=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(jy(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(k(rn),k(En),k(st,9))};static \u0275dir=de({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),NI={provide:Eo,useExisting:We(()=>Vy),multi:!0};function Ey(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kI(t){return t.split(":")[0]}var Vy=(()=>{class t extends oc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=kI(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})();static \u0275dir=de({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([NI]),Be]})}return t})(),Wt=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Ey(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Ey(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(k(rn),k(En),k(Vy,9))};static \u0275dir=de({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function OI(t){return typeof t=="number"?t:parseFloat(t)}var By=(()=>{class t{_validator=gy;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=de({type:t,features:[Xi]})}return t})();var RI={provide:sc,useExisting:We(()=>ur),multi:!0},ur=(()=>{class t extends By{min;inputName="min";normalizeInput=n=>OI(n);createValidator=n=>rI(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})();static \u0275dir=de({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&io("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[jt([RI]),Be]})}return t})(),FI={provide:sc,useExisting:We(()=>tf),multi:!0};var tf=(()=>{class t extends By{required;inputName="required";normalizeInput=Od;createValidator=n=>iI;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=bn(t)))(i||t)}})();static \u0275dir=de({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&io("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[jt([FI]),Be]})}return t})();var PI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cn({type:t});static \u0275inj=Jt({})}return t})();var at=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Jd,useValue:n.callSetDisabledState??Xd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cn({type:t});static \u0275inj=Jt({imports:[PI]})}return t})();var Mn=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],Io=[{id:"desayuno",label:"Desayuno",icon:"\u{1F305}"},{id:"merienda",label:"Merienda",icon:"\u{1F950}"},{id:"almuerzo",label:"Almuerzo",icon:"\u{1F37D}\uFE0F"},{id:"cafe",label:"Caf\xE9",icon:"\u2615"},{id:"cena",label:"Cena",icon:"\u{1F319}"}];var LI=Math.pow(10,8)*24*60*60*1e3,F$=-LI,cc=6048e5,$y=864e5,nf=6e4,rf=36e5;var jI=3600;var Uy=jI*24,P$=Uy*7,VI=Uy*365.2425,BI=VI/12,L$=BI*3,of=Symbol.for("constructDateFrom");function be(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&of in t?t[of](e):t instanceof Date?new t.constructor(e):new Date(e)}function ee(t,e){return be(e||t,t)}function Hy(t,e,n){let r=ee(t,n?.in);return isNaN(e)?be(n?.in||t,NaN):(e&&r.setDate(r.getDate()+e),r)}var $I={};function Tn(){return $I}function Ie(t,e){let n=Tn(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ee(t,e?.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function dr(t,e){return Ie(t,z(R({},e),{weekStartsOn:1}))}function lc(t,e){let n=ee(t,e?.in),r=n.getFullYear(),i=be(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let o=dr(i),s=be(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let a=dr(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function sf(t){let e=ee(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Wy(t,...e){let n=be.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function af(t,e){let n=ee(t,e?.in);return n.setHours(0,0,0,0),n}function qy(t,e,n){let[r,i]=Wy(n?.in,t,e),o=af(r),s=af(i),a=+o-sf(o),c=+s-sf(s);return Math.round((a-c)/$y)}function Gy(t,e){let n=lc(t,e),r=be(e?.in||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),dr(r)}function zy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yy(t){return!(!zy(t)&&typeof t!="number"||isNaN(+ee(t)))}function Zy(t,e){let n=ee(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}var UI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ky=(t,e,n)=>{let r,i=UI[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function An(t){return(e={})=>{let n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var HI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qy={date:An({formats:HI,defaultWidth:"full"}),time:An({formats:WI,defaultWidth:"full"}),dateTime:An({formats:qI,defaultWidth:"full"})};var GI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jy=(t,e,n,r)=>GI[t];function ct(t){return(e,n)=>{let r=n?.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){let s=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{let s=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}let o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}var zI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XI=(t,e)=>{let n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xy={ordinalNumber:XI,era:ct({values:zI,defaultWidth:"wide"}),quarter:ct({values:YI,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ct({values:ZI,defaultWidth:"wide"}),day:ct({values:KI,defaultWidth:"wide"}),dayPeriod:ct({values:QI,defaultWidth:"wide",formattingValues:JI,defaultFormattingWidth:"wide"})};function lt(t){return(e,n={})=>{let r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;let s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?tS(a,d=>d.test(s)):eS(a,d=>d.test(s)),l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let u=e.slice(s.length);return{value:l,rest:u}}}function eS(t,e){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function tS(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function uc(t){return(e,n={})=>{let r=e.match(t.matchPattern);if(!r)return null;let i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;let a=e.slice(i.length);return{value:s,rest:a}}}var nS=/^(\d+)(th|st|nd|rd)?/i,rS=/\d+/i,iS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oS={any:[/^b/i,/^(a|c)/i]},sS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aS={any:[/1/i,/2/i,/3/i,/4/i]},cS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ev={ordinalNumber:uc({matchPattern:nS,parsePattern:rS,valueCallback:t=>parseInt(t,10)}),era:lt({matchPatterns:iS,defaultMatchWidth:"wide",parsePatterns:oS,defaultParseWidth:"any"}),quarter:lt({matchPatterns:sS,defaultMatchWidth:"wide",parsePatterns:aS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lt({matchPatterns:cS,defaultMatchWidth:"wide",parsePatterns:lS,defaultParseWidth:"any"}),day:lt({matchPatterns:uS,defaultMatchWidth:"wide",parsePatterns:dS,defaultParseWidth:"any"}),dayPeriod:lt({matchPatterns:fS,defaultMatchWidth:"any",parsePatterns:hS,defaultParseWidth:"any"})};var cf={code:"en-US",formatDistance:Ky,formatLong:Qy,formatRelative:Jy,localize:Xy,match:ev,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tv(t,e){let n=ee(t,e?.in);return qy(n,Zy(n))+1}function nv(t,e){let n=ee(t,e?.in),r=+dr(n)-+Gy(n);return Math.round(r/cc)+1}function dc(t,e){let n=ee(t,e?.in),r=n.getFullYear(),i=Tn(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=be(e?.in||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);let a=Ie(s,e),c=be(e?.in||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);let l=Ie(c,e);return+n>=+a?r+1:+n>=+l?r:r-1}function rv(t,e){let n=Tn(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=dc(t,e),o=be(e?.in||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Ie(o,e)}function iv(t,e){let n=ee(t,e?.in),r=+Ie(n,e)-+rv(n,e);return Math.round(r/cc)+1}function Y(t,e){let n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}var cn={y(t,e){let n=t.getFullYear(),r=n>0?n:1-n;return Y(e==="yy"?r%100:r,e.length)},M(t,e){let n=t.getMonth();return e==="M"?String(n+1):Y(n+1,2)},d(t,e){return Y(t.getDate(),e.length)},a(t,e){let n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Y(t.getHours()%12||12,e.length)},H(t,e){return Y(t.getHours(),e.length)},m(t,e){return Y(t.getMinutes(),e.length)},s(t,e){return Y(t.getSeconds(),e.length)},S(t,e){let n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Y(i,e.length)}};var ii={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lf={G:function(t,e,n){let r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){let r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return cn.y(t,e)},Y:function(t,e,n,r){let i=dc(t,r),o=i>0?i:1-i;if(e==="YY"){let s=o%100;return Y(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Y(o,e.length)},R:function(t,e){let n=lc(t);return Y(n,e.length)},u:function(t,e){let n=t.getFullYear();return Y(n,e.length)},Q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Y(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Y(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){let r=t.getMonth();switch(e){case"M":case"MM":return cn.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){let r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Y(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){let i=iv(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Y(i,e.length)},I:function(t,e,n){let r=nv(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Y(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):cn.d(t,e)},D:function(t,e,n){let r=tv(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Y(r,e.length)},E:function(t,e,n){let r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){let i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Y(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){let i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Y(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){let r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Y(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){let i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){let r=t.getHours(),i;switch(r===12?i=ii.noon:r===0?i=ii.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){let r=t.getHours(),i;switch(r>=17?i=ii.evening:r>=12?i=ii.afternoon:r>=4?i=ii.morning:i=ii.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return cn.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):cn.H(t,e)},K:function(t,e,n){let r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Y(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Y(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):cn.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):cn.s(t,e)},S:function(t,e){return cn.S(t,e)},X:function(t,e,n){let r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return sv(r);case"XXXX":case"XX":return fr(r);case"XXXXX":case"XXX":default:return fr(r,":")}},x:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"x":return sv(r);case"xxxx":case"xx":return fr(r);case"xxxxx":case"xxx":default:return fr(r,":")}},O:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ov(r,":");case"OOOO":default:return"GMT"+fr(r,":")}},z:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ov(r,":");case"zzzz":default:return"GMT"+fr(r,":")}},t:function(t,e,n){let r=Math.trunc(+t/1e3);return Y(r,e.length)},T:function(t,e,n){return Y(+t,e.length)}};function ov(t,e=""){let n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Y(o,2)}function sv(t,e){return t%60===0?(t>0?"-":"+")+Y(Math.abs(t)/60,2):fr(t,e)}function fr(t,e=""){let n=t>0?"-":"+",r=Math.abs(t),i=Y(Math.trunc(r/60),2),o=Y(r%60,2);return n+i+e+o}var av=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cv=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pS=(t,e)=>{let n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return av(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",av(r,e)).replace("{{time}}",cv(i,e))},lv={p:cv,P:pS};var gS=/^D+$/,mS=/^Y+$/,yS=["D","DD","YY","YYYY"];function uv(t){return gS.test(t)}function dv(t){return mS.test(t)}function fv(t,e,n){let r=vS(t,e,n);if(console.warn(r),yS.includes(t))throw new RangeError(r)}function vS(t,e,n){let r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var _S=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DS=/^'([^]*?)'?$/,bS=/''/g,ES=/[a-zA-Z]/;function uf(t,e,n){let r=Tn(),i=n?.locale??r.locale??cf,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ee(t,n?.in);if(!Yy(a))throw new RangeError("Invalid time value");let c=e.match(wS).map(u=>{let d=u[0];if(d==="p"||d==="P"){let p=lv[d];return p(u,i.formatLong)}return u}).join("").match(_S).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:CS(u)};if(lf[d])return{isToken:!0,value:u};if(d.match(ES))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));let l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!n?.useAdditionalWeekYearTokens&&dv(d)||!n?.useAdditionalDayOfYearTokens&&uv(d))&&fv(d,e,String(t));let p=lf[d[0]];return p(a,d,i.localize,l)}).join("")}function CS(t){let e=t.match(DS);return e?e[1].replace(bS,"'"):t}function hv(t,e){let n=()=>be(e?.in,NaN),r=e?.additionalDigits??2,i=MS(t),o;if(i.date){let l=TS(i.date,r);o=AS(l.restDateString,l.year)}if(!o||isNaN(+o))return n();let s=+o,a=0,c;if(i.time&&(a=NS(i.time),isNaN(a)))return n();if(i.timezone){if(c=kS(i.timezone),isNaN(c))return n()}else{let l=new Date(s+a),u=ee(0,e?.in);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return ee(s+a+c,e?.in)}var fc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},IS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,SS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xS=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MS(t){let e={},n=t.split(fc.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],fc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(fc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){let i=fc.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function TS(t,e){let n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function AS(t,e){if(e===null)return new Date(NaN);let n=t.match(IS);if(!n)return new Date(NaN);let r=!!n[4],i=So(n[1]),o=So(n[2])-1,s=So(n[3]),a=So(n[4]),c=So(n[5])-1;if(r)return LS(e,a,c)?OS(e,a,c):new Date(NaN);{let l=new Date(0);return!FS(e,o,s)||!PS(e,i)?new Date(NaN):(l.setUTCFullYear(e,o,Math.max(i,s)),l)}}function So(t){return t?parseInt(t):1}function NS(t){let e=t.match(SS);if(!e)return NaN;let n=df(e[1]),r=df(e[2]),i=df(e[3]);return jS(n,r,i)?n*rf+r*nf+i*1e3:NaN}function df(t){return t&&parseFloat(t.replace(",","."))||0}function kS(t){if(t==="Z")return 0;let e=t.match(xS);if(!e)return 0;let n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return VS(r,i)?n*(r*rf+i*nf):NaN}function OS(t,e,n){let r=new Date(0);r.setUTCFullYear(t,0,4);let i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var RS=[31,null,31,30,31,30,31,31,30,31,30,31];function pv(t){return t%400===0||t%4===0&&t%100!==0}function FS(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(RS[e]||(pv(t)?29:28))}function PS(t,e){return e>=1&&e<=(pv(t)?366:365)}function LS(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function jS(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function VS(t,e){return e>=0&&e<=59}var BS={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xEDa",other:"{{count}} d\xEDas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xF1o",other:"alrededor de {{count}} a\xF1os"},xYears:{one:"1 a\xF1o",other:"{{count}} a\xF1os"},overXYears:{one:"m\xE1s de 1 a\xF1o",other:"m\xE1s de {{count}} a\xF1os"},almostXYears:{one:"casi 1 a\xF1o",other:"casi {{count}} a\xF1os"}},gv=(t,e,n)=>{let r,i=BS[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r};var $S={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},US={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},HS={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mv={date:An({formats:$S,defaultWidth:"full"}),time:An({formats:US,defaultWidth:"full"}),dateTime:An({formats:HS,defaultWidth:"full"})};var WS={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xF1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},qS={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xF1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},yv=(t,e,n,r)=>e.getHours()!==1?qS[t]:WS[t];var GS={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xE9s de cristo"]},zS={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},YS={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},ZS={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xE1"],abbreviated:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],wide:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"]},KS={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},QS={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},JS=(t,e)=>Number(t)+"\xBA",vv={ordinalNumber:JS,era:ct({values:GS,defaultWidth:"wide"}),quarter:ct({values:zS,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:ct({values:YS,defaultWidth:"wide"}),day:ct({values:ZS,defaultWidth:"wide"}),dayPeriod:ct({values:KS,defaultWidth:"wide",formattingValues:QS,defaultFormattingWidth:"wide"})};var XS=/^(\d+)(º)?/i,ex=/\d+/i,tx={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},nx={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},rx={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},ix={any:[/1/i,/2/i,/3/i,/4/i]},ox={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},sx={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},ax={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},cx={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},lx={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},ux={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},_v={ordinalNumber:uc({matchPattern:XS,parsePattern:ex,valueCallback:function(t){return parseInt(t,10)}}),era:lt({matchPatterns:tx,defaultMatchWidth:"wide",parsePatterns:nx,defaultParseWidth:"any"}),quarter:lt({matchPatterns:rx,defaultMatchWidth:"wide",parsePatterns:ix,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lt({matchPatterns:ox,defaultMatchWidth:"wide",parsePatterns:sx,defaultParseWidth:"any"}),day:lt({matchPatterns:ax,defaultMatchWidth:"wide",parsePatterns:cx,defaultParseWidth:"any"}),dayPeriod:lt({matchPatterns:lx,defaultMatchWidth:"any",parsePatterns:ux,defaultParseWidth:"any"})};var qt={code:"es",formatDistance:gv,formatLong:mv,formatRelative:yv,localize:vv,match:_v,options:{weekStartsOn:1,firstWeekContainsDate:1}};var wv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var xo=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Mo=class extends xo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},To=class extends xo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ao=class extends xo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},ff=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(ff||{});var dx=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},No=class{constructor(e,{headers:n={},customFetch:r,region:i=ff.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=wv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return dx(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s,signal:a}=n,c={},{region:l}=n;l||(l=this.region);let u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(c["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(c["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(c["Content-Type"]="application/json",d=JSON.stringify(s)));let p=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:d,signal:a}).catch(b=>{throw b.name==="AbortError"?b:new Mo(b)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new To(p);if(!p.ok)throw new Ao(p);let _=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield p.json():_==="application/octet-stream"?w=yield p.blob():_==="text/event-stream"?w=p:_==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Mo(i)}:{data:null,error:i,response:i instanceof Ao||i instanceof To?i.context:void 0}}})}};var Nv=G0(Av(),1),{PostgrestClient:kv,PostgrestQueryBuilder:m3,PostgrestFilterBuilder:y3,PostgrestTransformBuilder:v3,PostgrestBuilder:_3,PostgrestError:Dx}=Nv.default;var Cf=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},If=Cf;var Ov="2.15.5";var Rv=`realtime-js/${Ov}`,Fv="1.0.0";var jo=1e4,Pv=1e3,Lv=100,Vo=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(Vo||{}),ve=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(ve||{}),ut=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(ut||{}),Sf=(function(t){return t.websocket="websocket",t})(Sf||{}),hr=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(hr||{});var pc=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let c=r.decode(e.slice(s,s+o));s=s+o;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var si=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ne=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(ne||{}),Mf=(t,e,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=bx(s,t,e,i),o),{})},bx=(t,e,n,r)=>{let i=e.find(a=>a.name===t),o=i?.type,s=n[t];return o&&!r.includes(o)?jv(o,s):xf(s)},jv=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return Sx(e,n)}switch(t){case ne.bool:return Ex(e);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Cx(e);case ne.json:case ne.jsonb:return Ix(e);case ne.timestamp:return xx(e);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return xf(e);default:return xf(e)}},xf=t=>t,Ex=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Cx=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ix=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sx=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>jv(e,a))}return t},xx=t=>typeof t=="string"?t.replace(" ","T"):t,gc=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};var ai=class{constructor(e,n,r={},i=jo){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Bo=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){let o=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let p=u.map(b=>b.presence_ref),h=d.map(b=>b.presence_ref),_=u.filter(b=>h.indexOf(b.presence_ref)<0),w=d.filter(b=>p.indexOf(b.presence_ref)<0);_.length>0&&(a[l]=_),w.length>0&&(c[l]=w)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(h=>h.presence_ref),p=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,i(a,l,c),l.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $o=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})($o||{}),ln=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(ln||{});var Uo=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ai(this,ut.join,this.params,this.timeout),this.rejoinTimer=new si(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ut.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Bo(this),this.broadcastEndpointURL=gc(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[$o.PRESENCE]&&this.bindings[$o.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(ln.CHANNEL_ERROR,h)),this._onClose(()=>e?.(ln.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",_=>f(this,[_],function*({postgres_changes:h}){var w;if(this.socket.setAuth(),h===void 0){e?.(ln.SUBSCRIBED);return}else{let b=this.bindings.postgres_changes,E=(w=b?.length)!==null&&w!==void 0?w:0,q=[];for(let N=0;N<E;N++){let S=b[N],{filter:{event:J,schema:St,table:te,filter:ye}}=S,dn=h&&h[N];if(dn&&dn.event===J&&dn.schema===St&&dn.table===te&&dn.filter===ye)q.push(Object.assign(Object.assign({},S),{id:dn.id}));else{this.unsubscribe(),this.state=ve.errored,e?.(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,e&&e(ln.SUBSCRIBED);return}})).receive("error",h=>{this.state=ve.errored,e?.(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this.state===ve.joined&&e===$o.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}send(r){return f(this,arguments,function*(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ve.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ut.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ai(this,ut.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ve.closed,this.bindings={}}_fetchWithTimeout(e,n,r){return f(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ai(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Lv){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ut;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var _,w,b;return((_=h.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(w=h.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(h=>h.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var _,w,b,E,q,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let S=h.id,J=(_=h.filter)===null||_===void 0?void 0:_.event;return S&&((w=n.ids)===null||w===void 0?void 0:w.includes(S))&&(J==="*"||J?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let S=(q=(E=h?.filter)===null||E===void 0?void 0:E.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return S==="*"||S===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){let _=p.data,{schema:w,table:b,commit_timestamp:E,type:q,errors:N}=_;p=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:E,eventType:q,new:{},old:{},errors:N}),this._getPayloadRecords(_))}h.callback(p,r)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ut.close,{},e)}_onError(e){this._on(ut.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Mf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Mf(e.columns,e.old_record)),n}};var Tf=()=>{},mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tx=[1e3,2e3,5e3,1e4],Ax=1e4,Nx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ho=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jo,this.transport=null,this.heartbeatIntervalMs=mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tf,this.ref=0,this.reconnectTimer=null,this.logger=Tf,this.conn=null,this.sendBuffer=[],this.serializer=new pc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sf.websocket}`,this.httpEndpoint=gc(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=If.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fv}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return f(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return f(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vo.connecting:return hr.Connecting;case Vo.open:return hr.Open;case Vo.closing:return hr.Closing;default:return hr.Closed}}isConnected(){return this.connectionState()===hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Uo(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){let{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return f(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return f(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Pv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ut.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([Nx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(e=null){return f(this,null,function*(){let n;e?n=e:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let i={access_token:n,version:Rv};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ut.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new si(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),mc.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,s,a,c,l,u;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:jo,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:mc.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Tf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:d=>Tx[d-1]||Ax,this.encode=(l=e?.encode)!==null&&l!==void 0?l:(d,p)=>p(JSON.stringify(d)),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};var ci=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var yc=class extends ci{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pr=class extends ci{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var kx=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},_c=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Vv=()=>kx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),vc=t=>{if(Array.isArray(t))return t.map(n=>vc(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=vc(r)}),e},Bv=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var gr=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Af=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ox=(t,e,n)=>gr(void 0,void 0,void 0,function*(){let r=yield Vv();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{let o=t.status||500,s=i?.statusCode||o+"";e(new yc(Af(i),o,s))}).catch(i=>{e(new pr(Af(i),i))}):e(new pr(Af(t),t))}),Rx=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(Bv(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Wo(t,e,n,r,i,o){return gr(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,Rx(e,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Ox(c,a,r))})})}function li(t,e,n,r){return gr(this,void 0,void 0,function*(){return Wo(t,"GET",e,n,r)})}function dt(t,e,n,r,i){return gr(this,void 0,void 0,function*(){return Wo(t,"POST",e,r,i,n)})}function qo(t,e,n,r,i){return gr(this,void 0,void 0,function*(){return Wo(t,"PUT",e,r,i,n)})}function $v(t,e,n,r){return gr(this,void 0,void 0,function*(){return Wo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function wc(t,e,n,r,i){return gr(this,void 0,void 0,function*(){return Wo(t,"DELETE",e,r,i,n)})}var Fx=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Dc=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Fx(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(le(e))return{data:null,error:e};throw e}})}};var Px=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},bc=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new Dc(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return Px(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(le(e))return{data:null,error:e};throw e}})}};var $e=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Lx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ec=class{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=_c(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return $e(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},Uv),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield(e=="PUT"?qo:dt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(le(o))return{data:null,error:o};throw o}})}upload(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return $e(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:Uv.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield qo(this.fetch,a.toString(),c,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new ci("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}update(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}copy(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return $e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield dt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return $e(this,void 0,void 0,function*(){try{let i=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}download(e,n){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),c=()=>li(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new bc(c,this.shouldThrowOnError)}info(e){return $e(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield li(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}exists(e){return $e(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield $v(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r)&&r instanceof pr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield wc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}list(e,n,r){return $e(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},Lx),n),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}listV2(e,n){return $e(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var Hv="2.12.2";var Wv={"X-Client-Info":`storage-js/${Hv}`};var ui=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Cc=class{constructor(e,n={},r,i){this.shouldThrowOnError=!1;let o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Wv),n),this.fetch=_c(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ui(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(le(e))return{data:null,error:e};throw e}})}getBucket(e){return ui(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ui(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ui(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ui(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ui(this,void 0,void 0,function*(){try{return{data:yield wc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}};var Go=class extends Cc{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Ec(this.url,this.headers,e,this.fetch)}};var qv="2.58.0";var zo="";typeof Deno<"u"?zo="deno":typeof document<"u"?zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zo="react-native":zo="node";var jx={"X-Client-Info":`supabase-js-${zo}/${qv}`},Gv={headers:jx},zv={schema:"public"},Yv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zv={};Jf();var Vx=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},Bx=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kf:e=fetch,(...n)=>e(...n)},$x=()=>typeof Headers>"u"?Qf:Headers,Kv=(t,e,n)=>{let r=Bx(n),i=$x();return(o,s)=>Vx(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};var Ux=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function Hx(t){return t.endsWith("/")?t:t+"/"}function Qv(t,e){var n,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ux(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Jv(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ic="2.72.0";var mr=30*1e3,Sc=3,xc=Sc*mr,Xv="http://localhost:9999",e0="supabase.auth.token";var t0={"X-Client-Info":`gotrue-js/${Ic}`};var Yo="X-Supabase-Api-Version",Nf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},n0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r0=600*1e3;var Zo=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Mc=class extends Zo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function i0(t){return B(t)&&t.name==="AuthApiError"}var di=class extends Zo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Gt=class extends Zo{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},ft=class extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function o0(t){return B(t)&&t.name==="AuthSessionMissingError"}var Nn=class extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},yr=class extends Gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},vr=class extends Gt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function s0(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}var Ko=class extends Gt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},fi=class extends Gt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Tc(t){return B(t)&&t.name==="AuthRetryableFetchError"}var Qo=class extends Gt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var _r=class extends Gt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ac="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),a0=` 	
\r=`.split(""),Wx=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<a0.length;e+=1)t[a0[e].charCodeAt(0)]=-2;for(let e=0;e<Ac.length;e+=1)t[Ac[e].charCodeAt(0)]=e;return t})();function c0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Ac[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Ac[r]),e.queuedBits-=6}}function l0(t,e,n){let r=Wx[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kf(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{zx(s,r,n)};for(let s=0;s<t.length;s+=1)l0(t.charCodeAt(s),i,o);return e.join("")}function qx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Gx(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}qx(r,e)}}function zx(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function u0(t){let e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)l0(t.charCodeAt(i),n,r);return new Uint8Array(e)}function d0(t){let e=[];return Gx(t,n=>e.push(n)),new Uint8Array(e)}function f0(t){let e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>c0(i,n,r)),c0(null,n,r),e.join("")}function h0(t){return Math.round(Date.now()/1e3)+t}function p0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var Ke=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},Nc=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function g0(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}var kc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},m0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Dr=(t,e,n)=>f(null,null,function*(){yield t.setItem(e,JSON.stringify(n))}),kn=(t,e)=>f(null,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),un=(t,e)=>f(null,null,function*(){yield t.removeItem(e)}),Jo=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Jo.promiseConstructor=Promise;function Oc(t){let e=t.split(".");if(e.length!==3)throw new _r("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!n0.test(e[r]))throw new _r("JWT not in base64url format");return{header:JSON.parse(kf(e[0])),payload:JSON.parse(kf(e[1])),signature:u0(e[2]),raw:{header:e[0],payload:e[1]}}}function y0(t){return f(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function v0(t,e){return new Promise((r,i)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function Yx(t){return("0"+t.toString(16)).substr(-2)}function Zx(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Yx).join("")}function Kx(t){return f(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function Qx(t){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield Kx(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function br(t,e,n=!1){return f(this,null,function*(){let r=Zx(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Dr(t,`${e}-code-verifier`,i);let o=yield Qx(r);return[o,r===o?"plain":"s256"]})}var Jx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _0(t){let e=t.headers.get(Yo);if(!e||!e.match(Jx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function w0(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function D0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Xx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(t){if(!Xx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rc(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Of(t){return JSON.parse(JSON.stringify(t))}var eM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Cr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tM=[502,503,504];function b0(t){return f(this,null,function*(){var e;if(!m0(t))throw new fi(Cr(t),0);if(tM.includes(t.status))throw new fi(Cr(t),t.status);let n;try{n=yield t.json()}catch(o){throw new di(Cr(o),o)}let r,i=_0(t);if(i&&i.getTime()>=Nf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qo(Cr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ft}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Qo(Cr(n),t.status,n.weak_password.reasons);throw new Mc(Cr(n),t.status||500,r)})}var nM=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function U(t,e,n,r){return f(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Yo]||(o[Yo]=Nf["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield rM(t,e,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function rM(t,e,n,r,i,o){return f(this,null,function*(){let s=nM(e,r,i,o),a;try{a=yield t(n,Object.assign({},s))}catch(c){throw console.error(c),new fi(Cr(c),0)}if(a.ok||(yield b0(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield b0(c)}})}function It(t){var e;let n=null;iM(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=h0(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Rf(t){let e=It(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function E0(t){return{data:t,error:null}}function C0(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=eM(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function I0(t){return t}function iM(t){return t.access_token&&t.refresh_token&&t.expires_in}var Fc=["global","local","others"];var oM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},hi=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=kc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return f(this,arguments,function*(e,n=Fc[0]){if(Fc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fc.join(", ")}`);try{return yield U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(B(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return f(this,arguments,function*(e,n={}){try{return yield U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zt})}catch(i){if(B(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return f(this,null,function*(){try{let{options:n}=e,r=oM(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:C0,redirectTo:n?.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return f(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return f(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:I0});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(_=>{let w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);l[`${b}Page`]=w}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(B(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return f(this,null,function*(){Er(e);try{return yield U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return f(this,null,function*(){Er(e);try{return yield U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:zt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return f(this,null,function*(){Er(e);try{return yield U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:zt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return f(this,null,function*(){Er(e.userId);try{let{data:n,error:r}=yield U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return f(this,null,function*(){Er(e.userId),Er(e.id);try{return{data:yield U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}})}};function Ff(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function S0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ir={debug:!!(globalThis&&Nc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Xo=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Pc=class extends Xo{};function Pf(t,e,n){return f(this,null,function*(){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>f(null,null,function*(){if(i){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield n()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Pc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ir.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function Lf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function x0(t){return parseInt(t,16)}function M0(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function T0(t){var e;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let h=Lf(t.address),_=u?`${u}://${r}`:r,w=t.statement?`${t.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${h}

${w}`,E=`URI: ${d}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),a&&(E+=`
Not Before: ${a.toISOString()}`),c&&(E+=`
Request ID: ${c}`),l){let q=`
Resources:`;for(let N of l){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);q+=`
- ${N}`}E+=q}return`${b}
${E}`}S0();var sM={url:Xv,storageKey:e0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function A0(t,e,n){return f(this,null,function*(){return yield n()})}var pi={},jf=(()=>{class t{constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},sM),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new hi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=kc(o.fetch),this.lock=o.lock||A0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ke()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Pf:this.lock=A0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Nc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var n,r;return(r=(n=pi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=pi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ic}) ${new Date().toISOString()}`,...n),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var n;try{let r=g0(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Ke()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),s0(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?{error:r}:{error:new di("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return f(this,null,function*(){var r,i,o;try{let s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:It}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return f(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:d,password:p,options:h}=n,_=null,w=null;this.flowType==="pkce"&&([_,w]=yield br(this.storage,this.storageKey)),s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:_,code_challenge_method:w},xform:It})}else if("phone"in n){let{phone:d,password:p,options:h}=n;s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:It})}else throw new yr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return f(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rf})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rf})}else throw new yr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Nn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return f(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return f(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return f(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,h;let _,w;if("message"in n)_=n.message,w=n.signature;else{let{chain:b,wallet:E,statement:q,options:N}=n,S;if(Ke())if(typeof E=="object")S=E;else{let Zt=window;if("ethereum"in Zt&&typeof Zt.ethereum=="object"&&"request"in Zt.ethereum&&typeof Zt.ethereum.request=="function")S=Zt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=E}let J=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),St=yield S.request({method:"eth_requestAccounts"}).then(Zt=>Zt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!St||St.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let te=Lf(St[0]),ye=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ye){let Zt=yield S.request({method:"eth_chainId"});ye=x0(Zt)}let dn={domain:J.host,address:te,statement:q,uri:J.href,version:"1",chainId:ye,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.resources};_=T0(dn),w=yield S.request({method:"personal_sign",params:[M0(_),te]})}try{let{data:b,error:E}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=n.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:It});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Nn}:(b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(B(b))return{data:{user:null,session:null},error:b};throw b}})}signInWithSolana(n){return f(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,h,_;let w,b;if("message"in n)w=n.message,b=n.signature;else{let{chain:E,wallet:q,statement:N,options:S}=n,J;if(Ke())if(typeof q=="object")J=q;else{let te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))J=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=q}let St=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in J&&J.signIn){let te=yield J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:St.host,uri:St.href}),N?{statement:N}:null)),ye;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")ye=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)ye=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ye&&"signature"in ye&&(typeof ye.signedMessage=="string"||ye.signedMessage instanceof Uint8Array)&&ye.signature instanceof Uint8Array)w=typeof ye.signedMessage=="string"?ye.signedMessage:new TextDecoder().decode(ye.signedMessage),b=ye.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${St.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${St.href}`,`Issued At: ${(o=(i=S?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=S?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(d=S?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(ye=>`- ${ye}`)]:[]].join(`
`);let te=yield J.signMessage(new TextEncoder().encode(w),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=te}}try{let{data:E,error:q}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:f0(b)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:It});if(q)throw q;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Nn}:(E.session&&(yield this._saveSession(E.session),yield this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:q})}catch(E){if(B(E))return{data:{user:null,session:null},error:E};throw E}})}_exchangeCodeForSession(n){return f(this,null,function*(){let r=yield kn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:It});if(yield un(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Nn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(B(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return f(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=yield U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:It}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return f(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield br(this.storage,this.storageKey));let{error:p}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new yr("You must provide either an email or phone number.")}catch(c){if(B(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return f(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:It});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(B(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(n){return f(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield br(this.storage,this.storageKey)),yield U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:E0})}catch(s){if(B(s))return{data:null,error:s};throw s}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new ft;let{error:o}=yield U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new yr("You must provide either an email or phone number and a type")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(n,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<xc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield kn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Rc()}if(this.storage.isServer&&n.user){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return f(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return f(this,null,function*(){try{return n?yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:zt}):yield this._useSession(r=>f(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:zt})}))}catch(r){if(B(r))return o0(r)&&(yield this._removeSession(),yield un(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return f(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return f(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new ft;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield br(this.storage,this.storageKey));let{data:d,error:p}=yield U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:zt});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(B(o))return{data:{user:null},error:o};throw o}})}setSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return f(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ft;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Oc(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(B(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new ft;let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return f(this,null,function*(){try{if(!Ke())throw new vr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new vr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ko("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ko("No code detected.");let{data:N,error:S}=yield this._exchangeCodeForSession(n.code);if(S)throw S;let J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:N.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new vr("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),h=d+p;l&&(h=parseInt(l));let _=h-d;_*1e3<=mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${p}s`);let w=h-p;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);let{data:b,error:E}=yield this._getUser(s);if(E)throw E;let q={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:h,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:n.type},error:null}}catch(i){if(B(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return f(this,null,function*(){let r=yield kn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return f(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return f(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(i0(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield un(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=p0(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return f(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield br(this.storage,this.storageKey,!0));try{return yield U(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(B(a))return{data:null,error:a};throw a}})}getUserIdentities(){return f(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}})}linkIdentity(n){return f(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>f(this,null,function*(){var a,c,l,u,d;let{data:p,error:h}=s;if(h)throw h;let _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield U(this.fetch,"GET",_,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Ke()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(B(i))return{data:{provider:n.provider,url:null},error:i};throw i}})}unlinkIdentity(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield U(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(B(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return f(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield v0(o=>f(this,null,function*(){return o>0&&(yield y0(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:It})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Tc(s)&&Date.now()+a-i<mr})}catch(i){if(this._debug(r,"error",i),B(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return f(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ke()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield kn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield Dr(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:Rc()}else if(o&&!o.user&&!o.user){let a=yield kn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield un(this.storage,this.storageKey+"-user"),yield Dr(this.storage,this.storageKey,o)):o.user=Rc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xc;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${xc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Tc(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return f(this,null,function*(){var r,i;if(!n)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Jo;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new ft;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),B(s)){let a={session:null,error:s};return Tc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return f(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield Dr(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Of(o);yield Dr(this.storage,this.storageKey,s)}else{let o=Of(r);yield Dr(this.storage,this.storageKey,o)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield un(this.storage,this.storageKey),yield un(this.storage,this.storageKey+"-code-verifier"),yield un(this.storage,this.storageKey+"-user"),this.userStorage&&(yield un(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ke()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),mr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${mr}ms, refresh threshold is ${Sc} ticks`),o<=Sc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Xo)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return f(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield br(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield U(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(B(r))return{data:null,error:r};throw r}})}_enroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:u}=yield U(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(B(r))return{data:null,error:r};throw r}})}_verify(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield U(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(B(r))return{data:null,error:r};throw r}}))})}_challenge(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield U(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(B(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return f(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return f(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){return yield this._useSession(n=>f(this,null,function*(){var r,i;let{data:{session:o},error:s}=n;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Oc(o.access_token),c=null;a.aal&&(c=a.aal);let l=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return f(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(l=>l.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===n),o&&this.jwks_cached_at+r0>s)return o;let{data:a,error:c}=yield U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===n),!o)?null:o})}getClaims(i){return f(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:w,error:b}=yield this.getSession();if(b||!w.session)return{data:null,error:b};o=w.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Oc(o);r?.allowExpired||w0(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:w}=yield this.getUser(o);if(w)throw w;return{data:{claims:a,header:s,signature:c},error:null}}let p=D0(s.alg),h=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,d0(`${l}.${u}`))))throw new _r("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(B(o))return{data:null,error:o};throw o}})}}return t.nextInstanceID=0,t})();var aM=jf,Vf=aM;var Lc=class extends Vf{constructor(e){super(e)}};var cM=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},jc=class{constructor(e,n,r){var i,o,s;this.supabaseUrl=e,this.supabaseKey=n;let a=Jv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:zv,realtime:Zv,auth:Object.assign(Object.assign({},Yv),{storageKey:c}),global:Gv},u=Qv(r??{},l);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Kv(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new kv(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Go(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new No(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return cM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:l},u,d){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lc({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ho(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var N0=(t,e,n)=>new jc(t,e,n);function lM(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lM()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Bf={production:!1,supabase:{url:"https://mxapjkgiahbcrdyzeout.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14YXBqa2dpYWhiY3JkeXplb3V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwNjY2ODksImV4cCI6MjA3MzY0MjY4OX0.6kdy3oZ8GeDrhiK2M1weenR6qcJYRf5aC-JG3cYjZyc"}};var Yt=(()=>{let e=class e{constructor(){this.supabase=N0(Bf.supabase.url,Bf.supabase.anonKey)}getIngredients(){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("ingredients").select("*").order("name");return i?(console.error("Error fetching ingredients:",i),[]):r?.map(o=>({id:o.id,name:o.name,quantity:parseFloat(o.quantity),unit:o.unit,pricePerUnit:parseFloat(o.price_per_unit),category:o.category,isPackage:o.is_package,priceTotal:o.price_total?parseFloat(o.price_total):void 0}))||[]})}addIngredient(r){return f(this,null,function*(){let{error:i}=yield this.supabase.from("ingredients").insert({id:r.id,name:r.name,quantity:r.quantity,unit:r.unit,price_per_unit:r.pricePerUnit,category:r.category,is_package:r.isPackage||!1,price_total:r.priceTotal});return i?(console.error("Error adding ingredient:",i),!1):!0})}updateIngredient(r){return f(this,null,function*(){let{error:i}=yield this.supabase.from("ingredients").update({name:r.name,quantity:r.quantity,unit:r.unit,price_per_unit:r.pricePerUnit,category:r.category,is_package:r.isPackage||!1,price_total:r.priceTotal}).eq("id",r.id);return i?(console.error("Error updating ingredient:",i),!1):!0})}deleteIngredient(r){return f(this,null,function*(){let{error:i}=yield this.supabase.from("ingredients").delete().eq("id",r);return i?(console.error("Error deleting ingredient:",i),!1):!0})}getDishes(){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("dish_details").select("*").order("name");return i?(console.error("Error fetching dishes:",i),[]):r?.map(o=>({id:o.id,name:o.name,category:o.category,servings:o.servings,ingredients:o.ingredients||[]}))||[]})}addDish(r){return f(this,null,function*(){try{let{error:i}=yield this.supabase.from("dishes").insert({id:r.id,name:r.name,category:r.category,servings:r.servings});if(i)throw i;if(r.ingredients&&r.ingredients.length>0){let o=r.ingredients.map(a=>({dish_id:r.id,ingredient_id:a.ingredientId,quantity:a.quantity})),{error:s}=yield this.supabase.from("dish_ingredients").insert(o);if(s)throw s}return!0}catch(i){return console.error("Error adding dish:",i),!1}})}updateDish(r){return f(this,null,function*(){try{let{error:i}=yield this.supabase.from("dishes").update({name:r.name,category:r.category,servings:r.servings}).eq("id",r.id);if(i)throw i;if(yield this.supabase.from("dish_ingredients").delete().eq("dish_id",r.id),r.ingredients&&r.ingredients.length>0){let o=r.ingredients.map(a=>({dish_id:r.id,ingredient_id:a.ingredientId,quantity:a.quantity})),{error:s}=yield this.supabase.from("dish_ingredients").insert(o);if(s)throw s}return!0}catch(i){return console.error("Error updating dish:",i),!1}})}deleteDish(r){return f(this,null,function*(){let{error:i}=yield this.supabase.from("dishes").delete().eq("id",r);return i?(console.error("Error deleting dish:",i),!1):!0})}getWeeklyMenus(){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("weekly_menu_details").select("*").order("week",{ascending:!1});return i?(console.error("Error fetching weekly menus:",i),[]):r?.map(o=>({id:o.id,week:o.week,days:o.days||{}}))||[]})}getWeeklyMenuByWeek(r){return f(this,null,function*(){let{data:i,error:o}=yield this.supabase.from("weekly_menu_details").select("*").eq("week",r).single();return o?(console.error("Error fetching weekly menu:",o),null):i?{id:i.id,week:i.week,days:i.days||{}}:null})}saveWeeklyMenu(r){return f(this,null,function*(){try{let{error:i}=yield this.supabase.from("weekly_menus").upsert({id:r.id,week:r.week});if(i)throw i;yield this.supabase.from("weekly_menu_dishes").delete().eq("weekly_menu_id",r.id);let o=[];if(Object.entries(r.days).forEach(([s,a])=>{a.forEach((c,l)=>{o.push({weekly_menu_id:r.id,day_of_week:s,dish_id:c.id,meal_order:l+1})})}),o.length>0){let{error:s}=yield this.supabase.from("weekly_menu_dishes").insert(o);if(s)throw s}return!0}catch(i){return console.error("Error saving weekly menu:",i),!1}})}getShoppingLists(){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("shopping_list_details").select("*").order("created_at",{ascending:!1});return i?(console.error("Error fetching shopping lists:",i),[]):r?.map(o=>({id:o.id,weekId:o.week_id,items:o.items||[],totalCost:parseFloat(o.total_cost),completed:o.completed,createdAt:new Date(o.created_at)}))||[]})}getShoppingListByWeek(r){return f(this,null,function*(){let{data:i,error:o}=yield this.supabase.from("shopping_list_details").select("*").eq("week_id",r).single();return o?(console.error("Error fetching shopping list:",o),null):i?{id:i.id,weekId:i.week_id,items:i.items||[],totalCost:parseFloat(i.total_cost),completed:i.completed,createdAt:new Date(i.created_at)}:null})}saveShoppingList(r){return f(this,null,function*(){try{let{error:i}=yield this.supabase.from("shopping_lists").upsert({id:r.id,week_id:r.weekId,total_cost:r.totalCost,completed:r.completed});if(i)throw i;if(yield this.supabase.from("shopping_items").delete().eq("shopping_list_id",r.id),r.items&&r.items.length>0){let o=r.items.map(a=>({shopping_list_id:r.id,ingredient_id:a.ingredientId,name:a.name,quantity:a.quantity,unit:a.unit,price_per_unit:a.pricePerUnit,purchased:a.purchased})),{error:s}=yield this.supabase.from("shopping_items").insert(o);if(s)throw s}return!0}catch(i){return console.error("Error saving shopping list:",i),!1}})}getPurchases(){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("purchases").select(`
        *,
        purchase_items (*)
      `).order("purchase_date",{ascending:!1});return i?(console.error("Error fetching purchases:",i),[]):r?.map(o=>({id:o.id,weekId:o.week_id,totalCost:parseFloat(o.total_cost),date:new Date(o.purchase_date),items:o.purchase_items?.map(s=>({ingredientId:s.ingredient_id,name:s.name,quantity:parseFloat(s.quantity),unit:s.unit,pricePerUnit:parseFloat(s.price_per_unit),totalPrice:parseFloat(s.total_price)}))||[]}))||[]})}savePurchase(r){return f(this,null,function*(){try{let{error:i}=yield this.supabase.from("purchases").insert({id:r.id,week_id:r.weekId,total_cost:r.totalCost,purchase_date:r.date.toISOString()});if(i)throw i;if(r.items&&r.items.length>0){let o=r.items.map(a=>({purchase_id:r.id,ingredient_id:a.ingredientId,name:a.name,quantity:a.quantity,unit:a.unit,price_per_unit:a.pricePerUnit,total_price:a.totalPrice})),{error:s}=yield this.supabase.from("purchase_items").insert(o);if(s)throw s}return!0}catch(i){return console.error("Error saving purchase:",i),!1}})}getPredefinedMenus(){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.from("predefined_menus").select(`
        *,
        predefined_menu_dishes (
          day_of_week,
          meal_order,
          dish_id,
          dishes (*)
        )
      `).order("name");return i?(console.error("Error fetching predefined menus:",i),[]):r?.map(o=>{let s={};return o.predefined_menu_dishes?.forEach(a=>{s[a.day_of_week]||(s[a.day_of_week]=[]),a.dishes&&s[a.day_of_week].push({id:a.dishes.id,name:a.dishes.name,category:a.dishes.category,servings:a.dishes.servings,ingredients:[]})}),{id:o.id,name:o.name,days:s,created_at:new Date(o.created_at),updated_at:new Date(o.updated_at)}})||[]})}savePredefinedMenu(r){return f(this,null,function*(){try{let{error:i}=yield this.supabase.from("predefined_menus").upsert({id:r.id,name:r.name});if(i)throw i;yield this.supabase.from("predefined_menu_dishes").delete().eq("predefined_menu_id",r.id);let o=[];if(Object.entries(r.days).forEach(([s,a])=>{a.forEach((c,l)=>{o.push({predefined_menu_id:r.id,day_of_week:s,dish_id:c.id,meal_order:l+1})})}),o.length>0){let{error:s}=yield this.supabase.from("predefined_menu_dishes").insert(o);if(s)throw s}return!0}catch(i){return console.error("Error saving predefined menu:",i),!1}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gi=(()=>{let e=class e{constructor(r){this.supabaseService=r}getMenuByWeek(r){return f(this,null,function*(){return yield this.supabaseService.getWeeklyMenuByWeek(r)})}getMenu(r){return f(this,null,function*(){return(yield this.supabaseService.getWeeklyMenus()).find(o=>o.id===r)||null})}saveMenu(r){return f(this,null,function*(){return yield this.supabaseService.saveWeeklyMenu(r)})}getAllMenus(){return f(this,null,function*(){return yield this.supabaseService.getWeeklyMenus()})}deleteMenu(r){return f(this,null,function*(){return console.warn("Delete menu not implemented yet in Supabase service"),!1})}};e.\u0275fac=function(i){return new(i||e)(I(Yt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mi=(()=>{let e=class e{constructor(){this.notificationsSignal=G([]),this.notifications=this.notificationsSignal.asReadonly()}generateId(){return Math.random().toString(36).substring(2,15)}addNotification(r,i,o=4e3){let s={id:this.generateId(),type:r,message:i,duration:o},a=this.notificationsSignal();this.notificationsSignal.set([...a,s]),o>0&&setTimeout(()=>{this.removeNotification(s.id)},o)}showSuccess(r,i){this.addNotification("success",r,i)}showError(r,i){this.addNotification("error",r,i)}showInfo(r,i){this.addNotification("info",r,i)}showWarning(r,i){this.addNotification("warning",r,i)}removeNotification(r){let i=this.notificationsSignal();this.notificationsSignal.set(i.filter(o=>o.id!==r))}clearAll(){this.notificationsSignal.set([])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ht=(()=>{let e=class e{constructor(r,i){this.supabaseService=r,this.notificationService=i,this.inventorySignal=G([]),this.inventory=this.inventorySignal,this.loadInventory()}loadInventory(){return f(this,null,function*(){try{let r=yield this.supabaseService.getIngredients();this.inventorySignal.set(r)}catch(r){console.error("Error loading inventory from Supabase:",r),this.inventorySignal.set([])}})}getInventory(){return this.inventorySignal()}addIngredient(r){return f(this,null,function*(){try{return(yield this.supabaseService.addIngredient(r))?(yield this.loadInventory(),this.notificationService.showSuccess(`\u2705 Ingrediente "${r.name}" agregado correctamente`),!0):(this.notificationService.showError(`\u274C Error al agregar el ingrediente "${r.name}"`),!1)}catch(i){return console.error("Error adding ingredient:",i),this.notificationService.showError(`\u274C Error al agregar el ingrediente: ${i}`),!1}})}updateIngredient(r){return f(this,null,function*(){try{return(yield this.supabaseService.updateIngredient(r))?(yield this.loadInventory(),this.notificationService.showSuccess(`\u2705 Ingrediente "${r.name}" actualizado correctamente`),!0):(this.notificationService.showError(`\u274C Error al actualizar el ingrediente "${r.name}"`),!1)}catch(i){return console.error("Error updating ingredient:",i),this.notificationService.showError(`\u274C Error al actualizar el ingrediente: ${i}`),!1}})}removeIngredient(r){return f(this,null,function*(){try{let o=this.inventorySignal().find(a=>a.id===r)?.name||"Ingrediente";return(yield this.supabaseService.deleteIngredient(r))?(yield this.loadInventory(),this.notificationService.showSuccess(`\u2705 "${o}" eliminado correctamente`),!0):(this.notificationService.showError(`\u274C Error al eliminar "${o}"`),!1)}catch(i){return console.error("Error removing ingredient:",i),this.notificationService.showError(`\u274C Error al eliminar el ingrediente: ${i}`),!1}})}batchAddIngredients(r){return f(this,null,function*(){try{let i=r.map(s=>({id:s.name.toLowerCase().replace(/\s+/g,"-")+"-"+Math.floor(Math.random()*1e4),name:s.name,quantity:s.quantity,unit:s.unit,pricePerUnit:s.isPackage?0:s.pricePerUnit||0,priceTotal:s.isPackage?s.priceTotal||0:void 0,isPackage:!!s.isPackage,category:s.category||"otros"})),o=!0;for(let s of i)(yield this.supabaseService.addIngredient(s))||(o=!1);return o&&(yield this.loadInventory()),o}catch(i){return console.error("Error batch adding ingredients:",i),!1}})}batchAddIngredientsFromMenu(r){return f(this,null,function*(){let i={};for(let s of Object.keys(r.days))for(let a of r.days[s])if(a.ingredients)for(let c of a.ingredients)i[c.ingredientId]||(i[c.ingredientId]={quantity:0,name:c.name,unit:c.unit,pricePerUnit:c.pricePerUnit}),i[c.ingredientId].quantity+=c.quantity;let o=Object.entries(i).map(([s,a])=>({ingredientId:s,name:a.name,quantity:a.quantity,unit:a.unit,pricePerUnit:a.pricePerUnit}));yield this.addToInventory(o)})}recalculateInventoryFromMenu(r){return f(this,null,function*(){let i=[...this.inventorySignal()],o={};for(let s of Object.keys(r.days))for(let a of r.days[s])if(a.ingredients)for(let c of a.ingredients)o[c.ingredientId]=(o[c.ingredientId]||0)+c.quantity;for(let s of i)o[s.id]&&(s.quantity=Math.max(0,s.quantity-o[s.id]),yield this.supabaseService.updateIngredient(s));yield this.loadInventory()})}consumeIngredients(r){return f(this,null,function*(){let i=[...this.inventorySignal()],o=[],s=[];for(let a of r){let c=i.find(l=>l.id===a.ingredientId);!c||c.quantity<a.quantity?o.push(a.ingredientId):(c.quantity-=a.quantity,s.push(c))}for(let a of s)yield this.supabaseService.updateIngredient(a);return yield this.loadInventory(),o})}addToInventory(r){return f(this,null,function*(){let i=[...this.inventorySignal()];for(let o of r){let s=i.find(a=>a.id===o.ingredientId);if(s)s.quantity+=o.quantity,yield this.supabaseService.updateIngredient(s);else{let a={id:o.ingredientId,name:o.name||"Nuevo producto",quantity:o.quantity,unit:o.unit||"unidades",pricePerUnit:o.pricePerUnit||0,category:"otros"};yield this.supabaseService.addIngredient(a)}}yield this.loadInventory()})}};e.\u0275fac=function(i){return new(i||e)(I(Yt),I(mi))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xe=[];for(let t=0;t<256;++t)xe.push((t+256).toString(16).slice(1));function k0(t,e=0){return(xe[t[e+0]]+xe[t[e+1]]+xe[t[e+2]]+xe[t[e+3]]+"-"+xe[t[e+4]]+xe[t[e+5]]+"-"+xe[t[e+6]]+xe[t[e+7]]+"-"+xe[t[e+8]]+xe[t[e+9]]+"-"+xe[t[e+10]]+xe[t[e+11]]+xe[t[e+12]]+xe[t[e+13]]+xe[t[e+14]]+xe[t[e+15]]).toLowerCase()}var Hf,uM=new Uint8Array(16);function Wf(){if(!Hf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Hf=crypto.getRandomValues.bind(crypto)}return Hf(uM)}var dM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qf={randomUUID:dM};function fM(t,e,n){t=t||{};let r=t.random??t.rng?.()??Wf();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[n+i]=r[i];return e}return k0(r)}function hM(t,e,n){return qf.randomUUID&&!e&&!t?qf.randomUUID():fM(t,e,n)}var Gf=hM;var pt=(()=>{let e=class e{constructor(r,i){this.supabaseService=r,this.notificationService=i,this.dishesSignal=G([]),this.dishes=this.dishesSignal,this.loadDishes()}loadDishes(){return f(this,null,function*(){try{let r=yield this.supabaseService.getDishes();this.dishesSignal.set(r),console.info("[DishesService] Platos cargados desde Supabase:",r.length)}catch(r){console.error("[DishesService] Error cargando platos desde Supabase:",r),this.dishesSignal.set([])}})}getDishes(){return this.dishesSignal()}getDishById(r){return f(this,null,function*(){return this.dishesSignal().find(o=>o.id===r)})}addDish(r){return f(this,null,function*(){(!r.id||typeof r.id!="string"||r.id.trim()==="")&&(r.id=Gf());try{return(yield this.supabaseService.addDish(r))?(yield this.loadDishes(),this.notificationService.showSuccess(`\u{1F37D}\uFE0F Plato "${r.name}" agregado correctamente`),console.info("[DishesService] Plato guardado en Supabase:",r),!0):(this.notificationService.showError(`\u274C Error al agregar el plato "${r.name}"`),!1)}catch(i){return console.error("[DishesService] Error al guardar plato:",i,r),this.notificationService.showError(`\u274C Error al agregar el plato: ${i}`),!1}})}updateDish(r){return f(this,null,function*(){try{return(yield this.supabaseService.updateDish(r))?(yield this.loadDishes(),this.notificationService.showSuccess(`\u{1F37D}\uFE0F Plato "${r.name}" actualizado correctamente`),!0):(this.notificationService.showError(`\u274C Error al actualizar el plato "${r.name}"`),!1)}catch(i){return console.error("[DishesService] Error al actualizar plato:",i),this.notificationService.showError(`\u274C Error al actualizar el plato: ${i}`),!1}})}removeDish(r){return f(this,null,function*(){try{let o=this.dishesSignal().find(a=>a.id===r)?.name||"Plato";return(yield this.supabaseService.deleteDish(r))?(yield this.loadDishes(),this.notificationService.showSuccess(`\u{1F5D1}\uFE0F Plato "${o}" eliminado correctamente`),!0):(this.notificationService.showError(`\u274C Error al eliminar el plato "${o}"`),!1)}catch(i){return console.error("[DishesService] Error al eliminar plato:",i),this.notificationService.showError(`\u274C Error al eliminar el plato: ${i}`),!1}})}getDishesByCategory(r){return f(this,null,function*(){return this.dishesSignal().filter(o=>o.category===r)})}};e.\u0275fac=function(i){return new(i||e)(I(Yt),I(mi))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yi=(()=>{let e=class e{currentMenu(){return this.currentMenuSignal()}get inventoryServicePublic(){return this.inventoryService}constructor(r,i,o){this.weeklyMenuService=r,this.inventoryService=i,this.dishesService=o,this.currentMenuSignal=G(null),this.currentMenu$=this.currentMenuSignal,this.loadCurrentWeekMenu()}processMenuWarnings(r){return f(this,null,function*(){if(r){r.warnings=r.warnings||{};for(let i of Object.keys(r.days)){r.warnings[i]=r.warnings[i]||{};for(let o of r.days[i]){let s=o.category,a=yield this.inventoryService.consumeIngredients(o.ingredients),c=[];if(a.length>0){let l=yield this.inventoryService.getInventory();c=a.map(u=>{let d=l.find(p=>p.id===u);return d?d.name:u})}r.warnings[i][s]=r.warnings[i][s]||{},r.warnings[i][s][o.id]=c.length>0?c:null}}this.currentMenuSignal.set(R({},r)),yield this.saveMenu(r)}})}getCurrentWeek(){return Ie(new Date,{weekStartsOn:1,locale:qt}).toISOString().split("T")[0]}initializeEmptyWeek(r){let i={};for(let o of Mn)i[o]=[];return{id:`menu-${r}`,week:r,days:i}}loadCurrentWeekMenu(){return f(this,null,function*(){let r=this.getCurrentWeek(),i=yield this.weeklyMenuService.getMenuByWeek(r);i||(i=this.initializeEmptyWeek(r),yield this.saveMenu(i)),this.currentMenuSignal.set(i)})}saveMenu(r){return f(this,null,function*(){yield this.weeklyMenuService.saveMenu(r)})}getCurrentMenu(){return this.currentMenuSignal()}addDishToMenu(r,i,o){return f(this,null,function*(){let s=this.currentMenuSignal();if(!s)return{warning:!1,missingIngredients:[]};s.days[r]||(s.days[r]=[]);let a=yield this.dishesService.getDishById(o),c=!1,l=[];if(a){let u=yield this.inventoryService.consumeIngredients(a.ingredients);if(u.length>0){c=!0;let d=yield this.inventoryService.getInventory();l=u.map(p=>{let h=d.find(_=>_.id===p);return h?h.name:p})}}return s.days[r].find(u=>u.id===o)||a&&(s.days[r].push(a),s.warnings||(s.warnings={}),s.warnings[r]||(s.warnings[r]={}),s.warnings[r][i]=s.warnings[r][i]||{},s.warnings[r][i][o]=c?l:null,this.currentMenuSignal.set(R({},s)),yield this.saveMenu(s)),{warning:c,missingIngredients:l}})}removeDishFromMenu(r,i,o){return f(this,null,function*(){let s=this.currentMenuSignal();if(!s)return;let a=s.days[r],c=a.findIndex(l=>l.id===o&&l.category===i);if(c!==-1){let l=a[c];l&&(yield this.inventoryService.addToInventory(l.ingredients)),a.splice(c,1),s.warnings&&s.warnings[r]&&s.warnings[r][i]&&delete s.warnings[r][i][o],this.currentMenuSignal.set(R({},s)),yield this.saveMenu(s)}})}getMenuForWeek(r){return f(this,null,function*(){return(yield this.weeklyMenuService.getMenuByWeek(r))??null})}loadWeekMenu(r){return f(this,null,function*(){let i=yield this.weeklyMenuService.getMenuByWeek(r);if(!i)i=this.initializeEmptyWeek(r),yield this.saveMenu(i);else{let o=i;for(let s of Mn)o.days[s]||(o.days[s]=[]);o.warnings||(o.warnings={}),i=o}this.currentMenuSignal.set(R({},i))})}};e.\u0275fac=function(i){return new(i||e)(I(gi),I(ht),I(pt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var R0=(()=>{let e=class e{constructor(r){this.supabaseService=r}getMenu(r){return f(this,null,function*(){return(yield this.supabaseService.getPredefinedMenus()).find(o=>o.id===r)||null})}saveMenu(r){return f(this,null,function*(){return yield this.supabaseService.savePredefinedMenu(r)})}getAllMenus(){return f(this,null,function*(){return yield this.supabaseService.getPredefinedMenus()})}deleteMenu(r){return f(this,null,function*(){return console.warn("Delete predefined menu not implemented yet in Supabase service"),!1})}};e.\u0275fac=function(i){return new(i||e)(I(Yt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zf=(t,e)=>e.id;function gM(t,e){if(t&1&&(g(0,"option",15),y(1),m()),t&2){let n=e.$implicit;V("ngValue",n.id),v(),De(n.name)}}function mM(t,e){if(t&1){let n=oe();g(0,"div")(1,"label",13),y(2),Ed(3,"titlecase"),m(),g(4,"select",14),ae("ngModelChange",function(i){let o=M(n).$implicit,s=D().$implicit,a=D(2);return ue(a.newMenuDays()[s][o],i)||(a.newMenuDays()[s][o]=i),T(i)}),g(5,"option",15),y(6,"-- Sin platillo --"),m(),Pe(7,gM,2,2,"option",15,zf),m()()}if(t&2){let n=e.$implicit,r=D().$implicit,i=D(2);v(2),De(Cd(3,3,n)),v(2),se("ngModel",i.newMenuDays()[r][n]),v(),V("ngValue",void 0),v(2),Le(i.dishesFilteredByType(n))}}function yM(t,e){if(t&1&&(g(0,"div",2)(1,"label",11),y(2),m(),g(3,"div",12),Pe(4,mM,9,5,"div",null,oo),m()()),t&2){let n=e.$implicit,r=D(2);v(2),De(n),v(2),Le(r.mealTypes)}}function vM(t,e){if(t&1){let n=oe();g(0,"div",4)(1,"h3",6),y(2),m(),g(3,"input",7),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.newMenuName,i)||(o.newMenuName=i),T(i)}),m(),Pe(4,yM,6,1,"div",2,oo),g(6,"div",8)(7,"button",9),O("click",function(){M(n);let i=D();return T(i.editingMenu?i.saveEditMenu():i.saveNewMenu())}),y(8),m(),g(9,"button",10),O("click",function(){M(n);let i=D();return T(i.cancelForm())}),y(10," Cancelar "),m()()()}if(t&2){let n=D();v(2),A(" ",n.editingMenu?"Editar Men\xFA Predefinido":"Nuevo Men\xFA Predefinido"," "),v(),se("ngModel",n.newMenuName),v(),Le(n.daysOfWeek),v(3),V("disabled",!n.newMenuName.trim()),v(),A(" ",n.editingMenu?"Guardar Cambios":"Guardar Men\xFA"," ")}}function _M(t,e){t&1&&(g(0,"div",5)(1,"div",16),y(2,"\u{1F4CB}"),m(),g(3,"h3",17),y(4," No hay men\xFAs predefinidos "),m(),g(5,"p",18),y(6," Crea tu primer men\xFA predefinido para reutilizarlo "),m()())}function wM(t,e){if(t&1&&(g(0,"span"),y(1),m()),t&2){let n=D().$implicit;v(),A(" (",n.category,")")}}function DM(t,e){t&1&&(g(0,"span"),y(1,", "),m())}function bM(t,e){if(t&1&&(y(0),ie(1,wM,2,1,"span",27)(2,DM,2,0,"span",27)),t&2){let n=e.$implicit,r=D().$implicit,i=D(2).$implicit,o=D();A(" ",n.name),v(),V("ngIf",n.category),v(),V("ngIf",!o.isLastDish(i.days[r],n))}}function EM(t,e){if(t&1&&(g(0,"div")(1,"span",26),y(2),m(),g(3,"span"),Pe(4,bM,3,3,null,null,zf),m()()),t&2){let n=e.$implicit,r=D(2).$implicit;v(2),A("",n,":"),v(2),Le(r.days[n])}}function CM(t,e){if(t&1){let n=oe();g(0,"div",19)(1,"div",20)(2,"span",21),y(3),m(),g(4,"div")(5,"button",22),O("click",function(){M(n);let i=D().$implicit,o=D();return T(o.editMenu(i))}),y(6," Editar "),m(),g(7,"button",23),O("click",function(){M(n);let i=D().$implicit,o=D();return T(o.useMenu(i))}),y(8," Usar este men\xFA "),m(),g(9,"button",24),O("click",function(){M(n);let i=D().$implicit,o=D();return T(o.deleteMenu(i.id))}),y(10," Eliminar "),m()()(),g(11,"div",25),Pe(12,EM,6,1,"div",null,oo),m()()}if(t&2){let n=D().$implicit,r=D();v(3),De(n.name),v(9),Le(r.daysOfWeek)}}function IM(t,e){if(t&1&&ze(0,CM,14,1,"div",19),t&2){let n=e.$implicit,r=D();Ye(!r.editingMenu||r.editingMenu.id!==n.id?0:-1)}}var Yf=new Oe,F0=(()=>{let e=class e{isLastDish(r,i){return r[r.length-1]?.id===i.id}dishesFilteredByType(r){return this.dishes().filter(i=>i.category===r)}cancelForm(){this.editingMenu=null,this.showAddForm.set(!1),this.newMenuName="";let r={};for(let i of this.daysOfWeek){r[i]={};for(let o of this.mealTypes)r[i][o]=void 0}this.newMenuDays.set(r)}editMenu(r){this.editingMenu=r,this.showAddForm.set(!0),this.newMenuName=r.name;let i={};for(let o of this.daysOfWeek){i[o]={};for(let s of this.mealTypes){let a=r.days[o]?.find(c=>c.category===s);i[o][s]=a?a.id:void 0}}this.newMenuDays.set(i)}saveEditMenu(){return f(this,null,function*(){if(!this.editingMenu||!this.newMenuName.trim())return;let r={id:this.editingMenu.id,name:this.newMenuName.trim(),days:{}},i=this.newMenuDays();for(let o of this.daysOfWeek){r.days[o]=[];for(let s of this.mealTypes){let a=i[o][s];if(a){let c=this.dishes().find(l=>l.id===a);c&&(yield this.dishesService.addDish(c),r.days[o].push(z(R({},c),{category:s})))}}}yield this.predefinedMenuService.saveMenu(r),this.predefinedMenus.set(yield this.predefinedMenuService.getAllMenus()),this.showAddForm.set(!1),this.editingMenu=null,this.newMenuName="",this.newMenuDays.set({})})}cancelEdit(){this.editingMenu=null,this.showAddForm.set(!1),this.newMenuName="",this.newMenuDays.set({})}constructor(r,i,o,s){this.predefinedMenuService=r,this.weeklyMenuService=i,this.menuService=o,this.dishesService=s,this.editingMenu=null,this.predefinedMenus=G([]),this.dishes=G([]),this.showAddForm=G(!1),this.newMenuName="",this.newMenuDays=G({}),this.mealTypes=["desayuno","almuerzo","cafe","cena"],this.daysOfWeek=Mn}ngOnInit(){return f(this,null,function*(){yield this.migrateLocalStorageMenus(),this.predefinedMenus.set(yield this.predefinedMenuService.getAllMenus()),this.dishes.set(yield this.dishesService.getDishes());let r={};for(let i of this.daysOfWeek){r[i]={};for(let o of this.mealTypes)r[i][o]=void 0}this.newMenuDays.set(r)})}migrateLocalStorageMenus(){return f(this,null,function*(){let r=localStorage.getItem("predefinedMenus");if(r){let i=JSON.parse(r);for(let o of i)yield this.predefinedMenuService.saveMenu(o);localStorage.removeItem("predefinedMenus")}})}loadMenus(){return f(this,null,function*(){this.predefinedMenus.set(yield this.predefinedMenuService.getAllMenus())})}saveNewMenu(){return f(this,null,function*(){if(!this.newMenuName.trim())return;let r={id:"menu-"+Date.now(),name:this.newMenuName.trim(),days:{}},i=this.newMenuDays();for(let s of this.daysOfWeek){r.days[s]=[];for(let a of this.mealTypes){let c=i[s][a];if(c){let l=this.dishes().find(u=>u.id===c);l&&(yield this.dishesService.addDish(l),r.days[s].push(z(R({},l),{category:a})))}}}yield this.predefinedMenuService.saveMenu(r),this.predefinedMenus.set(yield this.predefinedMenuService.getAllMenus()),this.showAddForm.set(!1),this.newMenuName="";let o={};for(let s of this.daysOfWeek){o[s]={};for(let a of this.mealTypes)o[s][a]=void 0}this.newMenuDays.set(o)})}deleteMenu(r){return f(this,null,function*(){yield this.predefinedMenuService.deleteMenu(r),this.predefinedMenus.set(yield this.predefinedMenuService.getAllMenus())})}useMenu(r){return f(this,null,function*(){let o=Ie(new Date,{weekStartsOn:1,locale:qt}).toISOString().split("T")[0],s=`menu-${o}`,a=yield this.weeklyMenuService.getMenu(s),c;a?(c=a,c.week=o):c={id:s,week:o,days:{}},c.days={};for(let d of Mn){let p=Object.keys(r.days).find(h=>h.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")===d);c.days[d]=p?r.days[p]:[]}let l=yield this.menuService.getMenuForWeek(o);l&&(yield this.menuService.inventoryServicePublic.recalculateInventoryFromMenu({days:{}}),yield this.menuService.inventoryServicePublic.batchAddIngredientsFromMenu(l)),yield this.weeklyMenuService.saveMenu(c),yield this.menuService.loadWeekMenu(o),window.dispatchEvent(new CustomEvent("menuUpdated",{detail:{week:o}})),yield this.menuService.inventoryServicePublic.recalculateInventoryFromMenu(c),Yf.next(o);let u=document.createElement("div");u.className="fixed top-8 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-6 py-4 rounded-lg shadow-lg z-50 text-lg font-semibold transition-all duration-300",u.textContent=`Men\xFA "${r.name}" copiado para la semana actual.`,document.body.appendChild(u),setTimeout(()=>{u.style.opacity="0",setTimeout(()=>{document.body.removeChild(u)},300)},3e3)})}};e.\u0275fac=function(i){return new(i||e)(k(R0),k(gi),k(yi),k(pt))},e.\u0275cmp=pe({type:e,selectors:[["app-menus-predefinidos"]],decls:10,vars:3,consts:[[1,"p-6"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-6"],[1,"px-4","py-2","bg-blue-500","text-white","rounded-lg","hover:bg-blue-600",3,"click"],[1,"mb-6","bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"text-center","py-12"],[1,"text-lg","font-semibold","mb-4"],["type","text","placeholder","Nombre del men\xFA (ej: Semana 1)",1,"w-full","mb-4","px-3","py-2","border","rounded",3,"ngModelChange","ngModel"],[1,"flex","gap-2","mt-4"],[1,"px-4","py-2","bg-green-500","text-white","rounded-lg","hover:bg-green-600","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","bg-gray-300","text-gray-700","rounded-lg","hover:bg-gray-400",3,"click"],[1,"block","font-medium","mb-2","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","mb-1"],[1,"w-full","px-3","py-2","border","rounded",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500"],[1,"mb-4","p-4","border","rounded-lg","bg-gray-50"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-semibold"],[1,"px-3","py-1","bg-yellow-500","text-white","rounded","hover:bg-yellow-600","mr-2",3,"click"],[1,"px-3","py-1","bg-blue-500","text-white","rounded","hover:bg-blue-600","mr-2",3,"click"],[1,"px-3","py-1","bg-red-500","text-white","rounded","hover:bg-red-600",3,"click"],[1,"grid","grid-cols-2","gap-2","mt-2"],[1,"font-medium"],[4,"ngIf"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"h2",1),y(2,"Men\xFAs Semanales Predefinidos"),m(),g(3,"div",2)(4,"button",3),O("click",function(){return o.showAddForm.set(!o.showAddForm())}),y(5),m()(),ze(6,vM,11,4,"div",4),ze(7,_M,7,0,"div",5),Pe(8,IM,1,1,null,null,zf),m()),i&2&&(v(5),A(" ",o.showAddForm()?"Cancelar":"+ Nuevo Men\xFA Predefinido"," "),v(),Ye(o.showAddForm()?6:-1),v(),Ye(o.predefinedMenus().length===0?7:-1),v(),Le(o.predefinedMenus()))},dependencies:[fe,an,at,Ht,Wt,$t,st,Ut,Ct,Pd],encapsulation:2});let t=e;return t})();function SM(t,e){if(t&1&&(g(0,"p",7),y(1),m()),t&2){let n=D();v(),A(" Semana del ",n.formatWeekDate(n.currentWeek())," ")}}function xM(t,e){if(t&1&&(g(0,"span",27),y(1),m()),t&2){let n,r=D().$implicit,i=D().$implicit,o=D().$implicit,s=D(2);v(),A(" \u26A0 Ingrediente/s faltante: ",(n=s.getWarning(o,i,r))==null?null:n.join(", ")," ")}}function MM(t,e){if(t&1){let n=oe();g(0,"div",24)(1,"span"),y(2),ie(3,xM,2,1,"span",25),m(),g(4,"button",26),O("click",function(){let i=M(n).$implicit,o=D().$implicit,s=D().$implicit,a=D(2);return T(a.removeDish(s,o,i))}),y(5," \u2715 "),m()()}if(t&2){let n=e.$implicit,r=D().$implicit,i=D().$implicit,o=D(2);V("ngClass",o.getWarning(i,r,n)?"bg-yellow-100 border border-yellow-400":"bg-gray-50"),v(2),A(" ",o.getDishName(n)," "),v(),V("ngIf",o.getWarning(i,r,n))}}function TM(t,e){if(t&1&&(g(0,"option",28),y(1),m()),t&2){let n=e.$implicit;V("value",n.id),v(),A(" ",n.name," ")}}function AM(t,e){if(t&1){let n=oe();g(0,"div",15)(1,"h4",16),y(2),m(),g(3,"div",17),ie(4,MM,6,3,"div",18),m(),g(5,"div",19)(6,"select",20),O("ngModelChange",function(i){let o=M(n).$implicit,s=D().$implicit,a=D(2);return T(a.selectedDishes[s+"-"+o]=i)}),g(7,"option",21),y(8,"Seleccionar platillo"),m(),ie(9,TM,2,2,"option",22),m(),g(10,"button",23),O("click",function(){let i=M(n).$implicit,o=D().$implicit,s=D(2);return T(s.addDish(o,i))}),y(11," + "),m()()()}if(t&2){let n=e.$implicit,r=D().$implicit,i=D(2);v(2),sn(" ",i.getMealInfo(n).icon," ",i.getMealInfo(n).label," "),v(2),V("ngForOf",i.getMealDishes(r,n))("ngForTrackBy",i.trackByDishId),v(2),V("ngModel",i.selectedDishes[r+"-"+n]),v(3),V("ngForOf",i.getDishesByCategory(n)),v(),V("disabled",!i.selectedDishes[r+"-"+n])}}function NM(t,e){if(t&1&&(g(0,"div",10)(1,"div",11)(2,"h3",12),y(3),m()(),g(4,"div",13),ie(5,AM,12,7,"div",14),m()()),t&2){let n=e.$implicit,r=D(2);v(3),De(n),v(2),V("ngForOf",r.meals)}}function kM(t,e){if(t&1&&(g(0,"div",8),ie(1,NM,6,2,"div",9),m()),t&2){let n=D();v(),V("ngForOf",n.days)}}function OM(t,e){t&1&&(g(0,"div",29)(1,"div",30),y(2,"\u{1F4C5}"),m(),g(3,"h3",31),y(4," Cargando men\xFA semanal... "),m()())}var P0=(()=>{let e=class e{trackByDishId(r,i){return i}constructor(){this.menuService=C(yi),this.dishesService=C(pt),this.days=Mn,this.meals=Io.map(r=>r.id),this.currentMenu=G(null),this.dishes=G([]),this.selectedDishes={},this.currentWeek=G(""),Sd(()=>{let r=this.currentMenu();r&&this.currentWeek.set(r.week)})}handleMenuUpdated(r){return f(this,null,function*(){let i=this.getCurrentWeek();r&&r.detail&&r.detail.week&&(i=r.detail.week),yield this.menuService.loadWeekMenu(i);let o=this.menuService.currentMenu();if(this.currentMenu.set(o),o){this.selectedDishes={};for(let s of this.days)for(let a of this.meals){let c=o.days[s]?.find(l=>l.category===a);this.selectedDishes[s+"-"+a]=c?c.id:""}}})}getCurrentWeek(){return Ie(new Date,{weekStartsOn:1,locale:qt}).toISOString().split("T")[0]}ngOnInit(){return f(this,null,function*(){window.addEventListener("menuUpdated",i=>{this.handleMenuUpdated(i)}),yield this.menuService.loadCurrentWeekMenu?.();let r=this.menuService.currentMenu();if(this.currentMenu.set(r),r){this.selectedDishes={};for(let i of this.days)for(let o of this.meals){let s=r.days[i]?.find(a=>a.category===o);this.selectedDishes[i+"-"+o]=s?s.id:""}}this.dishes.set(this.dishesService.dishes()),Yf.subscribe(i=>f(this,null,function*(){yield this.menuService.loadWeekMenu(i);let o=this.menuService.currentMenu();if(this.currentMenu.set(o),o){this.selectedDishes={};for(let s of this.days)for(let a of this.meals){let c=o.days[s]?.find(l=>l.category===a);this.selectedDishes[s+"-"+a]=c?c.id:""}}}))})}getWarning(r,i,o){let s=this.currentMenu();if(!s||!s.warnings)return null;let a=s.warnings[r];if(!a)return null;let c=a[i];return c&&c[o]||null}getMealDishes(r,i){let o=this.currentMenu();return!o||!o.days[r]?[]:o.days[r].filter(s=>s.category===i).map(s=>s.id)}getMealInfo(r){return Io.find(i=>i.id===r)||{id:r,label:r,icon:"\u{1F37D}\uFE0F"}}getDishName(r){let i=this.dishes().find(o=>o.id===r);return i?i.name:"Platillo desconocido"}getDishesByCategory(r){return this.dishes().filter(i=>i.category===r)}addDish(r,i){return f(this,null,function*(){let o=this.selectedDishes[r+"-"+i];o&&(yield this.menuService.addDishToMenu(r,i,o),this.selectedDishes[r+"-"+i]="",this.currentMenu.set(this.menuService.currentMenu()))})}removeDish(r,i,o){return f(this,null,function*(){yield this.menuService.removeDishFromMenu(r,i,o),this.currentMenu.set(this.menuService.currentMenu())})}formatWeekDate(r){let i=hv(r),o=Hy(i,6);return`${uf(i,"dd/MM/yyyy",{locale:qt})} - ${uf(o,"dd/MM/yyyy",{locale:qt})}`}showWarningMessage(r){let i=document.createElement("div");i.className="fixed top-4 right-4 bg-yellow-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",i.textContent=r,document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",setTimeout(()=>{document.body.removeChild(i)},300)},5e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-weekly-menu"]],decls:9,vars:3,consts:[[1,"p-6"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-800","mb-2"],[1,"text-gray-600"],["class","text-sm text-gray-500 mt-1",4,"ngIf"],["class","grid gap-6",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[1,"text-sm","text-gray-500","mt-1"],[1,"grid","gap-6"],["class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","text-white","px-4","py-3"],[1,"font-semibold","capitalize"],[1,"p-4","grid","grid-cols-1","md:grid-cols-4","gap-4"],["class","meal-section",4,"ngFor","ngForOf"],[1,"meal-section"],[1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"space-y-2","mb-3"],["class","flex items-center justify-between p-2 rounded text-sm",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","space-x-2"],[1,"flex-1","text-xs","px-2","py-1","border","rounded","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-3","py-1","bg-green-500","text-white","text-xs","rounded","hover:bg-green-600","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center","justify-between","p-2","rounded","text-sm",3,"ngClass"],["class","ml-2 px-2 py-1 text-xs rounded bg-yellow-400 text-yellow-900 font-semibold",4,"ngIf"],[1,"text-red-500","hover:text-red-700",3,"click"],[1,"ml-2","px-2","py-1","text-xs","rounded","bg-yellow-400","text-yellow-900","font-semibold"],[3,"value"],[1,"text-center","py-12"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-semibold","text-gray-700","mb-2"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"h2",2),y(3,"Men\xFA Semanal"),m(),g(4,"p",3),y(5,"Organiza tus comidas para toda la semana"),m(),ie(6,SM,2,1,"p",4),m(),ie(7,kM,2,1,"div",5)(8,OM,5,0,"div",6),m()),i&2&&(v(6),V("ngIf",o.currentWeek()),v(),V("ngIf",o.currentMenu()),v(),V("ngIf",!o.currentMenu()))},dependencies:[fe,uo,Bt,an,at,Ht,Wt,st,Ut,Ct],styles:[".meal-section[_ngcontent-%COMP%]{min-height:120px}"]});let t=e;return t})();function RM(t,e){if(t&1&&(g(0,"option",24),y(1),m()),t&2){let n=e.$implicit;V("value",n.id),v(),sn(" ",n.icon," ",n.label," ")}}function FM(t,e){if(t&1&&(g(0,"option",24),y(1),m()),t&2){let n=e.$implicit;V("value",n.id),v(),sn(" ",n.name," (",n.unit,") ")}}function PM(t,e){if(t&1){let n=oe();g(0,"div",25)(1,"select",26),ae("ngModelChange",function(i){let o=M(n).$implicit;return ue(o.ingredientId,i)||(o.ingredientId=i),T(i)}),g(2,"option",27),y(3,"Seleccionar ingrediente"),m(),ie(4,FM,2,3,"option",14),m(),g(5,"input",28),ae("ngModelChange",function(i){let o=M(n).$implicit;return ue(o.quantity,i)||(o.quantity=i),T(i)}),m(),g(6,"button",29),O("click",function(){let i=M(n).index,o=D(2);return T(o.removeIngredient(i))}),y(7," \u2715 "),m()()}if(t&2){let n=e.$implicit,r=D(2);v(),se("ngModel",n.ingredientId),v(3),V("ngForOf",r.inventory),v(),se("ngModel",n.quantity)}}function LM(t,e){if(t&1){let n=oe();g(0,"div",8)(1,"h3",9),y(2),m(),g(3,"div",10)(4,"div")(5,"label",11),y(6,"Nombre del platillo"),m(),g(7,"input",12),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.dishForm.name,i)||(o.dishForm.name=i),T(i)}),m()(),g(8,"div")(9,"label",11),y(10,"Categor\xEDa"),m(),g(11,"select",13),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.dishForm.category,i)||(o.dishForm.category=i),T(i)}),ie(12,RM,2,3,"option",14),m()()(),g(13,"div",15)(14,"label",11),y(15,"Porciones"),m(),g(16,"input",16),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.dishForm.servings,i)||(o.dishForm.servings=i),T(i)}),m()(),g(17,"div",17)(18,"label",11),y(19,"Ingredientes"),m(),g(20,"div",18),ie(21,PM,8,3,"div",19),m(),g(22,"button",20),O("click",function(){M(n);let i=D();return T(i.addIngredient())}),y(23," + Agregar ingrediente "),m()(),g(24,"div",21)(25,"button",22),O("click",function(){M(n);let i=D();return T(i.saveDish())}),y(26),m(),g(27,"button",23),O("click",function(){M(n);let i=D();return T(i.cancelEdit())}),y(28," Cancelar "),m()()()}if(t&2){let n=D();v(2),A(" ",n.editingDish?"Editar":"Nuevo"," Platillo "),v(5),se("ngModel",n.dishForm.name),v(4),se("ngModel",n.dishForm.category),v(),V("ngForOf",n.mealCategories),v(4),se("ngModel",n.dishForm.servings),v(5),V("ngForOf",n.dishForm.ingredients),v(5),A(" ",n.editingDish?"Actualizar":"Guardar"," ")}}function jM(t,e){if(t&1&&(g(0,"li"),y(1),m()),t&2){let n=e.$implicit,r=D(2);v(),In(" ",r.getIngredientName(n.ingredientId),": ",n.quantity," ",r.getIngredientUnit(n.ingredientId)," ")}}function VM(t,e){if(t&1){let n=oe();g(0,"div",30)(1,"div",31)(2,"div")(3,"h3",32),y(4),m(),g(5,"span",33),y(6),m()(),g(7,"div",34)(8,"button",35),O("click",function(){let i=M(n).$implicit,o=D();return T(o.editDish(i))}),y(9," \u270F\uFE0F "),m(),g(10,"button",36),O("click",function(){let i=M(n).$implicit,o=D();return T(o.deleteDish(i.id))}),y(11," \u{1F5D1}\uFE0F "),m()()(),g(12,"div",37)(13,"p"),y(14),m()(),g(15,"div")(16,"h4",38),y(17," Ingredientes: "),m(),g(18,"ul",39),ie(19,jM,2,3,"li",40),m()()()}if(t&2){let n=e.$implicit;v(4),De(n.name),v(2),A(" ",n.category," "),v(8),A("Porciones: ",n.servings),v(5),V("ngForOf",n.ingredients)}}var L0=(()=>{let e=class e{get dishes(){return this.dishesService.dishes()}constructor(r,i){this.dishesService=r,this.inventoryService=i,this.inventory=[],this.showAddForm=!1,this.editingDish=null,this.mealCategories=Io,this.dishForm={name:"",category:"desayuno",servings:1,ingredients:[]}}ngOnInit(){this.inventory=this.inventoryService.inventory()}addIngredient(){this.dishForm.ingredients.push({ingredientId:"",quantity:0})}removeIngredient(r){this.dishForm.ingredients.splice(r,1)}saveDish(){return f(this,null,function*(){if(!this.dishForm.name.trim())return;let r=this.dishForm.ingredients.filter(o=>o.ingredientId&&o.quantity>0),i={id:this.editingDish?this.editingDish.id:`dish-${Date.now()}`,name:this.dishForm.name.trim(),category:this.dishForm.category,servings:this.dishForm.servings,ingredients:r};this.editingDish?yield this.dishesService.updateDish(i):yield this.dishesService.addDish(i),this.cancelEdit()})}editDish(r){this.editingDish=r,this.dishForm={name:r.name,category:r.category,servings:r.servings,ingredients:[...r.ingredients]},this.showAddForm=!0}deleteDish(r){return f(this,null,function*(){confirm("\xBFEst\xE1s seguro de que quieres eliminar este platillo?")&&(yield this.dishesService.removeDish(r))})}cancelEdit(){this.showAddForm=!1,this.editingDish=null,this.dishForm={name:"",category:"desayuno",servings:1,ingredients:[]}}getIngredientName(r){let i=this.inventory.find(o=>o.id===r);return i?i.name:"Desconocido"}getIngredientUnit(r){let i=this.inventory.find(o=>o.id===r);return i?i.unit:""}};e.\u0275fac=function(i){return new(i||e)(k(pt),k(ht))},e.\u0275cmp=pe({type:e,selectors:[["app-dishes-management"]],decls:12,vars:3,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-600"],[1,"px-4","py-2","bg-green-500","text-white","rounded-lg","hover:bg-green-600","transition-colors",3,"click"],["class","bg-white rounded-lg shadow-sm border p-6 mb-6",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","bg-white rounded-lg shadow-sm border p-4",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6","mb-6"],[1,"text-lg","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Ej: Huevos revueltos",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-green-500","focus:border-green-500",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-green-500","focus:border-green-500",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-4"],["type","number","min","1",1,"w-32","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-green-500","focus:border-green-500",3,"ngModelChange","ngModel"],[1,"mb-6"],[1,"space-y-3"],["class","flex flex-col md:flex-row items-stretch md:items-center space-y-2 md:space-y-0 md:space-x-3 p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"mt-3","px-4","py-2","text-green-600","hover:text-green-700","text-sm",3,"click"],[1,"flex","space-x-3"],[1,"px-6","py-2","bg-green-500","text-white","rounded-md","hover:bg-green-600",3,"click"],[1,"px-6","py-2","bg-gray-300","text-gray-700","rounded-md","hover:bg-gray-400",3,"click"],[3,"value"],[1,"flex","flex-col","md:flex-row","items-stretch","md:items-center","space-y-2","md:space-y-0","md:space-x-3","p-3","bg-gray-50","rounded-lg"],[1,"w-full","md:flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"ngModelChange","ngModel"],["value",""],["type","number","placeholder","Cantidad","step","0.1","min","0",1,"w-full","md:w-24","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"ngModelChange","ngModel"],[1,"px-3","py-2","text-red-500","hover:text-red-700",3,"click"],[1,"bg-white","rounded-lg","shadow-sm","border","p-4"],[1,"flex","justify-between","items-start","mb-3"],[1,"font-semibold","text-lg"],[1,"inline-block","px-2","py-1","text-xs","bg-blue-100","text-blue-800","rounded-full","capitalize"],[1,"flex","space-x-2"],[1,"text-blue-500","hover:text-blue-700",3,"click"],[1,"text-red-500","hover:text-red-700",3,"click"],[1,"text-sm","text-gray-600","mb-3"],[1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"text-sm","text-gray-600","space-y-1"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),y(4,"Gesti\xF3n de Platillos"),m(),g(5,"p",3),y(6,"Crea y administra tus recetas"),m()(),g(7,"button",4),O("click",function(){return o.showAddForm=!o.showAddForm}),y(8),m()(),ie(9,LM,29,7,"div",5),g(10,"div",6),ie(11,VM,20,4,"div",7),m()()),i&2&&(v(8),A(" ",o.showAddForm?"Cancelar":"+ Nuevo Platillo"," "),v(),V("ngIf",o.showAddForm),v(2),V("ngForOf",o.dishes))},dependencies:[fe,Bt,an,at,Ht,Wt,$t,lr,st,Ut,ur,Ct],encapsulation:2});let t=e;return t})();var j0=(()=>{let e=class e{constructor(r){this.supabaseService=r}getShoppingList(r){return f(this,null,function*(){return(yield this.supabaseService.getShoppingLists()).find(o=>o.id===r)||null})}getShoppingListByWeek(r){return f(this,null,function*(){return yield this.supabaseService.getShoppingListByWeek(r)})}saveShoppingList(r){return f(this,null,function*(){return yield this.supabaseService.saveShoppingList(r)})}getAllShoppingLists(){return f(this,null,function*(){return yield this.supabaseService.getShoppingLists()})}deleteShoppingList(r){return f(this,null,function*(){return console.warn("Delete shopping list not implemented yet in Supabase service"),!1})}getPurchases(){return f(this,null,function*(){return yield this.supabaseService.getPurchases()})}savePurchase(r){return f(this,null,function*(){return yield this.supabaseService.savePurchase(r)})}deletePurchase(r){return f(this,null,function*(){return console.warn("Delete purchase not implemented yet in Supabase service"),!1})}};e.\u0275fac=function(i){return new(i||e)(I(Yt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bc=(()=>{let e=class e{constructor(r,i,o,s,a){this.shoppingListService=r,this.menuService=i,this.dishesService=o,this.inventoryService=s,this.weeklyMenuService=a,this.shoppingListSignal=G(null),this.shoppingList=this.shoppingListSignal,this.purchasesSignal=G([]),this.purchases=this.purchasesSignal,this.loadPurchases()}removeItem(r){let i=this.shoppingListSignal();i&&(i.items.splice(r,1),i.totalCost=i.items.reduce((o,s)=>o+s.quantity*s.pricePerUnit,0),i.completed=i.items.every(o=>o.purchased),this.shoppingListSignal.set(R({},i)),this.shoppingListService.saveShoppingList(i))}loadPurchases(){this.shoppingListService.getPurchases().then(r=>{this.purchasesSignal.set(r)})}savePurchases(){this.purchasesSignal().forEach(r=>{this.shoppingListService.savePurchase(r)})}addManualItem(r){let i=this.shoppingListSignal();i&&(i.items.push(r),i.totalCost=i.items.reduce((o,s)=>o+s.quantity*s.pricePerUnit,0),i.completed=i.items.every(o=>o.purchased),this.shoppingListSignal.set(R({},i)),this.shoppingListService.saveShoppingList(i))}generateShoppingList(){return f(this,null,function*(){let r=this.menuService.getCurrentMenu(),i=yield this.inventoryService.getInventory();if(!r)return null;let o=new Map;Object.keys(r.days).forEach(c=>{r.days[c].forEach(u=>{u.ingredients.forEach(d=>{let p=o.get(d.ingredientId)||0;o.set(d.ingredientId,p+d.quantity)})})});let s=[];for(let[c,l]of o){let u=i.find(h=>h.id===c),d=u?u.quantity:0,p=Math.max(0,l-d);p>0&&s.push({ingredientId:c,name:u?.name||"Unknown ingredient",quantity:p,unit:u?.unit||"unit",pricePerUnit:u?.pricePerUnit||0,purchased:!1})}let a={id:`shopping-${r.week}`,weekId:r.week,items:s,totalCost:s.reduce((c,l)=>c+l.quantity*l.pricePerUnit,0),completed:!1,createdAt:new Date};return this.shoppingListSignal.set(a),this.shoppingListService.saveShoppingList(a),a})}toggleItemPurchased(r){let i=this.shoppingListSignal();i&&(i.items[r].purchased=!i.items[r].purchased,i.completed=i.items.every(o=>o.purchased),this.shoppingListSignal.set(R({},i)),this.shoppingListService.saveShoppingList(i))}completePurchase(){return f(this,null,function*(){let r=this.shoppingListSignal();if(!r||!r.completed)return null;let i=r.items.filter(c=>c.purchased).map(c=>({ingredientId:c.ingredientId,name:c.name,quantity:c.quantity,unit:c.unit,pricePerUnit:c.pricePerUnit,totalPrice:c.quantity*c.pricePerUnit})),o={id:`purchase-${Date.now()}`,weekId:r.weekId,items:i,totalCost:i.reduce((c,l)=>c+l.totalPrice,0),date:new Date},s=i.map(c=>({ingredientId:c.ingredientId,name:c.name,quantity:c.quantity,unit:c.unit,pricePerUnit:c.pricePerUnit}));yield this.inventoryService.addToInventory(s);let a=this.purchasesSignal();return a.push(o),this.purchasesSignal.set([...a]),this.savePurchases(),this.shoppingListSignal.set(null),o})}getPurchases(){return this.purchasesSignal()}exportWeeklyData(r){return f(this,null,function*(){let i=yield this.menuService.getMenuForWeek(r),o=yield this.inventoryService.getInventory(),s=yield this.shoppingListService.getShoppingList(`shopping-${r}`),a=this.purchasesSignal().filter(c=>c.weekId===r);return i?{week:r,menu:i,inventory:o,shoppingList:s||{id:"",weekId:r,items:[],totalCost:0,completed:!1,createdAt:new Date},purchases:a}:null})}importWeeklyData(r){try{this.weeklyMenuService.saveMenu(r.menu);let i=this.inventoryService.getInventory();r.inventory.forEach(a=>{i.findIndex(l=>l.id===a.id)===-1&&this.inventoryService.addIngredient(a)}),r.shoppingList.id&&this.shoppingListService.saveShoppingList(r.shoppingList);let s=[...this.purchasesSignal()];return r.purchases.forEach(a=>{s.find(c=>c.id===a.id)||s.push(a)}),this.purchasesSignal.set(s),this.savePurchases(),this.menuService.loadWeekMenu(r.week),!0}catch(i){return console.error("Error importing data:",i),!1}}};e.\u0275fac=function(i){return new(i||e)(I(j0),I(yi),I(pt),I(ht),I(gi))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $M=(t,e)=>e.id,UM=(t,e)=>e.ingredientId;function HM(t,e){if(t&1){let n=oe();g(0,"div",5)(1,"div",7),y(2,"\u{1F6D2}"),m(),g(3,"h3",8),y(4," No hay lista de compras "),m(),g(5,"p",9),y(6," Genera una lista basada en tu men\xFA semanal "),m(),g(7,"button",10),O("click",function(){M(n);let i=D();return T(i.generateList())}),y(8," Generar Lista de Compras "),m()()}}function WM(t,e){if(t&1&&(g(0,"option",17),y(1),m()),t&2){let n=e.$implicit;V("value",n.id),v(),De(n.name)}}function qM(t,e){if(t&1){let n=oe();g(0,"div",45)(1,"div",46)(2,"input",47),O("change",function(){let i=M(n).$index,o=D(2);return T(o.toggleItem(i))}),m(),g(3,"div")(4,"div",48),y(5),m(),g(6,"div",32),y(7),m()()(),g(8,"div",49)(9,"div",31)(10,"div",50),y(11),m()(),g(12,"button",51),O("click",function(){let i=M(n).$index,o=D(2);return T(o.removeItem(i))}),y(13," \u{1F5D1}\uFE0F "),m()()()}if(t&2){let n=e.$implicit,r=D(2);Et("bg-green-50",n.purchased),v(2),V("checked",n.purchased),v(),Et("line-through",n.purchased)("text-gray-500",n.purchased),v(2),De(n.name),v(2),In(" ",n.quantity," ",n.unit," \xD7 $ ",r.formatPrice(n.pricePerUnit)," "),v(3),Et("line-through",n.purchased)("text-gray-500",n.purchased),v(),A(" $ ",r.formatPrice(n.quantity*n.pricePerUnit)," ")}}function GM(t,e){if(t&1){let n=oe();g(0,"div",44)(1,"div",52),y(2,"\u2705"),m(),g(3,"h3",53),y(4," \xA1Compra Completada! "),m(),g(5,"p",54),y(6," Todos los elementos han sido marcados como comprados "),m(),g(7,"button",55),O("click",function(){M(n);let i=D(2);return T(i.finalizePurchase())}),y(8," \u{1F4DD} Finalizar Compra y Actualizar Inventario "),m()()}}function zM(t,e){if(t&1){let n=oe();g(0,"div",6)(1,"div",11)(2,"h3",12),y(3," Agregar ingrediente a la lista "),m(),g(4,"form",13),O("ngSubmit",function(){M(n);let i=D();return T(i.addItem())}),g(5,"div")(6,"label",14),y(7," Ingrediente existente "),m(),g(8,"select",15),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.selectedInventoryId,i)||(o.selectedInventoryId=i),T(i)}),O("change",function(){M(n);let i=D();return T(i.onInventorySelect())}),g(9,"option",16),y(10,"-- Nuevo ingrediente --"),m(),Pe(11,WM,2,2,"option",17,$M),m()(),g(13,"div")(14,"label",14),y(15,"Nombre"),m(),g(16,"input",18),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.newItem.name,i)||(o.newItem.name=i),T(i)}),m()(),g(17,"div")(18,"label",14),y(19,"Cantidad"),m(),g(20,"input",19),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.newItem.quantity,i)||(o.newItem.quantity=i),T(i)}),m()(),g(21,"div")(22,"label",14),y(23,"Tipo"),m(),g(24,"select",20),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.newItem.unit,i)||(o.newItem.unit=i),T(i)}),g(25,"option",21),y(26,"Unidades"),m(),g(27,"option",22),y(28,"Kilogramos"),m(),g(29,"option",23),y(30,"Litros"),m(),g(31,"option",24),y(32,"Paquete"),m(),g(33,"option",25),y(34,"Gramos"),m(),g(35,"option",26),y(36,"Mililitros"),m()()(),g(37,"div")(38,"label",14),y(39," Precio/U o Total "),m(),g(40,"input",27),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.newItem.pricePerUnit,i)||(o.newItem.pricePerUnit=i),T(i)}),m()(),g(41,"button",28),y(42," Agregar "),m()()(),g(43,"div",11)(44,"div",29)(45,"h3",30),y(46,"Resumen de Compra"),m(),g(47,"div",31)(48,"div",32),y(49,"Total estimado"),m(),g(50,"div",33),y(51),m()()(),g(52,"div",34)(53,"div")(54,"div",35),y(55),m(),g(56,"div",32),y(57,"Art\xEDculos"),m()(),g(58,"div")(59,"div",36),y(60),m(),g(61,"div",32),y(62,"Comprados"),m()(),g(63,"div")(64,"div",37),y(65),m(),g(66,"div",32),y(67,"Pendientes"),m()()()(),g(68,"div",38)(69,"div",39)(70,"h3",30),y(71,"Lista de Ingredientes"),m()(),g(72,"div",40),Pe(73,qM,14,16,"div",41,UM),m()(),g(75,"div",42)(76,"button",43),O("click",function(){M(n);let i=D();return T(i.markAllAsPurchased())}),y(77," \u2713 Marcar Todo Como Comprado "),m()(),ze(78,GM,9,0,"div",44),m()}if(t&2){let n=D();v(8),se("ngModel",n.selectedInventoryId),v(3),Le(n.inventory()),v(5),se("ngModel",n.newItem.name),v(4),se("ngModel",n.newItem.quantity),v(4),se("ngModel",n.newItem.unit),v(16),se("ngModel",n.newItem.pricePerUnit),v(11),A(" $ ",n.formatPrice(n.shoppingList().totalCost)," "),v(4),A(" ",n.shoppingList().items.length," "),v(5),A(" ",n.getPurchasedCount()," "),v(5),A(" ",n.getPendingCount()," "),v(8),Le(n.shoppingList().items),v(5),Ye(n.shoppingList().completed?78:-1)}}var V0=(()=>{let e=class e{constructor(){this.shoppingService=C(Bc),this.inventoryService=C(ht),this.shoppingList=this.shoppingService.shoppingList,this.inventory=this.inventoryService.inventory,this.newItem={name:"",quantity:1,unit:"unidades",pricePerUnit:0},this.selectedInventoryId=""}ngOnInit(){}formatPrice(r){return r?r.toFixed(2):"0.00"}onInventorySelect(){if(!this.selectedInventoryId)return;let r=this.inventory().find(i=>i.id===this.selectedInventoryId);r&&(this.newItem.name=r.name,this.newItem.unit=r.unit,this.newItem.pricePerUnit=r.pricePerUnit||r.priceTotal||0,this.newItem.quantity=1)}generateList(){return f(this,null,function*(){yield this.shoppingService.generateShoppingList()})}addItem(){return f(this,null,function*(){this.shoppingList()&&(!this.newItem.name||!this.newItem.quantity||!this.newItem.unit||this.newItem.pricePerUnit===void 0||(this.shoppingService.addManualItem({ingredientId:this.selectedInventoryId||"manual-"+Date.now(),name:this.newItem.name,quantity:Number(this.newItem.quantity),unit:this.newItem.unit,pricePerUnit:Number(this.newItem.pricePerUnit),purchased:!1}),this.newItem={name:"",quantity:1,unit:"unidades",pricePerUnit:0},this.selectedInventoryId=""))})}toggleItem(r){return f(this,null,function*(){yield this.shoppingService.toggleItemPurchased(r)})}removeItem(r){return f(this,null,function*(){this.shoppingService.removeItem(r)})}markAllAsPurchased(){return f(this,null,function*(){let r=this.shoppingList();if(r)for(let i=0;i<r.items.length;i++)r.items[i].purchased||(yield this.shoppingService.toggleItemPurchased(i))})}finalizePurchase(){return f(this,null,function*(){let r=yield this.shoppingService.completePurchase();r&&(this.showSuccessMessage(`\xA1Compra finalizada! Total: $${r.totalCost.toFixed(2)} - Inventario actualizado.`),this.shoppingList.set(null))})}getPurchasedCount(){let r=this.shoppingList();return r?r.items.filter(i=>i.purchased).length:0}getPendingCount(){let r=this.shoppingList();return r?r.items.filter(i=>!i.purchased).length:0}showSuccessMessage(r){let i=document.createElement("div");i.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",i.textContent=r,document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",setTimeout(()=>{document.body.removeChild(i)},300)},3e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-shopping-list"]],decls:11,vars:1,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-600"],[1,"px-4","py-2","bg-orange-500","text-white","rounded-lg","hover:bg-orange-600","transition-colors",3,"click"],[1,"text-center","py-12"],[1,"space-y-6"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-4"],[1,"px-6","py-3","bg-orange-500","text-white","rounded-lg","hover:bg-orange-600","transition-colors",3,"click"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"text-lg","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-6","gap-4","items-end",3,"ngSubmit"],[1,"block","text-xs","font-semibold","mb-1"],["name","selectedInventoryId",1,"border","p-2","rounded","w-full",3,"ngModelChange","change","ngModel"],["value",""],[3,"value"],["type","text","name","name","required","",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel"],["type","number","name","quantity","required","","min","0.01","step","0.01",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel"],["name","unit","required","",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel"],["value","unidades"],["value","kg"],["value","l"],["value","paquete"],["value","g"],["value","ml"],["type","number","step","0.01","name","pricePerUnit","required","","min","0",1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel"],["type","submit",1,"bg-blue-600","text-white","px-4","py-2","rounded","hover:bg-blue-700","transition-colors"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold"],[1,"text-right"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-bold","text-orange-600"],[1,"grid","grid-cols-3","gap-4","text-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-gray-600"],[1,"bg-white","rounded-lg","shadow-sm","border"],[1,"p-4","border-b"],[1,"divide-y","divide-gray-200"],[1,"p-4","flex","items-center","justify-between","hover:bg-gray-50","transition-colors",3,"bg-green-50"],[1,"flex","space-x-4"],[1,"px-6","py-3","bg-green-500","text-white","rounded-lg","hover:bg-green-600","transition-colors",3,"click"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-6","text-center"],[1,"p-4","flex","items-center","justify-between","hover:bg-gray-50","transition-colors"],[1,"flex","items-center","space-x-4"],["type","checkbox",1,"h-5","w-5","text-green-600","focus:ring-green-500","border-gray-300","rounded",3,"change","checked"],[1,"font-medium"],[1,"flex","items-center","space-x-2"],[1,"font-semibold"],["title","Eliminar",1,"ml-2","px-2","py-1","bg-red-500","text-white","rounded","hover:bg-red-600","transition-colors",3,"click"],[1,"text-green-600","text-4xl","mb-4"],[1,"text-xl","font-semibold","text-green-800","mb-2"],[1,"text-green-700","mb-4"],[1,"px-6","py-3","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition-colors",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),y(4,"Lista de Compras"),m(),g(5,"p",3),y(6," Organiza tus compras seg\xFAn el men\xFA semanal "),m()(),g(7,"button",4),O("click",function(){return o.generateList()}),y(8," \u{1F504} Generar Lista "),m()(),ze(9,HM,9,0,"div",5)(10,zM,79,10,"div",6),m()),i&2&&(v(9),Ye(o.shoppingList()?10:9))},dependencies:[fe,at,Ly,Ht,Wt,$t,lr,st,Ut,Ny,tf,ur,Ct,ef],encapsulation:2});let t=e;return t})();function YM(t,e){t&1&&(g(0,"div",11)(1,"div",12),y(2,"\u{1F6D2}"),m(),g(3,"h3",13),y(4," No hay compras registradas "),m(),g(5,"p",14),y(6," Las compras aparecer\xE1n aqu\xED cuando las registres "),m()())}function ZM(t,e){if(t&1&&(g(0,"div",25)(1,"span"),y(2),m(),g(3,"span"),y(4),m()()),t&2){let n=e.$implicit;v(2),In("",n.name," (",n.quantity," ",n.unit,")"),v(2),A("$",n.totalPrice.toFixed(2))}}function KM(t,e){if(t&1&&(g(0,"div",15)(1,"div",16)(2,"div")(3,"div",17),y(4),m(),g(5,"div",18),y(6),m()(),g(7,"div",19),y(8),m()(),g(9,"details",20)(10,"summary",21),y(11," Ver detalles "),m(),g(12,"div",22)(13,"div",23),ie(14,ZM,5,4,"div",24),m()()()()),t&2){let n=e.$implicit,r=D();v(4),De(r.formatDate(n.date)),v(2),A(" Total: $",n.totalCost.toFixed(2)," "),v(2),A(" ",n.items.length," art\xEDculos "),v(6),V("ngForOf",n.items)}}var B0=(()=>{let e=class e{constructor(){this.shoppingService=C(Bc),this.purchases=G([]),this.selectedFile=G(null)}ngOnInit(){let r=this.shoppingService.purchases().sort((i,o)=>new Date(o.date).getTime()-new Date(i.date).getTime());this.purchases.set(r)}exportCurrentWeek(){return f(this,null,function*(){let r=this.getCurrentWeek(),i=this.shoppingService.exportWeeklyData(r);if(i){let o=JSON.stringify(i,null,2),s=new Blob([o],{type:"application/json"}),a=URL.createObjectURL(s),c=document.createElement("a");c.href=a,c.download=`meal-planner-week-${r}.json`,c.click(),URL.revokeObjectURL(a),alert("Datos exportados exitosamente")}else alert("No hay datos disponibles para exportar")})}onFileSelected(r){return f(this,null,function*(){let i=r.target.files?.[0];if(!i)return;this.selectedFile.set(i);let o=new FileReader;o.onload=s=>f(this,null,function*(){try{let a=s.target?.result,c=JSON.parse(a);this.shoppingService.importWeeklyData(c)?(alert("\xA1Datos importados exitosamente!"),this.selectedFile.set(null),r.target.value=""):alert("Error al importar los datos. Verifica el formato del archivo.")}catch(a){alert("Error al leer el archivo. Aseg\xFArate de que sea un JSON v\xE1lido."),console.error("Import error:",a)}}),o.readAsText(i)})}getCurrentWeek(){return Ie(new Date,{weekStartsOn:1,locale:qt}).toISOString().split("T")[0]}formatDate(r){return new Date(r).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}getTotalSpent(){return this.purchases().reduce((r,i)=>r+i.totalCost,0)}getAverageSpent(){let r=this.purchases();return r.length===0?0:this.getTotalSpent()/r.length}getTotalItems(){return this.purchases().reduce((r,i)=>r+i.items.length,0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-history"]],decls:26,vars:6,consts:[[1,"p-6"],[1,"text-2xl","font-bold","text-gray-800","mb-6"],["class","text-center py-12",4,"ngIf"],["class","mb-6 bg-white rounded-lg shadow-sm border p-4",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mt-8"],[1,"bg-white","rounded-lg","shadow-sm","border","p-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-center","py-12"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500"],[1,"mb-6","bg-white","rounded-lg","shadow-sm","border","p-4"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-semibold","text-lg"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-600"],[1,"mt-3"],[1,"cursor-pointer","text-blue-600","hover:text-blue-800","text-sm"],[1,"mt-3","pl-4","border-l-2","border-gray-200"],[1,"grid","gap-2"],["class","flex justify-between text-sm",4,"ngFor","ngForOf"],[1,"flex","justify-between","text-sm"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"h2",1),y(2,"Historial de Compras"),m(),ie(3,YM,7,0,"div",2)(4,KM,15,4,"div",3),g(5,"div",4)(6,"div",5)(7,"div",6),y(8,"Total Compras"),m(),g(9,"div",7),y(10),m()(),g(11,"div",5)(12,"div",6),y(13,"Gasto Total"),m(),g(14,"div",8),y(15),m()(),g(16,"div",5)(17,"div",6),y(18,"Promedio por Compra"),m(),g(19,"div",9),y(20),m()(),g(21,"div",5)(22,"div",6),y(23,"Art\xEDculos Comprados"),m(),g(24,"div",10),y(25),m()()()()),i&2&&(v(3),V("ngIf",o.purchases().length===0),v(),V("ngForOf",o.purchases()),v(6),A(" ",o.purchases().length," "),v(5),A(" $",o.getTotalSpent().toFixed(2)," "),v(5),A(" $",o.getAverageSpent().toFixed(2)," "),v(5),A(" ",o.getTotalItems()," "))},dependencies:[fe,Bt,an,at],encapsulation:2});let t=e;return t})();var QM=(t,e)=>e.id;function JM(t,e){if(t&1){let n=oe();g(0,"div",5)(1,"h3",21),y(2),m(),g(3,"div",22)(4,"div")(5,"label",23),y(6," Nombre "),m(),g(7,"input",24),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.ingredientForm.name,i)||(o.ingredientForm.name=i),T(i)}),m()(),g(8,"div")(9,"label",23),y(10," Cantidad "),m(),g(11,"input",25),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.ingredientForm.quantity,i)||(o.ingredientForm.quantity=i),T(i)}),m()(),g(12,"div")(13,"label",23),y(14," Unidad "),m(),g(15,"select",26),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.ingredientForm.unit,i)||(o.ingredientForm.unit=i),T(i)}),g(16,"option",27),y(17,"Unidades"),m(),g(18,"option",28),y(19,"Kilogramos"),m(),g(20,"option",29),y(21,"Latas"),m(),g(22,"option",30),y(23,"Gramos"),m(),g(24,"option",31),y(25,"Litros"),m(),g(26,"option",32),y(27,"Mililitros"),m(),g(28,"option",33),y(29,"Tazas"),m(),g(30,"option",34),y(31,"Cucharadas"),m(),g(32,"option",35),y(33,"Cucharaditas"),m(),g(34,"option",36),y(35,"Paquetes"),m()()(),g(36,"div")(37,"label",23),y(38," Precio por unidad "),m(),g(39,"input",37),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.ingredientForm.pricePerUnit,i)||(o.ingredientForm.pricePerUnit=i),T(i)}),m()(),g(40,"div")(41,"label",23),y(42," Categor\xEDa "),m(),g(43,"select",26),ae("ngModelChange",function(i){M(n);let o=D();return ue(o.ingredientForm.category,i)||(o.ingredientForm.category=i),T(i)}),g(44,"option",38),y(45,"Carnes"),m(),g(46,"option",39),y(47,"Verduras"),m(),g(48,"option",40),y(49,"Frutas"),m(),g(50,"option",41),y(51,"L\xE1cteos"),m(),g(52,"option",42),y(53,"Cereales"),m(),g(54,"option",43),y(55,"Galletas"),m(),g(56,"option",44),y(57,"Especias"),m(),g(58,"option",45),y(59,"Limpieza"),m(),g(60,"option",46),y(61,"Otros"),m()()()(),g(62,"div",47)(63,"button",48),O("click",function(){M(n);let i=D();return T(i.saveIngredient())}),y(64),m(),g(65,"button",49),O("click",function(){M(n);let i=D();return T(i.cancelEdit())}),y(66," Cancelar "),m()()()}if(t&2){let n=D();v(2),A(" ",n.editingIngredient()?"Editar":"Nuevo"," Ingrediente "),v(5),se("ngModel",n.ingredientForm.name),v(4),se("ngModel",n.ingredientForm.quantity),v(4),se("ngModel",n.ingredientForm.unit),v(24),se("ngModel",n.ingredientForm.pricePerUnit),v(4),se("ngModel",n.ingredientForm.category),v(20),V("disabled",!n.ingredientForm.name.trim()),v(),A(" ",n.editingIngredient()?"Actualizar":"Guardar"," ")}}function XM(t,e){if(t&1&&(g(0,"tr")(1,"td",50)(2,"div",51),y(3,"\u{1F4E6}"),m(),g(4,"h3",52),y(5," No hay ingredientes "),m(),g(6,"p",53),y(7),m()()()),t&2){let n=D();v(7),A(" ",n.searchText?"No se encontraron resultados":"Agrega tu primer ingrediente"," ")}}function eT(t,e){if(t&1){let n=oe();g(0,"tr",54)(1,"td",55)(2,"div",56)(3,"div")(4,"div",57),y(5),m(),g(6,"div",58),y(7),m()()()(),g(8,"td",59),y(9),m(),g(10,"td",59),y(11),m(),g(12,"td",59),y(13),m(),g(14,"td",55)(15,"span",60),y(16),m()(),g(17,"td",61)(18,"button",62),O("click",function(){let i=M(n).$implicit,o=D();return T(o.editIngredient(i))}),y(19," Editar "),m(),g(20,"button",63),O("click",function(){let i=M(n).$implicit,o=D();return T(o.deleteIngredient(i.id))}),y(21," Eliminar "),m()()()}if(t&2){let n=e.$implicit,r=D();Et("bg-red-50",n.quantity<=5),v(5),A(" ",n.name," "),v(2),A(" ",n.category," "),v(2),sn(" ",n.quantity," ",n.unit," "),v(2),A(" $",r.formatNumber(n.pricePerUnit)," "),v(2),A(" $",r.formatNumber(n.quantity*n.pricePerUnit)," "),v(2),ao(r.getStockStatusClass(n.quantity)),v(),A(" ",r.getStockStatus(n.quantity)," ")}}var $0=(()=>{let e=class e{constructor(){this.inventoryService=C(ht),this.inventory=this.inventoryService.inventory,this.groupedInventory=G([]),this.showAddForm=G(!1),this.editingIngredient=G(null),this.searchText="",this.ingredientForm={name:"",quantity:0,unit:"unidades",pricePerUnit:0,category:"otros"}}ngOnInit(){this.filterInventory()}filterInventory(){let r=this.searchText.trim().toLowerCase(),i=this.inventory();if(!r)this.groupedInventory.set([...i].sort((o,s)=>o.name.localeCompare(s.name)));else{let o=i.filter(s=>s.name.toLowerCase().includes(r)||s.category.toLowerCase().includes(r)).sort((s,a)=>s.name.localeCompare(a.name));this.groupedInventory.set(o)}}saveIngredient(){return f(this,null,function*(){if(!this.ingredientForm.name.trim())return;let r={id:this.editingIngredient()?this.editingIngredient().id:crypto.randomUUID(),name:this.ingredientForm.name.trim(),quantity:this.ingredientForm.quantity,unit:this.ingredientForm.unit,pricePerUnit:this.ingredientForm.pricePerUnit,category:this.ingredientForm.category};try{this.editingIngredient()?this.inventoryService.updateIngredient(r):this.inventoryService.addIngredient(r),this.filterInventory(),this.cancelEdit()}catch{alert("Error al guardar el ingrediente")}})}editIngredient(r){this.editingIngredient.set(r),this.ingredientForm={name:r.name,quantity:r.quantity,unit:r.unit,pricePerUnit:r.pricePerUnit,category:r.category},this.showAddForm.set(!0)}deleteIngredient(r){confirm("\xBFEst\xE1s seguro de que quieres eliminar este ingrediente?")&&(this.inventoryService.removeIngredient(r),this.filterInventory())}cancelEdit(){this.showAddForm.set(!1),this.editingIngredient.set(null),this.ingredientForm={name:"",quantity:0,unit:"unidades",pricePerUnit:0,category:"otros"}}getStockStatus(r){return r<=0?"Agotado":r<=5?"Bajo":"Normal"}getStockStatusClass(r){return r<=0?"bg-red-100 text-red-800":r<=5?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}getTotalInventoryValue(){return this.inventory().reduce((r,i)=>r+i.quantity*i.pricePerUnit,0)}getLowStockCount(){return this.inventory().filter(r=>r.quantity<=5).length}formatNumber(r){return r.toFixed(2)}showSuccessMessage(r){let i=document.createElement("div");i.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",i.textContent=r,document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",setTimeout(()=>{document.body.removeChild(i)},300)},3e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-inventory-management"]],decls:49,vars:7,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-600"],[1,"px-4","py-2","bg-blue-500","text-white","rounded-lg","hover:bg-blue-600","transition-colors",3,"click"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6","mb-6"],[1,"mb-4","flex","justify-end"],["type","text","placeholder","Buscar ingrediente o categor\xEDa...",1,"w-full","md:w-1/3","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"bg-white","rounded-lg","shadow-sm","border"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors",3,"bg-red-50"],[1,"mt-6","grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-white","rounded-lg","shadow-sm","border","p-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-red-600"],[1,"text-lg","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Ej: Huevos",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","number","placeholder","30","step","0.1","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","unidades"],["value","kg"],["value","Latas"],["value","g"],["value","litro"],["value","ml"],["value","tazas"],["value","cucharadas"],["value","cucharaditas"],["value","paquete"],["type","number","placeholder","0.50","step","0.01","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","carnes"],["value","verduras"],["value","frutas"],["value","lacteos"],["value","cereales"],["value","galletas"],["value","especias"],["value","limpieza"],["value","otros"],[1,"flex","space-x-3"],[1,"px-6","py-2","bg-blue-500","text-white","rounded-md","hover:bg-blue-600","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],[1,"px-6","py-2","bg-gray-300","text-gray-700","rounded-md","hover:bg-gray-400","transition-colors",3,"click"],["colspan","6",1,"px-6","py-12","text-center"],[1,"text-gray-400","text-4xl","mb-4"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500","capitalize"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","space-x-2"],[1,"text-blue-600","hover:text-blue-900","hover:bg-blue-50","px-2","py-1","rounded","transition-colors",3,"click"],[1,"text-red-600","hover:text-red-900","hover:bg-red-50","px-2","py-1","rounded","transition-colors",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),y(4,"Inventario"),m(),g(5,"p",3),y(6,"Gestiona tus ingredientes y existencias"),m()(),g(7,"button",4),O("click",function(){return o.showAddForm.set(!o.showAddForm())}),y(8),m()(),ze(9,JM,67,8,"div",5),g(10,"div",6)(11,"input",7),ae("ngModelChange",function(a){return ue(o.searchText,a)||(o.searchText=a),a}),O("ngModelChange",function(){return o.filterInventory()}),m()(),g(12,"div",8)(13,"div",9)(14,"table",10)(15,"thead",11)(16,"tr")(17,"th",12),y(18," Ingrediente "),m(),g(19,"th",12),y(20," Cantidad "),m(),g(21,"th",12),y(22," Precio/Unit "),m(),g(23,"th",12),y(24," Valor Total "),m(),g(25,"th",12),y(26," Estado "),m(),g(27,"th",12),y(28," Acciones "),m()()(),g(29,"tbody",13),ze(30,XM,8,1,"tr"),Pe(31,eT,22,11,"tr",14,QM),m()()()(),g(33,"div",15)(34,"div",16)(35,"div",17),y(36,"Total Ingredientes"),m(),g(37,"div",18),y(38),m()(),g(39,"div",16)(40,"div",17),y(41," Valor Total Inventario "),m(),g(42,"div",19),y(43),m()(),g(44,"div",16)(45,"div",17),y(46,"Ingredientes Bajos"),m(),g(47,"div",20),y(48),m()()()()),i&2&&(v(8),A(" ",o.showAddForm()?"Cancelar":"+ Nuevo Ingrediente"," "),v(),Ye(o.showAddForm()?9:-1),v(2),se("ngModel",o.searchText),v(19),Ye(o.groupedInventory().length===0?30:-1),v(),Le(o.groupedInventory()),v(7),A(" ",o.inventory().length," "),v(5),A(" $",o.formatNumber(o.getTotalInventoryValue())," "),v(5),A(" ",o.getLowStockCount()," "))},dependencies:[fe,at,Ht,Wt,$t,lr,st,Ut,ur,Ct],encapsulation:2});let t=e;return t})();var Zf="Service workers are disabled or not supported by this browser",vi=class{serviceWorker;worker;registration;events;constructor(e,n){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new K(r=>r.error(new x(5601,!1)));else{let r=null,i=new Oe;this.worker=new K(l=>(r!==null&&l.next(r),i.subscribe(u=>l.next(u))));let o=()=>{let{controller:l}=e;l!==null&&(r=l,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Rr(()=>e.getRegistration().then(l=>{if(!l)throw new x(5601,!1);return l})));let s=new Oe;this.events=s.asObservable();let a=l=>{let{data:u}=l;u?.type&&s.next(u)};e.addEventListener("message",a),n?.get(Lt,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,n){return new Promise(r=>{this.worker.pipe(jn(1)).subscribe(i=>{i.postMessage(R({action:e},n)),r()})})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(Os(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(jn(1))}waitForOperationCompleted(e){return new Promise((n,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Os(i=>i.nonce===e),jn(1),Ve(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:n,error:r})})}get isEnabled(){return!!this.serviceWorker}},tT=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Oe;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=Kt,this.notificationClicks=Kt,this.notificationCloses=Kt,this.pushSubscriptionChanges=Kt,this.subscription=Kt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Ve(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ve(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(Ve(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(Ve(i=>i.data)),this.pushManager=this.sw.registration.pipe(Ve(i=>i.pushManager));let r=this.pushManager.pipe(Rr(i=>i.getSubscription()));this.subscription=new K(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Zf));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Rr(c=>c.subscribe(r)),jn(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zf));let n=r=>{if(r===null)throw new x(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new x(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(jn(1),Rr(n)).subscribe({next:r,error:i})})}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||t)(I(vi))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),nT=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=Kt,this.unrecoverable=Kt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zf));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new x(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||t)(I(vi))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var H0=new $("");function rT(){let t=C(ns);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let e=C(H0),n=C(me),r=C(Lt);n.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),n.runOutsideAngular(()=>{let i,{registrationStrategy:o}=t;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=U0(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),U0(+a[0])]);break;default:throw new x(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(s=>console.error(gn(5604,!1)))})})}function U0(t){return new Promise(e=>setTimeout(e,t))}function iT(t,e){return new vi(t.enabled!==!1?navigator.serviceWorker:void 0,e)}var ns=class{enabled;updateViaCache;type;scope;registrationStrategy};function W0(t,e={}){return Ni([tT,nT,{provide:H0,useValue:t},{provide:ns,useValue:e},{provide:vi,useFactory:iT,deps:[ns,He]},yd(rT)])}var oT=(t,e)=>e.id;function sT(t,e){if(t&1){let n=oe();g(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),Ze(4,"span",5),m(),g(5,"div",6)(6,"p",7),y(7),m()(),g(8,"div",8)(9,"button",9),O("click",function(){let i=M(n).$implicit,o=D();return T(o.notificationService.removeNotification(i.id))}),g(10,"span",10),y(11,"Cerrar"),m(),g(12,"span",11),y(13,"\xD7"),m()()()()()()}if(t&2){let n=e.$implicit,r=D();V("ngClass",r.getNotificationClass(n.type)),v(4),V("innerHTML",r.getIcon(n.type),Yu),v(3),A(" ",n.message," ")}}var q0=(()=>{let e=class e{constructor(r){this.notificationService=r}getNotificationClass(r){return{"notification-success":r==="success","notification-error":r==="error","notification-info":r==="info","notification-warning":r==="warning"}}getIcon(r){switch(r){case"success":return"\u2705";case"error":return"\u274C";case"info":return"\u2139\uFE0F";case"warning":return"\u26A0\uFE0F";default:return"\u2139\uFE0F"}}};e.\u0275fac=function(i){return new(i||e)(k(mi))},e.\u0275cmp=pe({type:e,selectors:[["app-notifications"]],decls:3,vars:0,consts:[[1,"fixed","top-4","right-4","z-50","space-y-2"],[1,"max-w-sm","w-full","shadow-lg","rounded-lg","pointer-events-auto","flex","transform","transition-all","duration-300","ease-in-out",3,"ngClass"],[1,"flex-1","w-0","p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],[1,"text-xl",3,"innerHTML"],[1,"ml-3","w-0","flex-1","pt-0.5"],[1,"text-sm","font-medium","text-gray-900"],[1,"ml-4","flex-shrink-0","flex"],[1,"rounded-md","inline-flex","text-gray-400","hover:text-gray-500","focus:outline-none",3,"click"],[1,"sr-only"],[1,"text-xl"]],template:function(i,o){i&1&&(g(0,"div",0),Pe(1,sT,14,3,"div",1,oT),m()),i&2&&(v(),Le(o.notificationService.notifications()))},dependencies:[fe,uo],styles:[".notification-success[_ngcontent-%COMP%]{background-color:#f0f9ff;border:1px solid #a7f3d0}.notification-error[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fca5a5}.notification-info[_ngcontent-%COMP%]{background-color:#eff6ff;border:1px solid #93c5fd}.notification-warning[_ngcontent-%COMP%]{background-color:#fffbeb;border:1px solid #fcd34d}"]});let t=e;return t})();function aT(t,e){t&1&&Ze(0,"app-menus-predefinidos")}function cT(t,e){t&1&&Ze(0,"app-dishes-management")}function lT(t,e){t&1&&Ze(0,"app-inventory-management")}function uT(t,e){t&1&&Ze(0,"app-shopping-list")}function dT(t,e){t&1&&Ze(0,"app-history")}function fT(t,e){t&1&&Ze(0,"app-weekly-menu")}var hT=(()=>{let e=class e{constructor(r,i){this.inventoryService=r,this.dishesService=i,this.activeTab="menu"}ngOnInit(){}onTabChange(r){this.activeTab=r}};e.\u0275fac=function(i){return new(i||e)(k(ht),k(pt))},e.\u0275cmp=pe({type:e,selectors:[["app-root"]],decls:11,vars:2,consts:[[1,"min-h-screen","bg-gray-50"],[3,"tabChange","activeTab"],[1,"container","mx-auto","max-w-7xl"]],template:function(i,o){if(i&1&&(g(0,"div",0),Ze(1,"app-header"),g(2,"app-navigation",1),O("tabChange",function(a){return o.onTabChange(a)}),m(),Ze(3,"app-notifications"),g(4,"main",2),ze(5,aT,1,0,"app-menus-predefinidos")(6,cT,1,0,"app-dishes-management")(7,lT,1,0,"app-inventory-management")(8,uT,1,0,"app-shopping-list")(9,dT,1,0,"app-history")(10,fT,1,0,"app-weekly-menu"),m()()),i&2){let s;v(2),V("activeTab",o.activeTab),v(3),Ye((s=o.activeTab)==="predefined"?5:s==="dishes"?6:s==="inventory"?7:s==="shopping"?8:s==="history"?9:10)}},dependencies:[fe,hy,py,P0,L0,$0,V0,B0,F0,q0],encapsulation:2});let t=e;return t})();Gd(hT,{providers:[W0("ngsw-worker.js",{enabled:!Jm(),registrationStrategy:"registerWhenStable:30000"})]});export{hT as App};
